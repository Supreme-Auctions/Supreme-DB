(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function s(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=s(r);fetch(r.href,i)}})();/**
* @vue/shared v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function _l(t){const e=Object.create(null);for(const s of t.split(","))e[s]=1;return s=>s in e}const Le={},er=[],es=()=>{},Tg=()=>!1,Do=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),yl=t=>t.startsWith("onUpdate:"),gt=Object.assign,wl=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},Sg=Object.prototype.hasOwnProperty,Oe=(t,e)=>Sg.call(t,e),le=Array.isArray,tr=t=>fi(t)==="[object Map]",_r=t=>fi(t)==="[object Set]",jc=t=>fi(t)==="[object Date]",pe=t=>typeof t=="function",Ke=t=>typeof t=="string",is=t=>typeof t=="symbol",je=t=>t!==null&&typeof t=="object",Qd=t=>(je(t)||pe(t))&&pe(t.then)&&pe(t.catch),Zd=Object.prototype.toString,fi=t=>Zd.call(t),Ig=t=>fi(t).slice(8,-1),eh=t=>fi(t)==="[object Object]",bl=t=>Ke(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Vr=_l(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),xo=t=>{const e=Object.create(null);return s=>e[s]||(e[s]=t(s))},kg=/-(\w)/g,Bt=xo(t=>t.replace(kg,(e,s)=>s?s.toUpperCase():"")),Ag=/\B([A-Z])/g,Cn=xo(t=>t.replace(Ag,"-$1").toLowerCase()),Uo=xo(t=>t.charAt(0).toUpperCase()+t.slice(1)),ua=xo(t=>t?`on${Uo(t)}`:""),Ys=(t,e)=>!Object.is(t,e),Zi=(t,...e)=>{for(let s=0;s<t.length;s++)t[s](...e)},th=(t,e,s,n=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:n,value:s})},uo=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Fc;const Lo=()=>Fc||(Fc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function No(t){if(le(t)){const e={};for(let s=0;s<t.length;s++){const n=t[s],r=Ke(n)?Og(n):No(n);if(r)for(const i in r)e[i]=r[i]}return e}else if(Ke(t)||je(t))return t}const Cg=/;(?![^(]*\))/g,Pg=/:([^]+)/,Rg=/\/\*[^]*?\*\//g;function Og(t){const e={};return t.replace(Rg,"").split(Cg).forEach(s=>{if(s){const n=s.split(Pg);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function jt(t){let e="";if(Ke(t))e=t;else if(le(t))for(let s=0;s<t.length;s++){const n=jt(t[s]);n&&(e+=n+" ")}else if(je(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}const Dg="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",xg=_l(Dg);function sh(t){return!!t||t===""}function Ug(t,e){if(t.length!==e.length)return!1;let s=!0;for(let n=0;s&&n<t.length;n++)s=pi(t[n],e[n]);return s}function pi(t,e){if(t===e)return!0;let s=jc(t),n=jc(e);if(s||n)return s&&n?t.getTime()===e.getTime():!1;if(s=is(t),n=is(e),s||n)return t===e;if(s=le(t),n=le(e),s||n)return s&&n?Ug(t,e):!1;if(s=je(t),n=je(e),s||n){if(!s||!n)return!1;const r=Object.keys(t).length,i=Object.keys(e).length;if(r!==i)return!1;for(const a in t){const c=t.hasOwnProperty(a),l=e.hasOwnProperty(a);if(c&&!l||!c&&l||!pi(t[a],e[a]))return!1}}return String(t)===String(e)}function El(t,e){return t.findIndex(s=>pi(s,e))}const nh=t=>!!(t&&t.__v_isRef===!0),ce=t=>Ke(t)?t:t==null?"":le(t)||je(t)&&(t.toString===Zd||!pe(t.toString))?nh(t)?ce(t.value):JSON.stringify(t,rh,2):String(t),rh=(t,e)=>nh(e)?rh(t,e.value):tr(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((s,[n,r],i)=>(s[da(n,i)+" =>"]=r,s),{})}:_r(e)?{[`Set(${e.size})`]:[...e.values()].map(s=>da(s))}:is(e)?da(e):je(e)&&!le(e)&&!eh(e)?String(e):e,da=(t,e="")=>{var s;return is(t)?`Symbol(${(s=t.description)!=null?s:e})`:t};/**
* @vue/reactivity v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ct;class Lg{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ct,!e&&Ct&&(this.index=(Ct.scopes||(Ct.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].pause();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].resume();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].resume()}}run(e){if(this._active){const s=Ct;try{return Ct=this,e()}finally{Ct=s}}}on(){++this._on===1&&(this.prevScope=Ct,Ct=this)}off(){this._on>0&&--this._on===0&&(Ct=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(this.effects.length=0,s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function Ng(){return Ct}let Me;const ha=new WeakSet;class ih{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ct&&Ct.active&&Ct.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,ha.has(this)&&(ha.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||ah(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Bc(this),lh(this);const e=Me,s=zt;Me=this,zt=!0;try{return this.fn()}finally{ch(this),Me=e,zt=s,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Il(e);this.deps=this.depsTail=void 0,Bc(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?ha.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){ja(this)&&this.run()}get dirty(){return ja(this)}}let oh=0,Hr,qr;function ah(t,e=!1){if(t.flags|=8,e){t.next=qr,qr=t;return}t.next=Hr,Hr=t}function Tl(){oh++}function Sl(){if(--oh>0)return;if(qr){let e=qr;for(qr=void 0;e;){const s=e.next;e.next=void 0,e.flags&=-9,e=s}}let t;for(;Hr;){let e=Hr;for(Hr=void 0;e;){const s=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(n){t||(t=n)}e=s}}if(t)throw t}function lh(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function ch(t){let e,s=t.depsTail,n=s;for(;n;){const r=n.prevDep;n.version===-1?(n===s&&(s=r),Il(n),Mg(n)):e=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=r}t.deps=e,t.depsTail=s}function ja(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(uh(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function uh(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===ni)||(t.globalVersion=ni,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!ja(t))))return;t.flags|=2;const e=t.dep,s=Me,n=zt;Me=t,zt=!0;try{lh(t);const r=t.fn(t._value);(e.version===0||Ys(r,t._value))&&(t.flags|=128,t._value=r,e.version++)}catch(r){throw e.version++,r}finally{Me=s,zt=n,ch(t),t.flags&=-3}}function Il(t,e=!1){const{dep:s,prevSub:n,nextSub:r}=t;if(n&&(n.nextSub=r,t.prevSub=void 0),r&&(r.prevSub=n,t.nextSub=void 0),s.subs===t&&(s.subs=n,!n&&s.computed)){s.computed.flags&=-5;for(let i=s.computed.deps;i;i=i.nextDep)Il(i,!0)}!e&&!--s.sc&&s.map&&s.map.delete(s.key)}function Mg(t){const{prevDep:e,nextDep:s}=t;e&&(e.nextDep=s,t.prevDep=void 0),s&&(s.prevDep=e,t.nextDep=void 0)}let zt=!0;const dh=[];function Cs(){dh.push(zt),zt=!1}function Ps(){const t=dh.pop();zt=t===void 0?!0:t}function Bc(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const s=Me;Me=void 0;try{e()}finally{Me=s}}}let ni=0;class jg{constructor(e,s){this.sub=e,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class kl{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Me||!zt||Me===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==Me)s=this.activeLink=new jg(Me,this),Me.deps?(s.prevDep=Me.depsTail,Me.depsTail.nextDep=s,Me.depsTail=s):Me.deps=Me.depsTail=s,hh(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const n=s.nextDep;n.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=n),s.prevDep=Me.depsTail,s.nextDep=void 0,Me.depsTail.nextDep=s,Me.depsTail=s,Me.deps===s&&(Me.deps=n)}return s}trigger(e){this.version++,ni++,this.notify(e)}notify(e){Tl();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{Sl()}}}function hh(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let n=e.deps;n;n=n.nextDep)hh(n)}const s=t.dep.subs;s!==t&&(t.prevSub=s,s&&(s.nextSub=t)),t.dep.subs=t}}const Fa=new WeakMap,Tn=Symbol(""),Ba=Symbol(""),ri=Symbol("");function ht(t,e,s){if(zt&&Me){let n=Fa.get(t);n||Fa.set(t,n=new Map);let r=n.get(s);r||(n.set(s,r=new kl),r.map=n,r.key=s),r.track()}}function _s(t,e,s,n,r,i){const a=Fa.get(t);if(!a){ni++;return}const c=l=>{l&&l.trigger()};if(Tl(),e==="clear")a.forEach(c);else{const l=le(t),d=l&&bl(s);if(l&&s==="length"){const h=Number(n);a.forEach((g,m)=>{(m==="length"||m===ri||!is(m)&&m>=h)&&c(g)})}else switch((s!==void 0||a.has(void 0))&&c(a.get(s)),d&&c(a.get(ri)),e){case"add":l?d&&c(a.get("length")):(c(a.get(Tn)),tr(t)&&c(a.get(Ba)));break;case"delete":l||(c(a.get(Tn)),tr(t)&&c(a.get(Ba)));break;case"set":tr(t)&&c(a.get(Tn));break}}Sl()}function Bn(t){const e=Re(t);return e===t?e:(ht(e,"iterate",ri),Ft(t)?e:e.map(lt))}function Mo(t){return ht(t=Re(t),"iterate",ri),t}const Fg={__proto__:null,[Symbol.iterator](){return fa(this,Symbol.iterator,lt)},concat(...t){return Bn(this).concat(...t.map(e=>le(e)?Bn(e):e))},entries(){return fa(this,"entries",t=>(t[1]=lt(t[1]),t))},every(t,e){return ps(this,"every",t,e,void 0,arguments)},filter(t,e){return ps(this,"filter",t,e,s=>s.map(lt),arguments)},find(t,e){return ps(this,"find",t,e,lt,arguments)},findIndex(t,e){return ps(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return ps(this,"findLast",t,e,lt,arguments)},findLastIndex(t,e){return ps(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return ps(this,"forEach",t,e,void 0,arguments)},includes(...t){return pa(this,"includes",t)},indexOf(...t){return pa(this,"indexOf",t)},join(t){return Bn(this).join(t)},lastIndexOf(...t){return pa(this,"lastIndexOf",t)},map(t,e){return ps(this,"map",t,e,void 0,arguments)},pop(){return xr(this,"pop")},push(...t){return xr(this,"push",t)},reduce(t,...e){return $c(this,"reduce",t,e)},reduceRight(t,...e){return $c(this,"reduceRight",t,e)},shift(){return xr(this,"shift")},some(t,e){return ps(this,"some",t,e,void 0,arguments)},splice(...t){return xr(this,"splice",t)},toReversed(){return Bn(this).toReversed()},toSorted(t){return Bn(this).toSorted(t)},toSpliced(...t){return Bn(this).toSpliced(...t)},unshift(...t){return xr(this,"unshift",t)},values(){return fa(this,"values",lt)}};function fa(t,e,s){const n=Mo(t),r=n[e]();return n!==t&&!Ft(t)&&(r._next=r.next,r.next=()=>{const i=r._next();return i.value&&(i.value=s(i.value)),i}),r}const Bg=Array.prototype;function ps(t,e,s,n,r,i){const a=Mo(t),c=a!==t&&!Ft(t),l=a[e];if(l!==Bg[e]){const g=l.apply(t,i);return c?lt(g):g}let d=s;a!==t&&(c?d=function(g,m){return s.call(this,lt(g),m,t)}:s.length>2&&(d=function(g,m){return s.call(this,g,m,t)}));const h=l.call(a,d,n);return c&&r?r(h):h}function $c(t,e,s,n){const r=Mo(t);let i=s;return r!==t&&(Ft(t)?s.length>3&&(i=function(a,c,l){return s.call(this,a,c,l,t)}):i=function(a,c,l){return s.call(this,a,lt(c),l,t)}),r[e](i,...n)}function pa(t,e,s){const n=Re(t);ht(n,"iterate",ri);const r=n[e](...s);return(r===-1||r===!1)&&Pl(s[0])?(s[0]=Re(s[0]),n[e](...s)):r}function xr(t,e,s=[]){Cs(),Tl();const n=Re(t)[e].apply(t,s);return Sl(),Ps(),n}const $g=_l("__proto__,__v_isRef,__isVue"),fh=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(is));function Vg(t){is(t)||(t=String(t));const e=Re(this);return ht(e,"has",t),e.hasOwnProperty(t)}class ph{constructor(e=!1,s=!1){this._isReadonly=e,this._isShallow=s}get(e,s,n){if(s==="__v_skip")return e.__v_skip;const r=this._isReadonly,i=this._isShallow;if(s==="__v_isReactive")return!r;if(s==="__v_isReadonly")return r;if(s==="__v_isShallow")return i;if(s==="__v_raw")return n===(r?i?Qg:_h:i?vh:mh).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const a=le(e);if(!r){let l;if(a&&(l=Fg[s]))return l;if(s==="hasOwnProperty")return Vg}const c=Reflect.get(e,s,pt(e)?e:n);return(is(s)?fh.has(s):$g(s))||(r||ht(e,"get",s),i)?c:pt(c)?a&&bl(s)?c:c.value:je(c)?r?wh(c):jo(c):c}}class gh extends ph{constructor(e=!1){super(!1,e)}set(e,s,n,r){let i=e[s];if(!this._isShallow){const l=Zs(i);if(!Ft(n)&&!Zs(n)&&(i=Re(i),n=Re(n)),!le(e)&&pt(i)&&!pt(n))return l?!1:(i.value=n,!0)}const a=le(e)&&bl(s)?Number(s)<e.length:Oe(e,s),c=Reflect.set(e,s,n,pt(e)?e:r);return e===Re(r)&&(a?Ys(n,i)&&_s(e,"set",s,n):_s(e,"add",s,n)),c}deleteProperty(e,s){const n=Oe(e,s);e[s];const r=Reflect.deleteProperty(e,s);return r&&n&&_s(e,"delete",s,void 0),r}has(e,s){const n=Reflect.has(e,s);return(!is(s)||!fh.has(s))&&ht(e,"has",s),n}ownKeys(e){return ht(e,"iterate",le(e)?"length":Tn),Reflect.ownKeys(e)}}class Hg extends ph{constructor(e=!1){super(!0,e)}set(e,s){return!0}deleteProperty(e,s){return!0}}const qg=new gh,Wg=new Hg,Kg=new gh(!0);const $a=t=>t,Vi=t=>Reflect.getPrototypeOf(t);function zg(t,e,s){return function(...n){const r=this.__v_raw,i=Re(r),a=tr(i),c=t==="entries"||t===Symbol.iterator&&a,l=t==="keys"&&a,d=r[t](...n),h=s?$a:e?ho:lt;return!e&&ht(i,"iterate",l?Ba:Tn),{next(){const{value:g,done:m}=d.next();return m?{value:g,done:m}:{value:c?[h(g[0]),h(g[1])]:h(g),done:m}},[Symbol.iterator](){return this}}}}function Hi(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Gg(t,e){const s={get(r){const i=this.__v_raw,a=Re(i),c=Re(r);t||(Ys(r,c)&&ht(a,"get",r),ht(a,"get",c));const{has:l}=Vi(a),d=e?$a:t?ho:lt;if(l.call(a,r))return d(i.get(r));if(l.call(a,c))return d(i.get(c));i!==a&&i.get(r)},get size(){const r=this.__v_raw;return!t&&ht(Re(r),"iterate",Tn),Reflect.get(r,"size",r)},has(r){const i=this.__v_raw,a=Re(i),c=Re(r);return t||(Ys(r,c)&&ht(a,"has",r),ht(a,"has",c)),r===c?i.has(r):i.has(r)||i.has(c)},forEach(r,i){const a=this,c=a.__v_raw,l=Re(c),d=e?$a:t?ho:lt;return!t&&ht(l,"iterate",Tn),c.forEach((h,g)=>r.call(i,d(h),d(g),a))}};return gt(s,t?{add:Hi("add"),set:Hi("set"),delete:Hi("delete"),clear:Hi("clear")}:{add(r){!e&&!Ft(r)&&!Zs(r)&&(r=Re(r));const i=Re(this);return Vi(i).has.call(i,r)||(i.add(r),_s(i,"add",r,r)),this},set(r,i){!e&&!Ft(i)&&!Zs(i)&&(i=Re(i));const a=Re(this),{has:c,get:l}=Vi(a);let d=c.call(a,r);d||(r=Re(r),d=c.call(a,r));const h=l.call(a,r);return a.set(r,i),d?Ys(i,h)&&_s(a,"set",r,i):_s(a,"add",r,i),this},delete(r){const i=Re(this),{has:a,get:c}=Vi(i);let l=a.call(i,r);l||(r=Re(r),l=a.call(i,r)),c&&c.call(i,r);const d=i.delete(r);return l&&_s(i,"delete",r,void 0),d},clear(){const r=Re(this),i=r.size!==0,a=r.clear();return i&&_s(r,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(r=>{s[r]=zg(r,t,e)}),s}function Al(t,e){const s=Gg(t,e);return(n,r,i)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?n:Reflect.get(Oe(s,r)&&r in n?s:n,r,i)}const Jg={get:Al(!1,!1)},Yg={get:Al(!1,!0)},Xg={get:Al(!0,!1)};const mh=new WeakMap,vh=new WeakMap,_h=new WeakMap,Qg=new WeakMap;function Zg(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function em(t){return t.__v_skip||!Object.isExtensible(t)?0:Zg(Ig(t))}function jo(t){return Zs(t)?t:Cl(t,!1,qg,Jg,mh)}function yh(t){return Cl(t,!1,Kg,Yg,vh)}function wh(t){return Cl(t,!0,Wg,Xg,_h)}function Cl(t,e,s,n,r){if(!je(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=em(t);if(i===0)return t;const a=r.get(t);if(a)return a;const c=new Proxy(t,i===2?n:s);return r.set(t,c),c}function sr(t){return Zs(t)?sr(t.__v_raw):!!(t&&t.__v_isReactive)}function Zs(t){return!!(t&&t.__v_isReadonly)}function Ft(t){return!!(t&&t.__v_isShallow)}function Pl(t){return t?!!t.__v_raw:!1}function Re(t){const e=t&&t.__v_raw;return e?Re(e):t}function tm(t){return!Oe(t,"__v_skip")&&Object.isExtensible(t)&&th(t,"__v_skip",!0),t}const lt=t=>je(t)?jo(t):t,ho=t=>je(t)?wh(t):t;function pt(t){return t?t.__v_isRef===!0:!1}function de(t){return bh(t,!1)}function sm(t){return bh(t,!0)}function bh(t,e){return pt(t)?t:new nm(t,e)}class nm{constructor(e,s){this.dep=new kl,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?e:Re(e),this._value=s?e:lt(e),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(e){const s=this._rawValue,n=this.__v_isShallow||Ft(e)||Zs(e);e=n?e:Re(e),Ys(e,s)&&(this._rawValue=e,this._value=n?e:lt(e),this.dep.trigger())}}function nr(t){return pt(t)?t.value:t}const rm={get:(t,e,s)=>e==="__v_raw"?t:nr(Reflect.get(t,e,s)),set:(t,e,s,n)=>{const r=t[e];return pt(r)&&!pt(s)?(r.value=s,!0):Reflect.set(t,e,s,n)}};function Eh(t){return sr(t)?t:new Proxy(t,rm)}class im{constructor(e,s,n){this.fn=e,this.setter=s,this._value=void 0,this.dep=new kl(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ni-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&Me!==this)return ah(this,!0),!0}get value(){const e=this.dep.track();return uh(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function om(t,e,s=!1){let n,r;return pe(t)?n=t:(n=t.get,r=t.set),new im(n,r,s)}const qi={},fo=new WeakMap;let yn;function am(t,e=!1,s=yn){if(s){let n=fo.get(s);n||fo.set(s,n=[]),n.push(t)}}function lm(t,e,s=Le){const{immediate:n,deep:r,once:i,scheduler:a,augmentJob:c,call:l}=s,d=B=>r?B:Ft(B)||r===!1||r===0?ys(B,1):ys(B);let h,g,m,y,P=!1,U=!1;if(pt(t)?(g=()=>t.value,P=Ft(t)):sr(t)?(g=()=>d(t),P=!0):le(t)?(U=!0,P=t.some(B=>sr(B)||Ft(B)),g=()=>t.map(B=>{if(pt(B))return B.value;if(sr(B))return d(B);if(pe(B))return l?l(B,2):B()})):pe(t)?e?g=l?()=>l(t,2):t:g=()=>{if(m){Cs();try{m()}finally{Ps()}}const B=yn;yn=h;try{return l?l(t,3,[y]):t(y)}finally{yn=B}}:g=es,e&&r){const B=g,ee=r===!0?1/0:r;g=()=>ys(B(),ee)}const L=Ng(),W=()=>{h.stop(),L&&L.active&&wl(L.effects,h)};if(i&&e){const B=e;e=(...ee)=>{B(...ee),W()}}let H=U?new Array(t.length).fill(qi):qi;const $=B=>{if(!(!(h.flags&1)||!h.dirty&&!B))if(e){const ee=h.run();if(r||P||(U?ee.some((_e,S)=>Ys(_e,H[S])):Ys(ee,H))){m&&m();const _e=yn;yn=h;try{const S=[ee,H===qi?void 0:U&&H[0]===qi?[]:H,y];H=ee,l?l(e,3,S):e(...S)}finally{yn=_e}}}else h.run()};return c&&c($),h=new ih(g),h.scheduler=a?()=>a($,!1):$,y=B=>am(B,!1,h),m=h.onStop=()=>{const B=fo.get(h);if(B){if(l)l(B,4);else for(const ee of B)ee();fo.delete(h)}},e?n?$(!0):H=h.run():a?a($.bind(null,!0),!0):h.run(),W.pause=h.pause.bind(h),W.resume=h.resume.bind(h),W.stop=W,W}function ys(t,e=1/0,s){if(e<=0||!je(t)||t.__v_skip||(s=s||new Set,s.has(t)))return t;if(s.add(t),e--,pt(t))ys(t.value,e,s);else if(le(t))for(let n=0;n<t.length;n++)ys(t[n],e,s);else if(_r(t)||tr(t))t.forEach(n=>{ys(n,e,s)});else if(eh(t)){for(const n in t)ys(t[n],e,s);for(const n of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,n)&&ys(t[n],e,s)}return t}/**
* @vue/runtime-core v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function gi(t,e,s,n){try{return n?t(...n):t()}catch(r){Fo(r,e,s)}}function os(t,e,s,n){if(pe(t)){const r=gi(t,e,s,n);return r&&Qd(r)&&r.catch(i=>{Fo(i,e,s)}),r}if(le(t)){const r=[];for(let i=0;i<t.length;i++)r.push(os(t[i],e,s,n));return r}}function Fo(t,e,s,n=!0){const r=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:a}=e&&e.appContext.config||Le;if(e){let c=e.parent;const l=e.proxy,d=`https://vuejs.org/error-reference/#runtime-${s}`;for(;c;){const h=c.ec;if(h){for(let g=0;g<h.length;g++)if(h[g](t,l,d)===!1)return}c=c.parent}if(i){Cs(),gi(i,null,10,[t,l,d]),Ps();return}}cm(t,s,r,n,a)}function cm(t,e,s,n=!0,r=!1){if(r)throw t;console.error(t)}const bt=[];let Qt=-1;const rr=[];let qs=null,Yn=0;const Th=Promise.resolve();let po=null;function Rl(t){const e=po||Th;return t?e.then(this?t.bind(this):t):e}function um(t){let e=Qt+1,s=bt.length;for(;e<s;){const n=e+s>>>1,r=bt[n],i=ii(r);i<t||i===t&&r.flags&2?e=n+1:s=n}return e}function Ol(t){if(!(t.flags&1)){const e=ii(t),s=bt[bt.length-1];!s||!(t.flags&2)&&e>=ii(s)?bt.push(t):bt.splice(um(e),0,t),t.flags|=1,Sh()}}function Sh(){po||(po=Th.then(kh))}function dm(t){le(t)?rr.push(...t):qs&&t.id===-1?qs.splice(Yn+1,0,t):t.flags&1||(rr.push(t),t.flags|=1),Sh()}function Vc(t,e,s=Qt+1){for(;s<bt.length;s++){const n=bt[s];if(n&&n.flags&2){if(t&&n.id!==t.uid)continue;bt.splice(s,1),s--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function Ih(t){if(rr.length){const e=[...new Set(rr)].sort((s,n)=>ii(s)-ii(n));if(rr.length=0,qs){qs.push(...e);return}for(qs=e,Yn=0;Yn<qs.length;Yn++){const s=qs[Yn];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}qs=null,Yn=0}}const ii=t=>t.id==null?t.flags&2?-1:1/0:t.id;function kh(t){try{for(Qt=0;Qt<bt.length;Qt++){const e=bt[Qt];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),gi(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Qt<bt.length;Qt++){const e=bt[Qt];e&&(e.flags&=-2)}Qt=-1,bt.length=0,Ih(),po=null,(bt.length||rr.length)&&kh()}}let Ut=null,Ah=null;function go(t){const e=Ut;return Ut=t,Ah=t&&t.type.__scopeId||null,e}function hm(t,e=Ut,s){if(!e||t._n)return t;const n=(...r)=>{n._d&&Qc(-1);const i=go(e);let a;try{a=t(...r)}finally{go(i),n._d&&Qc(1)}return a};return n._n=!0,n._c=!0,n._d=!0,n}function Ce(t,e){if(Ut===null)return t;const s=Ho(Ut),n=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[i,a,c,l=Le]=e[r];i&&(pe(i)&&(i={mounted:i,updated:i}),i.deep&&ys(a),n.push({dir:i,instance:s,value:a,oldValue:void 0,arg:c,modifiers:l}))}return t}function gn(t,e,s,n){const r=t.dirs,i=e&&e.dirs;for(let a=0;a<r.length;a++){const c=r[a];i&&(c.oldValue=i[a].value);let l=c.dir[n];l&&(Cs(),os(l,s,8,[t.el,c,t,e]),Ps())}}const fm=Symbol("_vte"),pm=t=>t.__isTeleport;function Dl(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Dl(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function Ch(t,e){return pe(t)?gt({name:t.name},e,{setup:t}):t}function Ph(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function mo(t,e,s,n,r=!1){if(le(t)){t.forEach((P,U)=>mo(P,e&&(le(e)?e[U]:e),s,n,r));return}if(Wr(n)&&!r){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&mo(t,e,s,n.component.subTree);return}const i=n.shapeFlag&4?Ho(n.component):n.el,a=r?null:i,{i:c,r:l}=t,d=e&&e.r,h=c.refs===Le?c.refs={}:c.refs,g=c.setupState,m=Re(g),y=g===Le?()=>!1:P=>Oe(m,P);if(d!=null&&d!==l&&(Ke(d)?(h[d]=null,y(d)&&(g[d]=null)):pt(d)&&(d.value=null)),pe(l))gi(l,c,12,[a,h]);else{const P=Ke(l),U=pt(l);if(P||U){const L=()=>{if(t.f){const W=P?y(l)?g[l]:h[l]:l.value;r?le(W)&&wl(W,i):le(W)?W.includes(i)||W.push(i):P?(h[l]=[i],y(l)&&(g[l]=h[l])):(l.value=[i],t.k&&(h[t.k]=l.value))}else P?(h[l]=a,y(l)&&(g[l]=a)):U&&(l.value=a,t.k&&(h[t.k]=a))};a?(L.id=-1,Dt(L,s)):L()}}}Lo().requestIdleCallback;Lo().cancelIdleCallback;const Wr=t=>!!t.type.__asyncLoader,Rh=t=>t.type.__isKeepAlive;function gm(t,e){Oh(t,"a",e)}function mm(t,e){Oh(t,"da",e)}function Oh(t,e,s=ft){const n=t.__wdc||(t.__wdc=()=>{let r=s;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(Bo(e,n,s),s){let r=s.parent;for(;r&&r.parent;)Rh(r.parent.vnode)&&vm(n,e,s,r),r=r.parent}}function vm(t,e,s,n){const r=Bo(e,t,n,!0);xh(()=>{wl(n[e],r)},s)}function Bo(t,e,s=ft,n=!1){if(s){const r=s[t]||(s[t]=[]),i=e.__weh||(e.__weh=(...a)=>{Cs();const c=mi(s),l=os(e,s,t,a);return c(),Ps(),l});return n?r.unshift(i):r.push(i),i}}const Ds=t=>(e,s=ft)=>{(!ai||t==="sp")&&Bo(t,(...n)=>e(...n),s)},_m=Ds("bm"),Dh=Ds("m"),ym=Ds("bu"),wm=Ds("u"),bm=Ds("bum"),xh=Ds("um"),Em=Ds("sp"),Tm=Ds("rtg"),Sm=Ds("rtc");function Im(t,e=ft){Bo("ec",t,e)}const km="components";function Am(t,e){return Pm(km,t,!0,e)||t}const Cm=Symbol.for("v-ndc");function Pm(t,e,s=!0,n=!1){const r=Ut||ft;if(r){const i=r.type;{const c=gv(i,!1);if(c&&(c===e||c===Bt(e)||c===Uo(Bt(e))))return i}const a=Hc(r[t]||i[t],e)||Hc(r.appContext[t],e);return!a&&n?i:a}}function Hc(t,e){return t&&(t[e]||t[Bt(e)]||t[Uo(Bt(e))])}function mn(t,e,s,n){let r;const i=s,a=le(t);if(a||Ke(t)){const c=a&&sr(t);let l=!1,d=!1;c&&(l=!Ft(t),d=Zs(t),t=Mo(t)),r=new Array(t.length);for(let h=0,g=t.length;h<g;h++)r[h]=e(l?d?ho(lt(t[h])):lt(t[h]):t[h],h,void 0,i)}else if(typeof t=="number"){r=new Array(t);for(let c=0;c<t;c++)r[c]=e(c+1,c,void 0,i)}else if(je(t))if(t[Symbol.iterator])r=Array.from(t,(c,l)=>e(c,l,void 0,i));else{const c=Object.keys(t);r=new Array(c.length);for(let l=0,d=c.length;l<d;l++){const h=c[l];r[l]=e(t[h],h,l,i)}}else r=[];return r}const Va=t=>t?ef(t)?Ho(t):Va(t.parent):null,Kr=gt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Va(t.parent),$root:t=>Va(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Lh(t),$forceUpdate:t=>t.f||(t.f=()=>{Ol(t.update)}),$nextTick:t=>t.n||(t.n=Rl.bind(t.proxy)),$watch:t=>Ym.bind(t)}),ga=(t,e)=>t!==Le&&!t.__isScriptSetup&&Oe(t,e),Rm={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:s,setupState:n,data:r,props:i,accessCache:a,type:c,appContext:l}=t;let d;if(e[0]!=="$"){const y=a[e];if(y!==void 0)switch(y){case 1:return n[e];case 2:return r[e];case 4:return s[e];case 3:return i[e]}else{if(ga(n,e))return a[e]=1,n[e];if(r!==Le&&Oe(r,e))return a[e]=2,r[e];if((d=t.propsOptions[0])&&Oe(d,e))return a[e]=3,i[e];if(s!==Le&&Oe(s,e))return a[e]=4,s[e];Ha&&(a[e]=0)}}const h=Kr[e];let g,m;if(h)return e==="$attrs"&&ht(t.attrs,"get",""),h(t);if((g=c.__cssModules)&&(g=g[e]))return g;if(s!==Le&&Oe(s,e))return a[e]=4,s[e];if(m=l.config.globalProperties,Oe(m,e))return m[e]},set({_:t},e,s){const{data:n,setupState:r,ctx:i}=t;return ga(r,e)?(r[e]=s,!0):n!==Le&&Oe(n,e)?(n[e]=s,!0):Oe(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:n,appContext:r,propsOptions:i}},a){let c;return!!s[a]||t!==Le&&Oe(t,a)||ga(e,a)||(c=i[0])&&Oe(c,a)||Oe(n,a)||Oe(Kr,a)||Oe(r.config.globalProperties,a)},defineProperty(t,e,s){return s.get!=null?t._.accessCache[e]=0:Oe(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}};function qc(t){return le(t)?t.reduce((e,s)=>(e[s]=null,e),{}):t}let Ha=!0;function Om(t){const e=Lh(t),s=t.proxy,n=t.ctx;Ha=!1,e.beforeCreate&&Wc(e.beforeCreate,t,"bc");const{data:r,computed:i,methods:a,watch:c,provide:l,inject:d,created:h,beforeMount:g,mounted:m,beforeUpdate:y,updated:P,activated:U,deactivated:L,beforeDestroy:W,beforeUnmount:H,destroyed:$,unmounted:B,render:ee,renderTracked:_e,renderTriggered:S,errorCaptured:_,serverPrefetch:T,expose:I,inheritAttrs:k,components:A,directives:E,filters:ze}=e;if(d&&Dm(d,n,null),a)for(const ve in a){const ge=a[ve];pe(ge)&&(n[ve]=ge.bind(s))}if(r){const ve=r.call(s,s);je(ve)&&(t.data=jo(ve))}if(Ha=!0,i)for(const ve in i){const ge=i[ve],rt=pe(ge)?ge.bind(s,s):pe(ge.get)?ge.get.bind(s,s):es,Tt=!pe(ge)&&pe(ge.set)?ge.set.bind(s):es,mt=Be({get:rt,set:Tt});Object.defineProperty(n,ve,{enumerable:!0,configurable:!0,get:()=>mt.value,set:Te=>mt.value=Te})}if(c)for(const ve in c)Uh(c[ve],n,s,ve);if(l){const ve=pe(l)?l.call(s):l;Reflect.ownKeys(ve).forEach(ge=>{eo(ge,ve[ge])})}h&&Wc(h,t,"c");function xe(ve,ge){le(ge)?ge.forEach(rt=>ve(rt.bind(s))):ge&&ve(ge.bind(s))}if(xe(_m,g),xe(Dh,m),xe(ym,y),xe(wm,P),xe(gm,U),xe(mm,L),xe(Im,_),xe(Sm,_e),xe(Tm,S),xe(bm,H),xe(xh,B),xe(Em,T),le(I))if(I.length){const ve=t.exposed||(t.exposed={});I.forEach(ge=>{Object.defineProperty(ve,ge,{get:()=>s[ge],set:rt=>s[ge]=rt})})}else t.exposed||(t.exposed={});ee&&t.render===es&&(t.render=ee),k!=null&&(t.inheritAttrs=k),A&&(t.components=A),E&&(t.directives=E),T&&Ph(t)}function Dm(t,e,s=es){le(t)&&(t=qa(t));for(const n in t){const r=t[n];let i;je(r)?"default"in r?i=ts(r.from||n,r.default,!0):i=ts(r.from||n):i=ts(r),pt(i)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>i.value,set:a=>i.value=a}):e[n]=i}}function Wc(t,e,s){os(le(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,s)}function Uh(t,e,s,n){let r=n.includes(".")?Gh(s,n):()=>s[n];if(Ke(t)){const i=e[t];pe(i)&&to(r,i)}else if(pe(t))to(r,t.bind(s));else if(je(t))if(le(t))t.forEach(i=>Uh(i,e,s,n));else{const i=pe(t.handler)?t.handler.bind(s):e[t.handler];pe(i)&&to(r,i,t)}}function Lh(t){const e=t.type,{mixins:s,extends:n}=e,{mixins:r,optionsCache:i,config:{optionMergeStrategies:a}}=t.appContext,c=i.get(e);let l;return c?l=c:!r.length&&!s&&!n?l=e:(l={},r.length&&r.forEach(d=>vo(l,d,a,!0)),vo(l,e,a)),je(e)&&i.set(e,l),l}function vo(t,e,s,n=!1){const{mixins:r,extends:i}=e;i&&vo(t,i,s,!0),r&&r.forEach(a=>vo(t,a,s,!0));for(const a in e)if(!(n&&a==="expose")){const c=xm[a]||s&&s[a];t[a]=c?c(t[a],e[a]):e[a]}return t}const xm={data:Kc,props:zc,emits:zc,methods:jr,computed:jr,beforeCreate:_t,created:_t,beforeMount:_t,mounted:_t,beforeUpdate:_t,updated:_t,beforeDestroy:_t,beforeUnmount:_t,destroyed:_t,unmounted:_t,activated:_t,deactivated:_t,errorCaptured:_t,serverPrefetch:_t,components:jr,directives:jr,watch:Lm,provide:Kc,inject:Um};function Kc(t,e){return e?t?function(){return gt(pe(t)?t.call(this,this):t,pe(e)?e.call(this,this):e)}:e:t}function Um(t,e){return jr(qa(t),qa(e))}function qa(t){if(le(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function _t(t,e){return t?[...new Set([].concat(t,e))]:e}function jr(t,e){return t?gt(Object.create(null),t,e):e}function zc(t,e){return t?le(t)&&le(e)?[...new Set([...t,...e])]:gt(Object.create(null),qc(t),qc(e??{})):e}function Lm(t,e){if(!t)return e;if(!e)return t;const s=gt(Object.create(null),t);for(const n in e)s[n]=_t(t[n],e[n]);return s}function Nh(){return{app:null,config:{isNativeTag:Tg,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Nm=0;function Mm(t,e){return function(n,r=null){pe(n)||(n=gt({},n)),r!=null&&!je(r)&&(r=null);const i=Nh(),a=new WeakSet,c=[];let l=!1;const d=i.app={_uid:Nm++,_component:n,_props:r,_container:null,_context:i,_instance:null,version:vv,get config(){return i.config},set config(h){},use(h,...g){return a.has(h)||(h&&pe(h.install)?(a.add(h),h.install(d,...g)):pe(h)&&(a.add(h),h(d,...g))),d},mixin(h){return i.mixins.includes(h)||i.mixins.push(h),d},component(h,g){return g?(i.components[h]=g,d):i.components[h]},directive(h,g){return g?(i.directives[h]=g,d):i.directives[h]},mount(h,g,m){if(!l){const y=d._ceVNode||Ot(n,r);return y.appContext=i,m===!0?m="svg":m===!1&&(m=void 0),t(y,h,m),l=!0,d._container=h,h.__vue_app__=d,Ho(y.component)}},onUnmount(h){c.push(h)},unmount(){l&&(os(c,d._instance,16),t(null,d._container),delete d._container.__vue_app__)},provide(h,g){return i.provides[h]=g,d},runWithContext(h){const g=ir;ir=d;try{return h()}finally{ir=g}}};return d}}let ir=null;function eo(t,e){if(ft){let s=ft.provides;const n=ft.parent&&ft.parent.provides;n===s&&(s=ft.provides=Object.create(n)),s[t]=e}}function ts(t,e,s=!1){const n=ft||Ut;if(n||ir){let r=ir?ir._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(r&&t in r)return r[t];if(arguments.length>1)return s&&pe(e)?e.call(n&&n.proxy):e}}const Mh={},jh=()=>Object.create(Mh),Fh=t=>Object.getPrototypeOf(t)===Mh;function jm(t,e,s,n=!1){const r={},i=jh();t.propsDefaults=Object.create(null),Bh(t,e,r,i);for(const a in t.propsOptions[0])a in r||(r[a]=void 0);s?t.props=n?r:yh(r):t.type.props?t.props=r:t.props=i,t.attrs=i}function Fm(t,e,s,n){const{props:r,attrs:i,vnode:{patchFlag:a}}=t,c=Re(r),[l]=t.propsOptions;let d=!1;if((n||a>0)&&!(a&16)){if(a&8){const h=t.vnode.dynamicProps;for(let g=0;g<h.length;g++){let m=h[g];if($o(t.emitsOptions,m))continue;const y=e[m];if(l)if(Oe(i,m))y!==i[m]&&(i[m]=y,d=!0);else{const P=Bt(m);r[P]=Wa(l,c,P,y,t,!1)}else y!==i[m]&&(i[m]=y,d=!0)}}}else{Bh(t,e,r,i)&&(d=!0);let h;for(const g in c)(!e||!Oe(e,g)&&((h=Cn(g))===g||!Oe(e,h)))&&(l?s&&(s[g]!==void 0||s[h]!==void 0)&&(r[g]=Wa(l,c,g,void 0,t,!0)):delete r[g]);if(i!==c)for(const g in i)(!e||!Oe(e,g))&&(delete i[g],d=!0)}d&&_s(t.attrs,"set","")}function Bh(t,e,s,n){const[r,i]=t.propsOptions;let a=!1,c;if(e)for(let l in e){if(Vr(l))continue;const d=e[l];let h;r&&Oe(r,h=Bt(l))?!i||!i.includes(h)?s[h]=d:(c||(c={}))[h]=d:$o(t.emitsOptions,l)||(!(l in n)||d!==n[l])&&(n[l]=d,a=!0)}if(i){const l=Re(s),d=c||Le;for(let h=0;h<i.length;h++){const g=i[h];s[g]=Wa(r,l,g,d[g],t,!Oe(d,g))}}return a}function Wa(t,e,s,n,r,i){const a=t[s];if(a!=null){const c=Oe(a,"default");if(c&&n===void 0){const l=a.default;if(a.type!==Function&&!a.skipFactory&&pe(l)){const{propsDefaults:d}=r;if(s in d)n=d[s];else{const h=mi(r);n=d[s]=l.call(null,e),h()}}else n=l;r.ce&&r.ce._setProp(s,n)}a[0]&&(i&&!c?n=!1:a[1]&&(n===""||n===Cn(s))&&(n=!0))}return n}const Bm=new WeakMap;function $h(t,e,s=!1){const n=s?Bm:e.propsCache,r=n.get(t);if(r)return r;const i=t.props,a={},c=[];let l=!1;if(!pe(t)){const h=g=>{l=!0;const[m,y]=$h(g,e,!0);gt(a,m),y&&c.push(...y)};!s&&e.mixins.length&&e.mixins.forEach(h),t.extends&&h(t.extends),t.mixins&&t.mixins.forEach(h)}if(!i&&!l)return je(t)&&n.set(t,er),er;if(le(i))for(let h=0;h<i.length;h++){const g=Bt(i[h]);Gc(g)&&(a[g]=Le)}else if(i)for(const h in i){const g=Bt(h);if(Gc(g)){const m=i[h],y=a[g]=le(m)||pe(m)?{type:m}:gt({},m),P=y.type;let U=!1,L=!0;if(le(P))for(let W=0;W<P.length;++W){const H=P[W],$=pe(H)&&H.name;if($==="Boolean"){U=!0;break}else $==="String"&&(L=!1)}else U=pe(P)&&P.name==="Boolean";y[0]=U,y[1]=L,(U||Oe(y,"default"))&&c.push(g)}}const d=[a,c];return je(t)&&n.set(t,d),d}function Gc(t){return t[0]!=="$"&&!Vr(t)}const xl=t=>t[0]==="_"||t==="$stable",Ul=t=>le(t)?t.map(Zt):[Zt(t)],$m=(t,e,s)=>{if(e._n)return e;const n=hm((...r)=>Ul(e(...r)),s);return n._c=!1,n},Vh=(t,e,s)=>{const n=t._ctx;for(const r in t){if(xl(r))continue;const i=t[r];if(pe(i))e[r]=$m(r,i,n);else if(i!=null){const a=Ul(i);e[r]=()=>a}}},Hh=(t,e)=>{const s=Ul(e);t.slots.default=()=>s},qh=(t,e,s)=>{for(const n in e)(s||!xl(n))&&(t[n]=e[n])},Vm=(t,e,s)=>{const n=t.slots=jh();if(t.vnode.shapeFlag&32){const r=e._;r?(qh(n,e,s),s&&th(n,"_",r,!0)):Vh(e,n)}else e&&Hh(t,e)},Hm=(t,e,s)=>{const{vnode:n,slots:r}=t;let i=!0,a=Le;if(n.shapeFlag&32){const c=e._;c?s&&c===1?i=!1:qh(r,e,s):(i=!e.$stable,Vh(e,r)),a=e}else e&&(Hh(t,e),a={default:1});if(i)for(const c in r)!xl(c)&&a[c]==null&&delete r[c]},Dt=nv;function qm(t){return Wm(t)}function Wm(t,e){const s=Lo();s.__VUE__=!0;const{insert:n,remove:r,patchProp:i,createElement:a,createText:c,createComment:l,setText:d,setElementText:h,parentNode:g,nextSibling:m,setScopeId:y=es,insertStaticContent:P}=t,U=(w,b,C,M=null,F=null,j=null,J=void 0,q=null,K=!!b.dynamicChildren)=>{if(w===b)return;w&&!Ur(w,b)&&(M=N(w),Te(w,F,j,!0),w=null),b.patchFlag===-2&&(K=!1,b.dynamicChildren=null);const{type:V,ref:te,shapeFlag:Y}=b;switch(V){case Vo:L(w,b,C,M);break;case en:W(w,b,C,M);break;case so:w==null&&H(b,C,M,J);break;case dt:A(w,b,C,M,F,j,J,q,K);break;default:Y&1?ee(w,b,C,M,F,j,J,q,K):Y&6?E(w,b,C,M,F,j,J,q,K):(Y&64||Y&128)&&V.process(w,b,C,M,F,j,J,q,K,Z)}te!=null&&F&&mo(te,w&&w.ref,j,b||w,!b)},L=(w,b,C,M)=>{if(w==null)n(b.el=c(b.children),C,M);else{const F=b.el=w.el;b.children!==w.children&&d(F,b.children)}},W=(w,b,C,M)=>{w==null?n(b.el=l(b.children||""),C,M):b.el=w.el},H=(w,b,C,M)=>{[w.el,w.anchor]=P(w.children,b,C,M,w.el,w.anchor)},$=({el:w,anchor:b},C,M)=>{let F;for(;w&&w!==b;)F=m(w),n(w,C,M),w=F;n(b,C,M)},B=({el:w,anchor:b})=>{let C;for(;w&&w!==b;)C=m(w),r(w),w=C;r(b)},ee=(w,b,C,M,F,j,J,q,K)=>{b.type==="svg"?J="svg":b.type==="math"&&(J="mathml"),w==null?_e(b,C,M,F,j,J,q,K):T(w,b,F,j,J,q,K)},_e=(w,b,C,M,F,j,J,q)=>{let K,V;const{props:te,shapeFlag:Y,transition:se,dirs:oe}=w;if(K=w.el=a(w.type,j,te&&te.is,te),Y&8?h(K,w.children):Y&16&&_(w.children,K,null,M,F,ma(w,j),J,q),oe&&gn(w,null,M,"created"),S(K,w,w.scopeId,J,M),te){for(const he in te)he!=="value"&&!Vr(he)&&i(K,he,null,te[he],j,M);"value"in te&&i(K,"value",null,te.value,j),(V=te.onVnodeBeforeMount)&&Yt(V,M,w)}oe&&gn(w,null,M,"beforeMount");const ie=Km(F,se);ie&&se.beforeEnter(K),n(K,b,C),((V=te&&te.onVnodeMounted)||ie||oe)&&Dt(()=>{V&&Yt(V,M,w),ie&&se.enter(K),oe&&gn(w,null,M,"mounted")},F)},S=(w,b,C,M,F)=>{if(C&&y(w,C),M)for(let j=0;j<M.length;j++)y(w,M[j]);if(F){let j=F.subTree;if(b===j||Yh(j.type)&&(j.ssContent===b||j.ssFallback===b)){const J=F.vnode;S(w,J,J.scopeId,J.slotScopeIds,F.parent)}}},_=(w,b,C,M,F,j,J,q,K=0)=>{for(let V=K;V<w.length;V++){const te=w[V]=q?Ws(w[V]):Zt(w[V]);U(null,te,b,C,M,F,j,J,q)}},T=(w,b,C,M,F,j,J)=>{const q=b.el=w.el;let{patchFlag:K,dynamicChildren:V,dirs:te}=b;K|=w.patchFlag&16;const Y=w.props||Le,se=b.props||Le;let oe;if(C&&vn(C,!1),(oe=se.onVnodeBeforeUpdate)&&Yt(oe,C,b,w),te&&gn(b,w,C,"beforeUpdate"),C&&vn(C,!0),(Y.innerHTML&&se.innerHTML==null||Y.textContent&&se.textContent==null)&&h(q,""),V?I(w.dynamicChildren,V,q,C,M,ma(b,F),j):J||ge(w,b,q,null,C,M,ma(b,F),j,!1),K>0){if(K&16)k(q,Y,se,C,F);else if(K&2&&Y.class!==se.class&&i(q,"class",null,se.class,F),K&4&&i(q,"style",Y.style,se.style,F),K&8){const ie=b.dynamicProps;for(let he=0;he<ie.length;he++){const be=ie[he],et=Y[be],Ye=se[be];(Ye!==et||be==="value")&&i(q,be,et,Ye,F,C)}}K&1&&w.children!==b.children&&h(q,b.children)}else!J&&V==null&&k(q,Y,se,C,F);((oe=se.onVnodeUpdated)||te)&&Dt(()=>{oe&&Yt(oe,C,b,w),te&&gn(b,w,C,"updated")},M)},I=(w,b,C,M,F,j,J)=>{for(let q=0;q<b.length;q++){const K=w[q],V=b[q],te=K.el&&(K.type===dt||!Ur(K,V)||K.shapeFlag&198)?g(K.el):C;U(K,V,te,null,M,F,j,J,!0)}},k=(w,b,C,M,F)=>{if(b!==C){if(b!==Le)for(const j in b)!Vr(j)&&!(j in C)&&i(w,j,b[j],null,F,M);for(const j in C){if(Vr(j))continue;const J=C[j],q=b[j];J!==q&&j!=="value"&&i(w,j,q,J,F,M)}"value"in C&&i(w,"value",b.value,C.value,F)}},A=(w,b,C,M,F,j,J,q,K)=>{const V=b.el=w?w.el:c(""),te=b.anchor=w?w.anchor:c("");let{patchFlag:Y,dynamicChildren:se,slotScopeIds:oe}=b;oe&&(q=q?q.concat(oe):oe),w==null?(n(V,C,M),n(te,C,M),_(b.children||[],C,te,F,j,J,q,K)):Y>0&&Y&64&&se&&w.dynamicChildren?(I(w.dynamicChildren,se,C,F,j,J,q),(b.key!=null||F&&b===F.subTree)&&Wh(w,b,!0)):ge(w,b,C,te,F,j,J,q,K)},E=(w,b,C,M,F,j,J,q,K)=>{b.slotScopeIds=q,w==null?b.shapeFlag&512?F.ctx.activate(b,C,M,J,K):ze(b,C,M,F,j,J,K):Ge(w,b,K)},ze=(w,b,C,M,F,j,J)=>{const q=w.component=uv(w,M,F);if(Rh(w)&&(q.ctx.renderer=Z),dv(q,!1,J),q.asyncDep){if(F&&F.registerDep(q,xe,J),!w.el){const K=q.subTree=Ot(en);W(null,K,b,C)}}else xe(q,w,b,C,F,j,J)},Ge=(w,b,C)=>{const M=b.component=w.component;if(tv(w,b,C))if(M.asyncDep&&!M.asyncResolved){ve(M,b,C);return}else M.next=b,M.update();else b.el=w.el,M.vnode=b},xe=(w,b,C,M,F,j,J)=>{const q=()=>{if(w.isMounted){let{next:Y,bu:se,u:oe,parent:ie,vnode:he}=w;{const $e=Kh(w);if($e){Y&&(Y.el=he.el,ve(w,Y,J)),$e.asyncDep.then(()=>{w.isUnmounted||q()});return}}let be=Y,et;vn(w,!1),Y?(Y.el=he.el,ve(w,Y,J)):Y=he,se&&Zi(se),(et=Y.props&&Y.props.onVnodeBeforeUpdate)&&Yt(et,ie,Y,he),vn(w,!0);const Ye=Yc(w),St=w.subTree;w.subTree=Ye,U(St,Ye,g(St.el),N(St),w,F,j),Y.el=Ye.el,be===null&&sv(w,Ye.el),oe&&Dt(oe,F),(et=Y.props&&Y.props.onVnodeUpdated)&&Dt(()=>Yt(et,ie,Y,he),F)}else{let Y;const{el:se,props:oe}=b,{bm:ie,m:he,parent:be,root:et,type:Ye}=w,St=Wr(b);vn(w,!1),ie&&Zi(ie),!St&&(Y=oe&&oe.onVnodeBeforeMount)&&Yt(Y,be,b),vn(w,!0);{et.ce&&et.ce._injectChildStyle(Ye);const $e=w.subTree=Yc(w);U(null,$e,C,M,w,F,j),b.el=$e.el}if(he&&Dt(he,F),!St&&(Y=oe&&oe.onVnodeMounted)){const $e=b;Dt(()=>Yt(Y,be,$e),F)}(b.shapeFlag&256||be&&Wr(be.vnode)&&be.vnode.shapeFlag&256)&&w.a&&Dt(w.a,F),w.isMounted=!0,b=C=M=null}};w.scope.on();const K=w.effect=new ih(q);w.scope.off();const V=w.update=K.run.bind(K),te=w.job=K.runIfDirty.bind(K);te.i=w,te.id=w.uid,K.scheduler=()=>Ol(te),vn(w,!0),V()},ve=(w,b,C)=>{b.component=w;const M=w.vnode.props;w.vnode=b,w.next=null,Fm(w,b.props,M,C),Hm(w,b.children,C),Cs(),Vc(w),Ps()},ge=(w,b,C,M,F,j,J,q,K=!1)=>{const V=w&&w.children,te=w?w.shapeFlag:0,Y=b.children,{patchFlag:se,shapeFlag:oe}=b;if(se>0){if(se&128){Tt(V,Y,C,M,F,j,J,q,K);return}else if(se&256){rt(V,Y,C,M,F,j,J,q,K);return}}oe&8?(te&16&&Ze(V,F,j),Y!==V&&h(C,Y)):te&16?oe&16?Tt(V,Y,C,M,F,j,J,q,K):Ze(V,F,j,!0):(te&8&&h(C,""),oe&16&&_(Y,C,M,F,j,J,q,K))},rt=(w,b,C,M,F,j,J,q,K)=>{w=w||er,b=b||er;const V=w.length,te=b.length,Y=Math.min(V,te);let se;for(se=0;se<Y;se++){const oe=b[se]=K?Ws(b[se]):Zt(b[se]);U(w[se],oe,C,null,F,j,J,q,K)}V>te?Ze(w,F,j,!0,!1,Y):_(b,C,M,F,j,J,q,K,Y)},Tt=(w,b,C,M,F,j,J,q,K)=>{let V=0;const te=b.length;let Y=w.length-1,se=te-1;for(;V<=Y&&V<=se;){const oe=w[V],ie=b[V]=K?Ws(b[V]):Zt(b[V]);if(Ur(oe,ie))U(oe,ie,C,null,F,j,J,q,K);else break;V++}for(;V<=Y&&V<=se;){const oe=w[Y],ie=b[se]=K?Ws(b[se]):Zt(b[se]);if(Ur(oe,ie))U(oe,ie,C,null,F,j,J,q,K);else break;Y--,se--}if(V>Y){if(V<=se){const oe=se+1,ie=oe<te?b[oe].el:M;for(;V<=se;)U(null,b[V]=K?Ws(b[V]):Zt(b[V]),C,ie,F,j,J,q,K),V++}}else if(V>se)for(;V<=Y;)Te(w[V],F,j,!0),V++;else{const oe=V,ie=V,he=new Map;for(V=ie;V<=se;V++){const Xe=b[V]=K?Ws(b[V]):Zt(b[V]);Xe.key!=null&&he.set(Xe.key,V)}let be,et=0;const Ye=se-ie+1;let St=!1,$e=0;const It=new Array(Ye);for(V=0;V<Ye;V++)It[V]=0;for(V=oe;V<=Y;V++){const Xe=w[V];if(et>=Ye){Te(Xe,F,j,!0);continue}let kt;if(Xe.key!=null)kt=he.get(Xe.key);else for(be=ie;be<=se;be++)if(It[be-ie]===0&&Ur(Xe,b[be])){kt=be;break}kt===void 0?Te(Xe,F,j,!0):(It[kt-ie]=V+1,kt>=$e?$e=kt:St=!0,U(Xe,b[kt],C,null,F,j,J,q,K),et++)}const an=St?zm(It):er;for(be=an.length-1,V=Ye-1;V>=0;V--){const Xe=ie+V,kt=b[Xe],xn=Xe+1<te?b[Xe+1].el:M;It[V]===0?U(null,kt,C,xn,F,j,J,q,K):St&&(be<0||V!==an[be]?mt(kt,C,xn,2):be--)}}},mt=(w,b,C,M,F=null)=>{const{el:j,type:J,transition:q,children:K,shapeFlag:V}=w;if(V&6){mt(w.component.subTree,b,C,M);return}if(V&128){w.suspense.move(b,C,M);return}if(V&64){J.move(w,b,C,Z);return}if(J===dt){n(j,b,C);for(let Y=0;Y<K.length;Y++)mt(K[Y],b,C,M);n(w.anchor,b,C);return}if(J===so){$(w,b,C);return}if(M!==2&&V&1&&q)if(M===0)q.beforeEnter(j),n(j,b,C),Dt(()=>q.enter(j),F);else{const{leave:Y,delayLeave:se,afterLeave:oe}=q,ie=()=>{w.ctx.isUnmounted?r(j):n(j,b,C)},he=()=>{Y(j,()=>{ie(),oe&&oe()})};se?se(j,ie,he):he()}else n(j,b,C)},Te=(w,b,C,M=!1,F=!1)=>{const{type:j,props:J,ref:q,children:K,dynamicChildren:V,shapeFlag:te,patchFlag:Y,dirs:se,cacheIndex:oe}=w;if(Y===-2&&(F=!1),q!=null&&(Cs(),mo(q,null,C,w,!0),Ps()),oe!=null&&(b.renderCache[oe]=void 0),te&256){b.ctx.deactivate(w);return}const ie=te&1&&se,he=!Wr(w);let be;if(he&&(be=J&&J.onVnodeBeforeUnmount)&&Yt(be,b,w),te&6)Je(w.component,C,M);else{if(te&128){w.suspense.unmount(C,M);return}ie&&gn(w,null,b,"beforeUnmount"),te&64?w.type.remove(w,b,C,Z,M):V&&!V.hasOnce&&(j!==dt||Y>0&&Y&64)?Ze(V,b,C,!1,!0):(j===dt&&Y&384||!F&&te&16)&&Ze(K,b,C),M&&we(w)}(he&&(be=J&&J.onVnodeUnmounted)||ie)&&Dt(()=>{be&&Yt(be,b,w),ie&&gn(w,null,b,"unmounted")},C)},we=w=>{const{type:b,el:C,anchor:M,transition:F}=w;if(b===dt){it(C,M);return}if(b===so){B(w);return}const j=()=>{r(C),F&&!F.persisted&&F.afterLeave&&F.afterLeave()};if(w.shapeFlag&1&&F&&!F.persisted){const{leave:J,delayLeave:q}=F,K=()=>J(C,j);q?q(w.el,j,K):K()}else j()},it=(w,b)=>{let C;for(;w!==b;)C=m(w),r(w),w=C;r(b)},Je=(w,b,C)=>{const{bum:M,scope:F,job:j,subTree:J,um:q,m:K,a:V,parent:te,slots:{__:Y}}=w;Jc(K),Jc(V),M&&Zi(M),te&&le(Y)&&Y.forEach(se=>{te.renderCache[se]=void 0}),F.stop(),j&&(j.flags|=8,Te(J,w,b,C)),q&&Dt(q,b),Dt(()=>{w.isUnmounted=!0},b),b&&b.pendingBranch&&!b.isUnmounted&&w.asyncDep&&!w.asyncResolved&&w.suspenseId===b.pendingId&&(b.deps--,b.deps===0&&b.resolve())},Ze=(w,b,C,M=!1,F=!1,j=0)=>{for(let J=j;J<w.length;J++)Te(w[J],b,C,M,F)},N=w=>{if(w.shapeFlag&6)return N(w.component.subTree);if(w.shapeFlag&128)return w.suspense.next();const b=m(w.anchor||w.el),C=b&&b[fm];return C?m(C):b};let z=!1;const Q=(w,b,C)=>{w==null?b._vnode&&Te(b._vnode,null,null,!0):U(b._vnode||null,w,b,null,null,null,C),b._vnode=w,z||(z=!0,Vc(),Ih(),z=!1)},Z={p:U,um:Te,m:mt,r:we,mt:ze,mc:_,pc:ge,pbc:I,n:N,o:t};return{render:Q,hydrate:void 0,createApp:Mm(Q)}}function ma({type:t,props:e},s){return s==="svg"&&t==="foreignObject"||s==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:s}function vn({effect:t,job:e},s){s?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Km(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Wh(t,e,s=!1){const n=t.children,r=e.children;if(le(n)&&le(r))for(let i=0;i<n.length;i++){const a=n[i];let c=r[i];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=r[i]=Ws(r[i]),c.el=a.el),!s&&c.patchFlag!==-2&&Wh(a,c)),c.type===Vo&&(c.el=a.el),c.type===en&&!c.el&&(c.el=a.el)}}function zm(t){const e=t.slice(),s=[0];let n,r,i,a,c;const l=t.length;for(n=0;n<l;n++){const d=t[n];if(d!==0){if(r=s[s.length-1],t[r]<d){e[n]=r,s.push(n);continue}for(i=0,a=s.length-1;i<a;)c=i+a>>1,t[s[c]]<d?i=c+1:a=c;d<t[s[i]]&&(i>0&&(e[n]=s[i-1]),s[i]=n)}}for(i=s.length,a=s[i-1];i-- >0;)s[i]=a,a=e[a];return s}function Kh(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Kh(e)}function Jc(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const Gm=Symbol.for("v-scx"),Jm=()=>ts(Gm);function to(t,e,s){return zh(t,e,s)}function zh(t,e,s=Le){const{immediate:n,deep:r,flush:i,once:a}=s,c=gt({},s),l=e&&n||!e&&i!=="post";let d;if(ai){if(i==="sync"){const y=Jm();d=y.__watcherHandles||(y.__watcherHandles=[])}else if(!l){const y=()=>{};return y.stop=es,y.resume=es,y.pause=es,y}}const h=ft;c.call=(y,P,U)=>os(y,h,P,U);let g=!1;i==="post"?c.scheduler=y=>{Dt(y,h&&h.suspense)}:i!=="sync"&&(g=!0,c.scheduler=(y,P)=>{P?y():Ol(y)}),c.augmentJob=y=>{e&&(y.flags|=4),g&&(y.flags|=2,h&&(y.id=h.uid,y.i=h))};const m=lm(t,e,c);return ai&&(d?d.push(m):l&&m()),m}function Ym(t,e,s){const n=this.proxy,r=Ke(t)?t.includes(".")?Gh(n,t):()=>n[t]:t.bind(n,n);let i;pe(e)?i=e:(i=e.handler,s=e);const a=mi(this),c=zh(r,i.bind(n),s);return a(),c}function Gh(t,e){const s=e.split(".");return()=>{let n=t;for(let r=0;r<s.length&&n;r++)n=n[s[r]];return n}}const Xm=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Bt(e)}Modifiers`]||t[`${Cn(e)}Modifiers`];function Qm(t,e,...s){if(t.isUnmounted)return;const n=t.vnode.props||Le;let r=s;const i=e.startsWith("update:"),a=i&&Xm(n,e.slice(7));a&&(a.trim&&(r=s.map(h=>Ke(h)?h.trim():h)),a.number&&(r=s.map(uo)));let c,l=n[c=ua(e)]||n[c=ua(Bt(e))];!l&&i&&(l=n[c=ua(Cn(e))]),l&&os(l,t,6,r);const d=n[c+"Once"];if(d){if(!t.emitted)t.emitted={};else if(t.emitted[c])return;t.emitted[c]=!0,os(d,t,6,r)}}function Jh(t,e,s=!1){const n=e.emitsCache,r=n.get(t);if(r!==void 0)return r;const i=t.emits;let a={},c=!1;if(!pe(t)){const l=d=>{const h=Jh(d,e,!0);h&&(c=!0,gt(a,h))};!s&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!c?(je(t)&&n.set(t,null),null):(le(i)?i.forEach(l=>a[l]=null):gt(a,i),je(t)&&n.set(t,a),a)}function $o(t,e){return!t||!Do(e)?!1:(e=e.slice(2).replace(/Once$/,""),Oe(t,e[0].toLowerCase()+e.slice(1))||Oe(t,Cn(e))||Oe(t,e))}function Yc(t){const{type:e,vnode:s,proxy:n,withProxy:r,propsOptions:[i],slots:a,attrs:c,emit:l,render:d,renderCache:h,props:g,data:m,setupState:y,ctx:P,inheritAttrs:U}=t,L=go(t);let W,H;try{if(s.shapeFlag&4){const B=r||n,ee=B;W=Zt(d.call(ee,B,h,g,y,m,P)),H=c}else{const B=e;W=Zt(B.length>1?B(g,{attrs:c,slots:a,emit:l}):B(g,null)),H=e.props?c:Zm(c)}}catch(B){zr.length=0,Fo(B,t,1),W=Ot(en)}let $=W;if(H&&U!==!1){const B=Object.keys(H),{shapeFlag:ee}=$;B.length&&ee&7&&(i&&B.some(yl)&&(H=ev(H,i)),$=ur($,H,!1,!0))}return s.dirs&&($=ur($,null,!1,!0),$.dirs=$.dirs?$.dirs.concat(s.dirs):s.dirs),s.transition&&Dl($,s.transition),W=$,go(L),W}const Zm=t=>{let e;for(const s in t)(s==="class"||s==="style"||Do(s))&&((e||(e={}))[s]=t[s]);return e},ev=(t,e)=>{const s={};for(const n in t)(!yl(n)||!(n.slice(9)in e))&&(s[n]=t[n]);return s};function tv(t,e,s){const{props:n,children:r,component:i}=t,{props:a,children:c,patchFlag:l}=e,d=i.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return n?Xc(n,a,d):!!a;if(l&8){const h=e.dynamicProps;for(let g=0;g<h.length;g++){const m=h[g];if(a[m]!==n[m]&&!$o(d,m))return!0}}}else return(r||c)&&(!c||!c.$stable)?!0:n===a?!1:n?a?Xc(n,a,d):!0:!!a;return!1}function Xc(t,e,s){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let r=0;r<n.length;r++){const i=n[r];if(e[i]!==t[i]&&!$o(s,i))return!0}return!1}function sv({vnode:t,parent:e},s){for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===t&&(n.el=t.el),n===t)(t=e.vnode).el=s,e=e.parent;else break}}const Yh=t=>t.__isSuspense;function nv(t,e){e&&e.pendingBranch?le(t)?e.effects.push(...t):e.effects.push(t):dm(t)}const dt=Symbol.for("v-fgt"),Vo=Symbol.for("v-txt"),en=Symbol.for("v-cmt"),so=Symbol.for("v-stc"),zr=[];let Lt=null;function re(t=!1){zr.push(Lt=t?null:[])}function rv(){zr.pop(),Lt=zr[zr.length-1]||null}let oi=1;function Qc(t,e=!1){oi+=t,t<0&&Lt&&e&&(Lt.hasOnce=!0)}function Xh(t){return t.dynamicChildren=oi>0?Lt||er:null,rv(),oi>0&&Lt&&Lt.push(t),t}function ae(t,e,s,n,r,i){return Xh(p(t,e,s,n,r,i,!0))}function Qh(t,e,s,n,r){return Xh(Ot(t,e,s,n,r,!0))}function _o(t){return t?t.__v_isVNode===!0:!1}function Ur(t,e){return t.type===e.type&&t.key===e.key}const Zh=({key:t})=>t??null,no=({ref:t,ref_key:e,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?Ke(t)||pt(t)||pe(t)?{i:Ut,r:t,k:e,f:!!s}:t:null);function p(t,e=null,s=null,n=0,r=null,i=t===dt?0:1,a=!1,c=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Zh(e),ref:e&&no(e),scopeId:Ah,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Ut};return c?(Ll(l,s),i&128&&t.normalize(l)):s&&(l.shapeFlag|=Ke(s)?8:16),oi>0&&!a&&Lt&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Lt.push(l),l}const Ot=iv;function iv(t,e=null,s=null,n=0,r=null,i=!1){if((!t||t===Cm)&&(t=en),_o(t)){const c=ur(t,e,!0);return s&&Ll(c,s),oi>0&&!i&&Lt&&(c.shapeFlag&6?Lt[Lt.indexOf(t)]=c:Lt.push(c)),c.patchFlag=-2,c}if(mv(t)&&(t=t.__vccOpts),e){e=ov(e);let{class:c,style:l}=e;c&&!Ke(c)&&(e.class=jt(c)),je(l)&&(Pl(l)&&!le(l)&&(l=gt({},l)),e.style=No(l))}const a=Ke(t)?1:Yh(t)?128:pm(t)?64:je(t)?4:pe(t)?2:0;return p(t,e,s,n,r,a,i,!0)}function ov(t){return t?Pl(t)||Fh(t)?gt({},t):t:null}function ur(t,e,s=!1,n=!1){const{props:r,ref:i,patchFlag:a,children:c,transition:l}=t,d=e?av(r||{},e):r,h={__v_isVNode:!0,__v_skip:!0,type:t.type,props:d,key:d&&Zh(d),ref:e&&e.ref?s&&i?le(i)?i.concat(no(e)):[i,no(e)]:no(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:c,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==dt?a===-1?16:a|16:a,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&ur(t.ssContent),ssFallback:t.ssFallback&&ur(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&n&&Dl(h,l.clone(h)),h}function ro(t=" ",e=0){return Ot(Vo,null,t,e)}function Ka(t,e){const s=Ot(so,null,t);return s.staticCount=e,s}function Ae(t="",e=!1){return e?(re(),Qh(en,null,t)):Ot(en,null,t)}function Zt(t){return t==null||typeof t=="boolean"?Ot(en):le(t)?Ot(dt,null,t.slice()):_o(t)?Ws(t):Ot(Vo,null,String(t))}function Ws(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:ur(t)}function Ll(t,e){let s=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(le(e))s=16;else if(typeof e=="object")if(n&65){const r=e.default;r&&(r._c&&(r._d=!1),Ll(t,r()),r._c&&(r._d=!0));return}else{s=32;const r=e._;!r&&!Fh(e)?e._ctx=Ut:r===3&&Ut&&(Ut.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else pe(e)?(e={default:e,_ctx:Ut},s=32):(e=String(e),n&64?(s=16,e=[ro(e)]):s=8);t.children=e,t.shapeFlag|=s}function av(...t){const e={};for(let s=0;s<t.length;s++){const n=t[s];for(const r in n)if(r==="class")e.class!==n.class&&(e.class=jt([e.class,n.class]));else if(r==="style")e.style=No([e.style,n.style]);else if(Do(r)){const i=e[r],a=n[r];a&&i!==a&&!(le(i)&&i.includes(a))&&(e[r]=i?[].concat(i,a):a)}else r!==""&&(e[r]=n[r])}return e}function Yt(t,e,s,n=null){os(t,e,7,[s,n])}const lv=Nh();let cv=0;function uv(t,e,s){const n=t.type,r=(e?e.appContext:t.appContext)||lv,i={uid:cv++,vnode:t,type:n,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Lg(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:$h(n,r),emitsOptions:Jh(n,r),emit:null,emitted:null,propsDefaults:Le,inheritAttrs:n.inheritAttrs,ctx:Le,data:Le,props:Le,attrs:Le,slots:Le,refs:Le,setupState:Le,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=Qm.bind(null,i),t.ce&&t.ce(i),i}let ft=null,yo,za;{const t=Lo(),e=(s,n)=>{let r;return(r=t[s])||(r=t[s]=[]),r.push(n),i=>{r.length>1?r.forEach(a=>a(i)):r[0](i)}};yo=e("__VUE_INSTANCE_SETTERS__",s=>ft=s),za=e("__VUE_SSR_SETTERS__",s=>ai=s)}const mi=t=>{const e=ft;return yo(t),t.scope.on(),()=>{t.scope.off(),yo(e)}},Zc=()=>{ft&&ft.scope.off(),yo(null)};function ef(t){return t.vnode.shapeFlag&4}let ai=!1;function dv(t,e=!1,s=!1){e&&za(e);const{props:n,children:r}=t.vnode,i=ef(t);jm(t,n,i,e),Vm(t,r,s||e);const a=i?hv(t,e):void 0;return e&&za(!1),a}function hv(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Rm);const{setup:n}=s;if(n){Cs();const r=t.setupContext=n.length>1?pv(t):null,i=mi(t),a=gi(n,t,0,[t.props,r]),c=Qd(a);if(Ps(),i(),(c||t.sp)&&!Wr(t)&&Ph(t),c){if(a.then(Zc,Zc),e)return a.then(l=>{eu(t,l)}).catch(l=>{Fo(l,t,0)});t.asyncDep=a}else eu(t,a)}else tf(t)}function eu(t,e,s){pe(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:je(e)&&(t.setupState=Eh(e)),tf(t)}function tf(t,e,s){const n=t.type;t.render||(t.render=n.render||es);{const r=mi(t);Cs();try{Om(t)}finally{Ps(),r()}}}const fv={get(t,e){return ht(t,"get",""),t[e]}};function pv(t){const e=s=>{t.exposed=s||{}};return{attrs:new Proxy(t.attrs,fv),slots:t.slots,emit:t.emit,expose:e}}function Ho(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Eh(tm(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in Kr)return Kr[s](t)},has(e,s){return s in e||s in Kr}})):t.proxy}function gv(t,e=!0){return pe(t)?t.displayName||t.name:t.name||e&&t.__name}function mv(t){return pe(t)&&"__vccOpts"in t}const Be=(t,e)=>om(t,e,ai);function sf(t,e,s){const n=arguments.length;return n===2?je(e)&&!le(e)?_o(e)?Ot(t,null,[e]):Ot(t,e):Ot(t,null,e):(n>3?s=Array.prototype.slice.call(arguments,2):n===3&&_o(s)&&(s=[s]),Ot(t,e,s))}const vv="3.5.16";/**
* @vue/runtime-dom v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ga;const tu=typeof window<"u"&&window.trustedTypes;if(tu)try{Ga=tu.createPolicy("vue",{createHTML:t=>t})}catch{}const nf=Ga?t=>Ga.createHTML(t):t=>t,_v="http://www.w3.org/2000/svg",yv="http://www.w3.org/1998/Math/MathML",ms=typeof document<"u"?document:null,su=ms&&ms.createElement("template"),wv={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,n)=>{const r=e==="svg"?ms.createElementNS(_v,t):e==="mathml"?ms.createElementNS(yv,t):s?ms.createElement(t,{is:s}):ms.createElement(t);return t==="select"&&n&&n.multiple!=null&&r.setAttribute("multiple",n.multiple),r},createText:t=>ms.createTextNode(t),createComment:t=>ms.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>ms.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,n,r,i){const a=s?s.previousSibling:e.lastChild;if(r&&(r===i||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),s),!(r===i||!(r=r.nextSibling)););else{su.innerHTML=nf(n==="svg"?`<svg>${t}</svg>`:n==="mathml"?`<math>${t}</math>`:t);const c=su.content;if(n==="svg"||n==="mathml"){const l=c.firstChild;for(;l.firstChild;)c.appendChild(l.firstChild);c.removeChild(l)}e.insertBefore(c,s)}return[a?a.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}},bv=Symbol("_vtc");function Ev(t,e,s){const n=t[bv];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}const nu=Symbol("_vod"),Tv=Symbol("_vsh"),Sv=Symbol(""),Iv=/(^|;)\s*display\s*:/;function kv(t,e,s){const n=t.style,r=Ke(s);let i=!1;if(s&&!r){if(e)if(Ke(e))for(const a of e.split(";")){const c=a.slice(0,a.indexOf(":")).trim();s[c]==null&&io(n,c,"")}else for(const a in e)s[a]==null&&io(n,a,"");for(const a in s)a==="display"&&(i=!0),io(n,a,s[a])}else if(r){if(e!==s){const a=n[Sv];a&&(s+=";"+a),n.cssText=s,i=Iv.test(s)}}else e&&t.removeAttribute("style");nu in t&&(t[nu]=i?n.display:"",t[Tv]&&(n.display="none"))}const ru=/\s*!important$/;function io(t,e,s){if(le(s))s.forEach(n=>io(t,e,n));else if(s==null&&(s=""),e.startsWith("--"))t.setProperty(e,s);else{const n=Av(t,e);ru.test(s)?t.setProperty(Cn(n),s.replace(ru,""),"important"):t[n]=s}}const iu=["Webkit","Moz","ms"],va={};function Av(t,e){const s=va[e];if(s)return s;let n=Bt(e);if(n!=="filter"&&n in t)return va[e]=n;n=Uo(n);for(let r=0;r<iu.length;r++){const i=iu[r]+n;if(i in t)return va[e]=i}return e}const ou="http://www.w3.org/1999/xlink";function au(t,e,s,n,r,i=xg(e)){n&&e.startsWith("xlink:")?s==null?t.removeAttributeNS(ou,e.slice(6,e.length)):t.setAttributeNS(ou,e,s):s==null||i&&!sh(s)?t.removeAttribute(e):t.setAttribute(e,i?"":is(s)?String(s):s)}function lu(t,e,s,n,r){if(e==="innerHTML"||e==="textContent"){s!=null&&(t[e]=e==="innerHTML"?nf(s):s);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const c=i==="OPTION"?t.getAttribute("value")||"":t.value,l=s==null?t.type==="checkbox"?"on":"":String(s);(c!==l||!("_value"in t))&&(t.value=l),s==null&&t.removeAttribute(e),t._value=s;return}let a=!1;if(s===""||s==null){const c=typeof t[e];c==="boolean"?s=sh(s):s==null&&c==="string"?(s="",a=!0):c==="number"&&(s=0,a=!0)}try{t[e]=s}catch{}a&&t.removeAttribute(r||e)}function Gs(t,e,s,n){t.addEventListener(e,s,n)}function Cv(t,e,s,n){t.removeEventListener(e,s,n)}const cu=Symbol("_vei");function Pv(t,e,s,n,r=null){const i=t[cu]||(t[cu]={}),a=i[e];if(n&&a)a.value=n;else{const[c,l]=Rv(e);if(n){const d=i[e]=xv(n,r);Gs(t,c,d,l)}else a&&(Cv(t,c,a,l),i[e]=void 0)}}const uu=/(?:Once|Passive|Capture)$/;function Rv(t){let e;if(uu.test(t)){e={};let n;for(;n=t.match(uu);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Cn(t.slice(2)),e]}let _a=0;const Ov=Promise.resolve(),Dv=()=>_a||(Ov.then(()=>_a=0),_a=Date.now());function xv(t,e){const s=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=s.attached)return;os(Uv(n,s.value),e,5,[n])};return s.value=t,s.attached=Dv(),s}function Uv(t,e){if(le(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(n=>r=>!r._stopped&&n&&n(r))}else return e}const du=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Lv=(t,e,s,n,r,i)=>{const a=r==="svg";e==="class"?Ev(t,n,a):e==="style"?kv(t,s,n):Do(e)?yl(e)||Pv(t,e,s,n,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Nv(t,e,n,a))?(lu(t,e,n),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&au(t,e,n,a,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Ke(n))?lu(t,Bt(e),n,i,e):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),au(t,e,n,a))};function Nv(t,e,s,n){if(n)return!!(e==="innerHTML"||e==="textContent"||e in t&&du(e)&&pe(s));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=t.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return du(e)&&Ke(s)?!1:e in t}const dr=t=>{const e=t.props["onUpdate:modelValue"]||!1;return le(e)?s=>Zi(e,s):e};function Mv(t){t.target.composing=!0}function hu(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const ks=Symbol("_assign"),qe={created(t,{modifiers:{lazy:e,trim:s,number:n}},r){t[ks]=dr(r);const i=n||r.props&&r.props.type==="number";Gs(t,e?"change":"input",a=>{if(a.target.composing)return;let c=t.value;s&&(c=c.trim()),i&&(c=uo(c)),t[ks](c)}),s&&Gs(t,"change",()=>{t.value=t.value.trim()}),e||(Gs(t,"compositionstart",Mv),Gs(t,"compositionend",hu),Gs(t,"change",hu))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:s,modifiers:{lazy:n,trim:r,number:i}},a){if(t[ks]=dr(a),t.composing)return;const c=(i||t.type==="number")&&!/^0\d/.test(t.value)?uo(t.value):t.value,l=e??"";c!==l&&(document.activeElement===t&&t.type!=="range"&&(n&&e===s||r&&t.value.trim()===l)||(t.value=l))}},ya={deep:!0,created(t,e,s){t[ks]=dr(s),Gs(t,"change",()=>{const n=t._modelValue,r=li(t),i=t.checked,a=t[ks];if(le(n)){const c=El(n,r),l=c!==-1;if(i&&!l)a(n.concat(r));else if(!i&&l){const d=[...n];d.splice(c,1),a(d)}}else if(_r(n)){const c=new Set(n);i?c.add(r):c.delete(r),a(c)}else a(rf(t,i))})},mounted:fu,beforeUpdate(t,e,s){t[ks]=dr(s),fu(t,e,s)}};function fu(t,{value:e,oldValue:s},n){t._modelValue=e;let r;if(le(e))r=El(e,n.props.value)>-1;else if(_r(e))r=e.has(n.props.value);else{if(e===s)return;r=pi(e,rf(t,!0))}t.checked!==r&&(t.checked=r)}const $n={deep:!0,created(t,{value:e,modifiers:{number:s}},n){const r=_r(e);Gs(t,"change",()=>{const i=Array.prototype.filter.call(t.options,a=>a.selected).map(a=>s?uo(li(a)):li(a));t[ks](t.multiple?r?new Set(i):i:i[0]),t._assigning=!0,Rl(()=>{t._assigning=!1})}),t[ks]=dr(n)},mounted(t,{value:e}){pu(t,e)},beforeUpdate(t,e,s){t[ks]=dr(s)},updated(t,{value:e}){t._assigning||pu(t,e)}};function pu(t,e){const s=t.multiple,n=le(e);if(!(s&&!n&&!_r(e))){for(let r=0,i=t.options.length;r<i;r++){const a=t.options[r],c=li(a);if(s)if(n){const l=typeof c;l==="string"||l==="number"?a.selected=e.some(d=>String(d)===String(c)):a.selected=El(e,c)>-1}else a.selected=e.has(c);else if(pi(li(a),e)){t.selectedIndex!==r&&(t.selectedIndex=r);return}}!s&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function li(t){return"_value"in t?t._value:t.value}function rf(t,e){const s=e?"_trueValue":"_falseValue";return s in t?t[s]:e}const jv=["ctrl","shift","alt","meta"],Fv={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>jv.some(s=>t[`${s}Key`]&&!e.includes(s))},He=(t,e)=>{const s=t._withMods||(t._withMods={}),n=e.join(".");return s[n]||(s[n]=(r,...i)=>{for(let a=0;a<e.length;a++){const c=Fv[e[a]];if(c&&c(r,e))return}return t(r,...i)})},Bv=gt({patchProp:Lv},wv);let gu;function $v(){return gu||(gu=qm(Bv))}const Vv=(...t)=>{const e=$v().createApp(...t),{mount:s}=e;return e.mount=n=>{const r=qv(n);if(!r)return;const i=e._component;!pe(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const a=s(r,!1,Hv(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),a},e};function Hv(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function qv(t){return Ke(t)?document.querySelector(t):t}const Nl=(t,e)=>{const s=t.__vccOpts||t;for(const[n,r]of e)s[n]=r;return s},Wv={name:"App"};function Kv(t,e,s,n,r,i){const a=Am("router-view");return re(),Qh(a)}const zv=Nl(Wv,[["render",Kv]]);/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const Xn=typeof document<"u";function of(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Gv(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&of(t.default)}const Pe=Object.assign;function wa(t,e){const s={};for(const n in e){const r=e[n];s[n]=Gt(r)?r.map(t):t(r)}return s}const Gr=()=>{},Gt=Array.isArray,af=/#/g,Jv=/&/g,Yv=/\//g,Xv=/=/g,Qv=/\?/g,lf=/\+/g,Zv=/%5B/g,e_=/%5D/g,cf=/%5E/g,t_=/%60/g,uf=/%7B/g,s_=/%7C/g,df=/%7D/g,n_=/%20/g;function Ml(t){return encodeURI(""+t).replace(s_,"|").replace(Zv,"[").replace(e_,"]")}function r_(t){return Ml(t).replace(uf,"{").replace(df,"}").replace(cf,"^")}function Ja(t){return Ml(t).replace(lf,"%2B").replace(n_,"+").replace(af,"%23").replace(Jv,"%26").replace(t_,"`").replace(uf,"{").replace(df,"}").replace(cf,"^")}function i_(t){return Ja(t).replace(Xv,"%3D")}function o_(t){return Ml(t).replace(af,"%23").replace(Qv,"%3F")}function a_(t){return t==null?"":o_(t).replace(Yv,"%2F")}function ci(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const l_=/\/$/,c_=t=>t.replace(l_,"");function ba(t,e,s="/"){let n,r={},i="",a="";const c=e.indexOf("#");let l=e.indexOf("?");return c<l&&c>=0&&(l=-1),l>-1&&(n=e.slice(0,l),i=e.slice(l+1,c>-1?c:e.length),r=t(i)),c>-1&&(n=n||e.slice(0,c),a=e.slice(c,e.length)),n=f_(n??e,s),{fullPath:n+(i&&"?")+i+a,path:n,query:r,hash:ci(a)}}function u_(t,e){const s=e.query?t(e.query):"";return e.path+(s&&"?")+s+(e.hash||"")}function mu(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function d_(t,e,s){const n=e.matched.length-1,r=s.matched.length-1;return n>-1&&n===r&&hr(e.matched[n],s.matched[r])&&hf(e.params,s.params)&&t(e.query)===t(s.query)&&e.hash===s.hash}function hr(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function hf(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(!h_(t[s],e[s]))return!1;return!0}function h_(t,e){return Gt(t)?vu(t,e):Gt(e)?vu(e,t):t===e}function vu(t,e){return Gt(e)?t.length===e.length&&t.every((s,n)=>s===e[n]):t.length===1&&t[0]===e}function f_(t,e){if(t.startsWith("/"))return t;if(!t)return e;const s=e.split("/"),n=t.split("/"),r=n[n.length-1];(r===".."||r===".")&&n.push("");let i=s.length-1,a,c;for(a=0;a<n.length;a++)if(c=n[a],c!==".")if(c==="..")i>1&&i--;else break;return s.slice(0,i).join("/")+"/"+n.slice(a).join("/")}const Bs={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var ui;(function(t){t.pop="pop",t.push="push"})(ui||(ui={}));var Jr;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Jr||(Jr={}));function p_(t){if(!t)if(Xn){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),c_(t)}const g_=/^[^#]+#/;function m_(t,e){return t.replace(g_,"#")+e}function v_(t,e){const s=document.documentElement.getBoundingClientRect(),n=t.getBoundingClientRect();return{behavior:e.behavior,left:n.left-s.left-(e.left||0),top:n.top-s.top-(e.top||0)}}const qo=()=>({left:window.scrollX,top:window.scrollY});function __(t){let e;if("el"in t){const s=t.el,n=typeof s=="string"&&s.startsWith("#"),r=typeof s=="string"?n?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!r)return;e=v_(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function _u(t,e){return(history.state?history.state.position-e:-1)+t}const Ya=new Map;function y_(t,e){Ya.set(t,e)}function w_(t){const e=Ya.get(t);return Ya.delete(t),e}let b_=()=>location.protocol+"//"+location.host;function ff(t,e){const{pathname:s,search:n,hash:r}=e,i=t.indexOf("#");if(i>-1){let c=r.includes(t.slice(i))?t.slice(i).length:1,l=r.slice(c);return l[0]!=="/"&&(l="/"+l),mu(l,"")}return mu(s,t)+n+r}function E_(t,e,s,n){let r=[],i=[],a=null;const c=({state:m})=>{const y=ff(t,location),P=s.value,U=e.value;let L=0;if(m){if(s.value=y,e.value=m,a&&a===P){a=null;return}L=U?m.position-U.position:0}else n(y);r.forEach(W=>{W(s.value,P,{delta:L,type:ui.pop,direction:L?L>0?Jr.forward:Jr.back:Jr.unknown})})};function l(){a=s.value}function d(m){r.push(m);const y=()=>{const P=r.indexOf(m);P>-1&&r.splice(P,1)};return i.push(y),y}function h(){const{history:m}=window;m.state&&m.replaceState(Pe({},m.state,{scroll:qo()}),"")}function g(){for(const m of i)m();i=[],window.removeEventListener("popstate",c),window.removeEventListener("beforeunload",h)}return window.addEventListener("popstate",c),window.addEventListener("beforeunload",h,{passive:!0}),{pauseListeners:l,listen:d,destroy:g}}function yu(t,e,s,n=!1,r=!1){return{back:t,current:e,forward:s,replaced:n,position:window.history.length,scroll:r?qo():null}}function T_(t){const{history:e,location:s}=window,n={value:ff(t,s)},r={value:e.state};r.value||i(n.value,{back:null,current:n.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,d,h){const g=t.indexOf("#"),m=g>-1?(s.host&&document.querySelector("base")?t:t.slice(g))+l:b_()+t+l;try{e[h?"replaceState":"pushState"](d,"",m),r.value=d}catch(y){console.error(y),s[h?"replace":"assign"](m)}}function a(l,d){const h=Pe({},e.state,yu(r.value.back,l,r.value.forward,!0),d,{position:r.value.position});i(l,h,!0),n.value=l}function c(l,d){const h=Pe({},r.value,e.state,{forward:l,scroll:qo()});i(h.current,h,!0);const g=Pe({},yu(n.value,l,null),{position:h.position+1},d);i(l,g,!1),n.value=l}return{location:n,state:r,push:c,replace:a}}function S_(t){t=p_(t);const e=T_(t),s=E_(t,e.state,e.location,e.replace);function n(i,a=!0){a||s.pauseListeners(),history.go(i)}const r=Pe({location:"",base:t,go:n,createHref:m_.bind(null,t)},e,s);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}function I_(t){return typeof t=="string"||t&&typeof t=="object"}function pf(t){return typeof t=="string"||typeof t=="symbol"}const gf=Symbol("");var wu;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(wu||(wu={}));function fr(t,e){return Pe(new Error,{type:t,[gf]:!0},e)}function gs(t,e){return t instanceof Error&&gf in t&&(e==null||!!(t.type&e))}const bu="[^/]+?",k_={sensitive:!1,strict:!1,start:!0,end:!0},A_=/[.+*?^${}()[\]/\\]/g;function C_(t,e){const s=Pe({},k_,e),n=[];let r=s.start?"^":"";const i=[];for(const d of t){const h=d.length?[]:[90];s.strict&&!d.length&&(r+="/");for(let g=0;g<d.length;g++){const m=d[g];let y=40+(s.sensitive?.25:0);if(m.type===0)g||(r+="/"),r+=m.value.replace(A_,"\\$&"),y+=40;else if(m.type===1){const{value:P,repeatable:U,optional:L,regexp:W}=m;i.push({name:P,repeatable:U,optional:L});const H=W||bu;if(H!==bu){y+=10;try{new RegExp(`(${H})`)}catch(B){throw new Error(`Invalid custom RegExp for param "${P}" (${H}): `+B.message)}}let $=U?`((?:${H})(?:/(?:${H}))*)`:`(${H})`;g||($=L&&d.length<2?`(?:/${$})`:"/"+$),L&&($+="?"),r+=$,y+=20,L&&(y+=-8),U&&(y+=-20),H===".*"&&(y+=-50)}h.push(y)}n.push(h)}if(s.strict&&s.end){const d=n.length-1;n[d][n[d].length-1]+=.7000000000000001}s.strict||(r+="/?"),s.end?r+="$":s.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const a=new RegExp(r,s.sensitive?"":"i");function c(d){const h=d.match(a),g={};if(!h)return null;for(let m=1;m<h.length;m++){const y=h[m]||"",P=i[m-1];g[P.name]=y&&P.repeatable?y.split("/"):y}return g}function l(d){let h="",g=!1;for(const m of t){(!g||!h.endsWith("/"))&&(h+="/"),g=!1;for(const y of m)if(y.type===0)h+=y.value;else if(y.type===1){const{value:P,repeatable:U,optional:L}=y,W=P in d?d[P]:"";if(Gt(W)&&!U)throw new Error(`Provided param "${P}" is an array but it is not repeatable (* or + modifiers)`);const H=Gt(W)?W.join("/"):W;if(!H)if(L)m.length<2&&(h.endsWith("/")?h=h.slice(0,-1):g=!0);else throw new Error(`Missing required param "${P}"`);h+=H}}return h||"/"}return{re:a,score:n,keys:i,parse:c,stringify:l}}function P_(t,e){let s=0;for(;s<t.length&&s<e.length;){const n=e[s]-t[s];if(n)return n;s++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function mf(t,e){let s=0;const n=t.score,r=e.score;for(;s<n.length&&s<r.length;){const i=P_(n[s],r[s]);if(i)return i;s++}if(Math.abs(r.length-n.length)===1){if(Eu(n))return 1;if(Eu(r))return-1}return r.length-n.length}function Eu(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const R_={type:0,value:""},O_=/[a-zA-Z0-9_]/;function D_(t){if(!t)return[[]];if(t==="/")return[[R_]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(y){throw new Error(`ERR (${s})/"${d}": ${y}`)}let s=0,n=s;const r=[];let i;function a(){i&&r.push(i),i=[]}let c=0,l,d="",h="";function g(){d&&(s===0?i.push({type:0,value:d}):s===1||s===2||s===3?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:d,regexp:h,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),d="")}function m(){d+=l}for(;c<t.length;){if(l=t[c++],l==="\\"&&s!==2){n=s,s=4;continue}switch(s){case 0:l==="/"?(d&&g(),a()):l===":"?(g(),s=1):m();break;case 4:m(),s=n;break;case 1:l==="("?s=2:O_.test(l)?m():(g(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&c--);break;case 2:l===")"?h[h.length-1]=="\\"?h=h.slice(0,-1)+l:s=3:h+=l;break;case 3:g(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&c--,h="";break;default:e("Unknown state");break}}return s===2&&e(`Unfinished custom RegExp for param "${d}"`),g(),a(),r}function x_(t,e,s){const n=C_(D_(t.path),s),r=Pe(n,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function U_(t,e){const s=[],n=new Map;e=ku({strict:!1,end:!0,sensitive:!1},e);function r(g){return n.get(g)}function i(g,m,y){const P=!y,U=Su(g);U.aliasOf=y&&y.record;const L=ku(e,g),W=[U];if("alias"in g){const B=typeof g.alias=="string"?[g.alias]:g.alias;for(const ee of B)W.push(Su(Pe({},U,{components:y?y.record.components:U.components,path:ee,aliasOf:y?y.record:U})))}let H,$;for(const B of W){const{path:ee}=B;if(m&&ee[0]!=="/"){const _e=m.record.path,S=_e[_e.length-1]==="/"?"":"/";B.path=m.record.path+(ee&&S+ee)}if(H=x_(B,m,L),y?y.alias.push(H):($=$||H,$!==H&&$.alias.push(H),P&&g.name&&!Iu(H)&&a(g.name)),vf(H)&&l(H),U.children){const _e=U.children;for(let S=0;S<_e.length;S++)i(_e[S],H,y&&y.children[S])}y=y||H}return $?()=>{a($)}:Gr}function a(g){if(pf(g)){const m=n.get(g);m&&(n.delete(g),s.splice(s.indexOf(m),1),m.children.forEach(a),m.alias.forEach(a))}else{const m=s.indexOf(g);m>-1&&(s.splice(m,1),g.record.name&&n.delete(g.record.name),g.children.forEach(a),g.alias.forEach(a))}}function c(){return s}function l(g){const m=M_(g,s);s.splice(m,0,g),g.record.name&&!Iu(g)&&n.set(g.record.name,g)}function d(g,m){let y,P={},U,L;if("name"in g&&g.name){if(y=n.get(g.name),!y)throw fr(1,{location:g});L=y.record.name,P=Pe(Tu(m.params,y.keys.filter($=>!$.optional).concat(y.parent?y.parent.keys.filter($=>$.optional):[]).map($=>$.name)),g.params&&Tu(g.params,y.keys.map($=>$.name))),U=y.stringify(P)}else if(g.path!=null)U=g.path,y=s.find($=>$.re.test(U)),y&&(P=y.parse(U),L=y.record.name);else{if(y=m.name?n.get(m.name):s.find($=>$.re.test(m.path)),!y)throw fr(1,{location:g,currentLocation:m});L=y.record.name,P=Pe({},m.params,g.params),U=y.stringify(P)}const W=[];let H=y;for(;H;)W.unshift(H.record),H=H.parent;return{name:L,path:U,params:P,matched:W,meta:N_(W)}}t.forEach(g=>i(g));function h(){s.length=0,n.clear()}return{addRoute:i,resolve:d,removeRoute:a,clearRoutes:h,getRoutes:c,getRecordMatcher:r}}function Tu(t,e){const s={};for(const n of e)n in t&&(s[n]=t[n]);return s}function Su(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:L_(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function L_(t){const e={},s=t.props||!1;if("component"in t)e.default=s;else for(const n in t.components)e[n]=typeof s=="object"?s[n]:s;return e}function Iu(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function N_(t){return t.reduce((e,s)=>Pe(e,s.meta),{})}function ku(t,e){const s={};for(const n in t)s[n]=n in e?e[n]:t[n];return s}function M_(t,e){let s=0,n=e.length;for(;s!==n;){const i=s+n>>1;mf(t,e[i])<0?n=i:s=i+1}const r=j_(t);return r&&(n=e.lastIndexOf(r,n-1)),n}function j_(t){let e=t;for(;e=e.parent;)if(vf(e)&&mf(t,e)===0)return e}function vf({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function F_(t){const e={};if(t===""||t==="?")return e;const n=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<n.length;++r){const i=n[r].replace(lf," "),a=i.indexOf("="),c=ci(a<0?i:i.slice(0,a)),l=a<0?null:ci(i.slice(a+1));if(c in e){let d=e[c];Gt(d)||(d=e[c]=[d]),d.push(l)}else e[c]=l}return e}function Au(t){let e="";for(let s in t){const n=t[s];if(s=i_(s),n==null){n!==void 0&&(e+=(e.length?"&":"")+s);continue}(Gt(n)?n.map(i=>i&&Ja(i)):[n&&Ja(n)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+s,i!=null&&(e+="="+i))})}return e}function B_(t){const e={};for(const s in t){const n=t[s];n!==void 0&&(e[s]=Gt(n)?n.map(r=>r==null?null:""+r):n==null?n:""+n)}return e}const $_=Symbol(""),Cu=Symbol(""),Wo=Symbol(""),_f=Symbol(""),Xa=Symbol("");function Lr(){let t=[];function e(n){return t.push(n),()=>{const r=t.indexOf(n);r>-1&&t.splice(r,1)}}function s(){t=[]}return{add:e,list:()=>t.slice(),reset:s}}function Ks(t,e,s,n,r,i=a=>a()){const a=n&&(n.enterCallbacks[r]=n.enterCallbacks[r]||[]);return()=>new Promise((c,l)=>{const d=m=>{m===!1?l(fr(4,{from:s,to:e})):m instanceof Error?l(m):I_(m)?l(fr(2,{from:e,to:m})):(a&&n.enterCallbacks[r]===a&&typeof m=="function"&&a.push(m),c())},h=i(()=>t.call(n&&n.instances[r],e,s,d));let g=Promise.resolve(h);t.length<3&&(g=g.then(d)),g.catch(m=>l(m))})}function Ea(t,e,s,n,r=i=>i()){const i=[];for(const a of t)for(const c in a.components){let l=a.components[c];if(!(e!=="beforeRouteEnter"&&!a.instances[c]))if(of(l)){const h=(l.__vccOpts||l)[e];h&&i.push(Ks(h,s,n,a,c,r))}else{let d=l();i.push(()=>d.then(h=>{if(!h)throw new Error(`Couldn't resolve component "${c}" at "${a.path}"`);const g=Gv(h)?h.default:h;a.mods[c]=h,a.components[c]=g;const y=(g.__vccOpts||g)[e];return y&&Ks(y,s,n,a,c,r)()}))}}return i}function Pu(t){const e=ts(Wo),s=ts(_f),n=Be(()=>{const l=nr(t.to);return e.resolve(l)}),r=Be(()=>{const{matched:l}=n.value,{length:d}=l,h=l[d-1],g=s.matched;if(!h||!g.length)return-1;const m=g.findIndex(hr.bind(null,h));if(m>-1)return m;const y=Ru(l[d-2]);return d>1&&Ru(h)===y&&g[g.length-1].path!==y?g.findIndex(hr.bind(null,l[d-2])):m}),i=Be(()=>r.value>-1&&K_(s.params,n.value.params)),a=Be(()=>r.value>-1&&r.value===s.matched.length-1&&hf(s.params,n.value.params));function c(l={}){if(W_(l)){const d=e[nr(t.replace)?"replace":"push"](nr(t.to)).catch(Gr);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>d),d}return Promise.resolve()}return{route:n,href:Be(()=>n.value.href),isActive:i,isExactActive:a,navigate:c}}function V_(t){return t.length===1?t[0]:t}const H_=Ch({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Pu,setup(t,{slots:e}){const s=jo(Pu(t)),{options:n}=ts(Wo),r=Be(()=>({[Ou(t.activeClass,n.linkActiveClass,"router-link-active")]:s.isActive,[Ou(t.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const i=e.default&&V_(e.default(s));return t.custom?i:sf("a",{"aria-current":s.isExactActive?t.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:r.value},i)}}}),q_=H_;function W_(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function K_(t,e){for(const s in e){const n=e[s],r=t[s];if(typeof n=="string"){if(n!==r)return!1}else if(!Gt(r)||r.length!==n.length||n.some((i,a)=>i!==r[a]))return!1}return!0}function Ru(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Ou=(t,e,s)=>t??e??s,z_=Ch({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:s}){const n=ts(Xa),r=Be(()=>t.route||n.value),i=ts(Cu,0),a=Be(()=>{let d=nr(i);const{matched:h}=r.value;let g;for(;(g=h[d])&&!g.components;)d++;return d}),c=Be(()=>r.value.matched[a.value]);eo(Cu,Be(()=>a.value+1)),eo($_,c),eo(Xa,r);const l=de();return to(()=>[l.value,c.value,t.name],([d,h,g],[m,y,P])=>{h&&(h.instances[g]=d,y&&y!==h&&d&&d===m&&(h.leaveGuards.size||(h.leaveGuards=y.leaveGuards),h.updateGuards.size||(h.updateGuards=y.updateGuards))),d&&h&&(!y||!hr(h,y)||!m)&&(h.enterCallbacks[g]||[]).forEach(U=>U(d))},{flush:"post"}),()=>{const d=r.value,h=t.name,g=c.value,m=g&&g.components[h];if(!m)return Du(s.default,{Component:m,route:d});const y=g.props[h],P=y?y===!0?d.params:typeof y=="function"?y(d):y:null,L=sf(m,Pe({},P,e,{onVnodeUnmounted:W=>{W.component.isUnmounted&&(g.instances[h]=null)},ref:l}));return Du(s.default,{Component:L,route:d})||L}}});function Du(t,e){if(!t)return null;const s=t(e);return s.length===1?s[0]:s}const G_=z_;function J_(t){const e=U_(t.routes,t),s=t.parseQuery||F_,n=t.stringifyQuery||Au,r=t.history,i=Lr(),a=Lr(),c=Lr(),l=sm(Bs);let d=Bs;Xn&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=wa.bind(null,N=>""+N),g=wa.bind(null,a_),m=wa.bind(null,ci);function y(N,z){let Q,Z;return pf(N)?(Q=e.getRecordMatcher(N),Z=z):Z=N,e.addRoute(Z,Q)}function P(N){const z=e.getRecordMatcher(N);z&&e.removeRoute(z)}function U(){return e.getRoutes().map(N=>N.record)}function L(N){return!!e.getRecordMatcher(N)}function W(N,z){if(z=Pe({},z||l.value),typeof N=="string"){const C=ba(s,N,z.path),M=e.resolve({path:C.path},z),F=r.createHref(C.fullPath);return Pe(C,M,{params:m(M.params),hash:ci(C.hash),redirectedFrom:void 0,href:F})}let Q;if(N.path!=null)Q=Pe({},N,{path:ba(s,N.path,z.path).path});else{const C=Pe({},N.params);for(const M in C)C[M]==null&&delete C[M];Q=Pe({},N,{params:g(C)}),z.params=g(z.params)}const Z=e.resolve(Q,z),Se=N.hash||"";Z.params=h(m(Z.params));const w=u_(n,Pe({},N,{hash:r_(Se),path:Z.path})),b=r.createHref(w);return Pe({fullPath:w,hash:Se,query:n===Au?B_(N.query):N.query||{}},Z,{redirectedFrom:void 0,href:b})}function H(N){return typeof N=="string"?ba(s,N,l.value.path):Pe({},N)}function $(N,z){if(d!==N)return fr(8,{from:z,to:N})}function B(N){return S(N)}function ee(N){return B(Pe(H(N),{replace:!0}))}function _e(N){const z=N.matched[N.matched.length-1];if(z&&z.redirect){const{redirect:Q}=z;let Z=typeof Q=="function"?Q(N):Q;return typeof Z=="string"&&(Z=Z.includes("?")||Z.includes("#")?Z=H(Z):{path:Z},Z.params={}),Pe({query:N.query,hash:N.hash,params:Z.path!=null?{}:N.params},Z)}}function S(N,z){const Q=d=W(N),Z=l.value,Se=N.state,w=N.force,b=N.replace===!0,C=_e(Q);if(C)return S(Pe(H(C),{state:typeof C=="object"?Pe({},Se,C.state):Se,force:w,replace:b}),z||Q);const M=Q;M.redirectedFrom=z;let F;return!w&&d_(n,Z,Q)&&(F=fr(16,{to:M,from:Z}),mt(Z,Z,!0,!1)),(F?Promise.resolve(F):I(M,Z)).catch(j=>gs(j)?gs(j,2)?j:Tt(j):ge(j,M,Z)).then(j=>{if(j){if(gs(j,2))return S(Pe({replace:b},H(j.to),{state:typeof j.to=="object"?Pe({},Se,j.to.state):Se,force:w}),z||M)}else j=A(M,Z,!0,b,Se);return k(M,Z,j),j})}function _(N,z){const Q=$(N,z);return Q?Promise.reject(Q):Promise.resolve()}function T(N){const z=it.values().next().value;return z&&typeof z.runWithContext=="function"?z.runWithContext(N):N()}function I(N,z){let Q;const[Z,Se,w]=Y_(N,z);Q=Ea(Z.reverse(),"beforeRouteLeave",N,z);for(const C of Z)C.leaveGuards.forEach(M=>{Q.push(Ks(M,N,z))});const b=_.bind(null,N,z);return Q.push(b),Ze(Q).then(()=>{Q=[];for(const C of i.list())Q.push(Ks(C,N,z));return Q.push(b),Ze(Q)}).then(()=>{Q=Ea(Se,"beforeRouteUpdate",N,z);for(const C of Se)C.updateGuards.forEach(M=>{Q.push(Ks(M,N,z))});return Q.push(b),Ze(Q)}).then(()=>{Q=[];for(const C of w)if(C.beforeEnter)if(Gt(C.beforeEnter))for(const M of C.beforeEnter)Q.push(Ks(M,N,z));else Q.push(Ks(C.beforeEnter,N,z));return Q.push(b),Ze(Q)}).then(()=>(N.matched.forEach(C=>C.enterCallbacks={}),Q=Ea(w,"beforeRouteEnter",N,z,T),Q.push(b),Ze(Q))).then(()=>{Q=[];for(const C of a.list())Q.push(Ks(C,N,z));return Q.push(b),Ze(Q)}).catch(C=>gs(C,8)?C:Promise.reject(C))}function k(N,z,Q){c.list().forEach(Z=>T(()=>Z(N,z,Q)))}function A(N,z,Q,Z,Se){const w=$(N,z);if(w)return w;const b=z===Bs,C=Xn?history.state:{};Q&&(Z||b?r.replace(N.fullPath,Pe({scroll:b&&C&&C.scroll},Se)):r.push(N.fullPath,Se)),l.value=N,mt(N,z,Q,b),Tt()}let E;function ze(){E||(E=r.listen((N,z,Q)=>{if(!Je.listening)return;const Z=W(N),Se=_e(Z);if(Se){S(Pe(Se,{replace:!0,force:!0}),Z).catch(Gr);return}d=Z;const w=l.value;Xn&&y_(_u(w.fullPath,Q.delta),qo()),I(Z,w).catch(b=>gs(b,12)?b:gs(b,2)?(S(Pe(H(b.to),{force:!0}),Z).then(C=>{gs(C,20)&&!Q.delta&&Q.type===ui.pop&&r.go(-1,!1)}).catch(Gr),Promise.reject()):(Q.delta&&r.go(-Q.delta,!1),ge(b,Z,w))).then(b=>{b=b||A(Z,w,!1),b&&(Q.delta&&!gs(b,8)?r.go(-Q.delta,!1):Q.type===ui.pop&&gs(b,20)&&r.go(-1,!1)),k(Z,w,b)}).catch(Gr)}))}let Ge=Lr(),xe=Lr(),ve;function ge(N,z,Q){Tt(N);const Z=xe.list();return Z.length?Z.forEach(Se=>Se(N,z,Q)):console.error(N),Promise.reject(N)}function rt(){return ve&&l.value!==Bs?Promise.resolve():new Promise((N,z)=>{Ge.add([N,z])})}function Tt(N){return ve||(ve=!N,ze(),Ge.list().forEach(([z,Q])=>N?Q(N):z()),Ge.reset()),N}function mt(N,z,Q,Z){const{scrollBehavior:Se}=t;if(!Xn||!Se)return Promise.resolve();const w=!Q&&w_(_u(N.fullPath,0))||(Z||!Q)&&history.state&&history.state.scroll||null;return Rl().then(()=>Se(N,z,w)).then(b=>b&&__(b)).catch(b=>ge(b,N,z))}const Te=N=>r.go(N);let we;const it=new Set,Je={currentRoute:l,listening:!0,addRoute:y,removeRoute:P,clearRoutes:e.clearRoutes,hasRoute:L,getRoutes:U,resolve:W,options:t,push:B,replace:ee,go:Te,back:()=>Te(-1),forward:()=>Te(1),beforeEach:i.add,beforeResolve:a.add,afterEach:c.add,onError:xe.add,isReady:rt,install(N){const z=this;N.component("RouterLink",q_),N.component("RouterView",G_),N.config.globalProperties.$router=z,Object.defineProperty(N.config.globalProperties,"$route",{enumerable:!0,get:()=>nr(l)}),Xn&&!we&&l.value===Bs&&(we=!0,B(r.location).catch(Se=>{}));const Q={};for(const Se in Bs)Object.defineProperty(Q,Se,{get:()=>l.value[Se],enumerable:!0});N.provide(Wo,z),N.provide(_f,yh(Q)),N.provide(Xa,l);const Z=N.unmount;it.add(N),N.unmount=function(){it.delete(N),it.size<1&&(d=Bs,E&&E(),E=null,l.value=Bs,we=!1,ve=!1),Z()}}};function Ze(N){return N.reduce((z,Q)=>z.then(()=>T(Q)),Promise.resolve())}return Je}function Y_(t,e){const s=[],n=[],r=[],i=Math.max(e.matched.length,t.matched.length);for(let a=0;a<i;a++){const c=e.matched[a];c&&(t.matched.find(d=>hr(d,c))?n.push(c):s.push(c));const l=t.matched[a];l&&(e.matched.find(d=>hr(d,l))||r.push(l))}return[s,n,r]}function yf(){return ts(Wo)}const X_=()=>{};var xu={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wf=function(t){const e=[];let s=0;for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<128?e[s++]=r:r<2048?(e[s++]=r>>6|192,e[s++]=r&63|128):(r&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++n)&1023),e[s++]=r>>18|240,e[s++]=r>>12&63|128,e[s++]=r>>6&63|128,e[s++]=r&63|128):(e[s++]=r>>12|224,e[s++]=r>>6&63|128,e[s++]=r&63|128)}return e},Q_=function(t){const e=[];let s=0,n=0;for(;s<t.length;){const r=t[s++];if(r<128)e[n++]=String.fromCharCode(r);else if(r>191&&r<224){const i=t[s++];e[n++]=String.fromCharCode((r&31)<<6|i&63)}else if(r>239&&r<365){const i=t[s++],a=t[s++],c=t[s++],l=((r&7)<<18|(i&63)<<12|(a&63)<<6|c&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const i=t[s++],a=t[s++];e[n++]=String.fromCharCode((r&15)<<12|(i&63)<<6|a&63)}}return e.join("")},bf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const s=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let r=0;r<t.length;r+=3){const i=t[r],a=r+1<t.length,c=a?t[r+1]:0,l=r+2<t.length,d=l?t[r+2]:0,h=i>>2,g=(i&3)<<4|c>>4;let m=(c&15)<<2|d>>6,y=d&63;l||(y=64,a||(m=64)),n.push(s[h],s[g],s[m],s[y])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(wf(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Q_(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const s=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let r=0;r<t.length;){const i=s[t.charAt(r++)],c=r<t.length?s[t.charAt(r)]:0;++r;const d=r<t.length?s[t.charAt(r)]:64;++r;const g=r<t.length?s[t.charAt(r)]:64;if(++r,i==null||c==null||d==null||g==null)throw new Z_;const m=i<<2|c>>4;if(n.push(m),d!==64){const y=c<<4&240|d>>2;if(n.push(y),g!==64){const P=d<<6&192|g;n.push(P)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Z_ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ey=function(t){const e=wf(t);return bf.encodeByteArray(e,!0)},wo=function(t){return ey(t).replace(/\./g,"")},Ef=function(t){try{return bf.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ty(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sy=()=>ty().__FIREBASE_DEFAULTS__,ny=()=>{if(typeof process>"u"||typeof xu>"u")return;const t=xu.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ry=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Ef(t[1]);return e&&JSON.parse(e)},jl=()=>{try{return X_()||sy()||ny()||ry()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Tf=t=>{var e,s;return(s=(e=jl())===null||e===void 0?void 0:e.emulatorHosts)===null||s===void 0?void 0:s[t]},Sf=t=>{const e=Tf(t);if(!e)return;const s=e.lastIndexOf(":");if(s<=0||s+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(s+1),10);return e[0]==="["?[e.substring(1,s-1),n]:[e.substring(0,s),n]},If=()=>{var t;return(t=jl())===null||t===void 0?void 0:t.config},kf=t=>{var e;return(e=jl())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iy=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,s)=>{this.resolve=e,this.reject=s})}wrapCallback(e){return(s,n)=>{s?this.reject(s):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(s):e(s,n))}}};/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vi(t){return t.endsWith(".cloudworkstations.dev")}async function Fl(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Af(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const s={alg:"none",type:"JWT"},n=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[wo(JSON.stringify(s)),wo(JSON.stringify(a)),""].join(".")}const Yr={};function oy(){const t={prod:[],emulator:[]};for(const e of Object.keys(Yr))Yr[e]?t.emulator.push(e):t.prod.push(e);return t}function ay(t){let e=document.getElementById(t),s=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),s=!0),{created:s,element:e}}let Uu=!1;function Bl(t,e){if(typeof window>"u"||typeof document>"u"||!vi(window.location.host)||Yr[t]===e||Yr[t]||Uu)return;Yr[t]=e;function s(m){return`__firebase__banner__${m}`}const n="__firebase__banner",i=oy().prod.length>0;function a(){const m=document.getElementById(n);m&&m.remove()}function c(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function l(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function d(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{Uu=!0,a()},m}function h(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function g(){const m=ay(n),y=s("text"),P=document.getElementById(y)||document.createElement("span"),U=s("learnmore"),L=document.getElementById(U)||document.createElement("a"),W=s("preprendIcon"),H=document.getElementById(W)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const $=m.element;c($),h(L,U);const B=d();l(H,W),$.append(H,P,L,B),document.body.appendChild($)}i?(P.innerText="Preview backend disconnected.",H.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(H.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ly(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Et())}function cy(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function uy(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function dy(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hy(){const t=Et();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function fy(){try{return typeof indexedDB=="object"}catch{return!1}}function py(){return new Promise((t,e)=>{try{let s=!0;const n="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(n);r.onsuccess=()=>{r.result.close(),s||self.indexedDB.deleteDatabase(n),t(!0)},r.onupgradeneeded=()=>{s=!1},r.onerror=()=>{var i;e(((i=r.error)===null||i===void 0?void 0:i.message)||"")}}catch(s){e(s)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gy="FirebaseError";class ls extends Error{constructor(e,s,n){super(s),this.code=e,this.customData=n,this.name=gy,Object.setPrototypeOf(this,ls.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_i.prototype.create)}}class _i{constructor(e,s,n){this.service=e,this.serviceName=s,this.errors=n}create(e,...s){const n=s[0]||{},r=`${this.service}/${e}`,i=this.errors[e],a=i?my(i,n):"Error",c=`${this.serviceName}: ${a} (${r}).`;return new ls(r,c,n)}}function my(t,e){return t.replace(vy,(s,n)=>{const r=e[n];return r!=null?String(r):`<${n}?>`})}const vy=/\{\$([^}]+)}/g;function _y(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Sn(t,e){if(t===e)return!0;const s=Object.keys(t),n=Object.keys(e);for(const r of s){if(!n.includes(r))return!1;const i=t[r],a=e[r];if(Lu(i)&&Lu(a)){if(!Sn(i,a))return!1}else if(i!==a)return!1}for(const r of n)if(!s.includes(r))return!1;return!0}function Lu(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(t){const e=[];for(const[s,n]of Object.entries(t))Array.isArray(n)?n.forEach(r=>{e.push(encodeURIComponent(s)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(s)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Fr(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[r,i]=n.split("=");e[decodeURIComponent(r)]=decodeURIComponent(i)}}),e}function Br(t){const e=t.indexOf("?");if(!e)return"";const s=t.indexOf("#",e);return t.substring(e,s>0?s:void 0)}function yy(t,e){const s=new wy(t,e);return s.subscribe.bind(s)}class wy{constructor(e,s){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=s,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(s=>{s.next(e)})}error(e){this.forEachObserver(s=>{s.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,s,n){let r;if(e===void 0&&s===void 0&&n===void 0)throw new Error("Missing Observer.");by(e,["next","error","complete"])?r=e:r={next:e,error:s,complete:n},r.next===void 0&&(r.next=Ta),r.error===void 0&&(r.error=Ta),r.complete===void 0&&(r.complete=Ta);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let s=0;s<this.observers.length;s++)this.sendOne(s,e)}sendOne(e,s){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{s(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function by(t,e){if(typeof t!="object"||t===null)return!1;for(const s of e)if(s in t&&typeof t[s]=="function")return!0;return!1}function Ta(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cs(t){return t&&t._delegate?t._delegate:t}class tn{constructor(e,s,n){this.name=e,this.instanceFactory=s,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(e,s){this.name=e,this.container=s,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const s=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(s)){const n=new iy;if(this.instancesDeferred.set(s,n),this.isInitialized(s)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:s});r&&n.resolve(r)}catch{}}return this.instancesDeferred.get(s).promise}getImmediate(e){var s;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(s=e==null?void 0:e.optional)!==null&&s!==void 0?s:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Sy(e))try{this.getOrInitializeService({instanceIdentifier:wn})}catch{}for(const[s,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(s);try{const i=this.getOrInitializeService({instanceIdentifier:r});n.resolve(i)}catch{}}}}clearInstance(e=wn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(s=>"INTERNAL"in s).map(s=>s.INTERNAL.delete()),...e.filter(s=>"_delete"in s).map(s=>s._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=wn){return this.instances.has(e)}getOptions(e=wn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:s={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:s});for(const[i,a]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(i);n===c&&a.resolve(r)}return r}onInit(e,s){var n;const r=this.normalizeInstanceIdentifier(s),i=(n=this.onInitCallbacks.get(r))!==null&&n!==void 0?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,s){const n=this.onInitCallbacks.get(s);if(n)for(const r of n)try{r(e,s)}catch{}}getOrInitializeService({instanceIdentifier:e,options:s={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:Ty(e),options:s}),this.instances.set(e,n),this.instancesOptions.set(e,s),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=wn){return this.component?this.component.multipleInstances?e:wn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Ty(t){return t===wn?void 0:t}function Sy(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const s=this.getProvider(e.name);if(s.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);s.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const s=new Ey(e,this);return this.providers.set(e,s),s}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(De||(De={}));const ky={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},Ay=De.INFO,Cy={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},Py=(t,e,...s)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),r=Cy[e];if(r)console[r](`[${n}]  ${t.name}:`,...s);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $l{constructor(e){this.name=e,this._logLevel=Ay,this._logHandler=Py,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ky[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}}const Ry=(t,e)=>e.some(s=>t instanceof s);let Nu,Mu;function Oy(){return Nu||(Nu=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Dy(){return Mu||(Mu=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Cf=new WeakMap,Qa=new WeakMap,Pf=new WeakMap,Sa=new WeakMap,Vl=new WeakMap;function xy(t){const e=new Promise((s,n)=>{const r=()=>{t.removeEventListener("success",i),t.removeEventListener("error",a)},i=()=>{s(Xs(t.result)),r()},a=()=>{n(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",a)});return e.then(s=>{s instanceof IDBCursor&&Cf.set(s,t)}).catch(()=>{}),Vl.set(e,t),e}function Uy(t){if(Qa.has(t))return;const e=new Promise((s,n)=>{const r=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",a),t.removeEventListener("abort",a)},i=()=>{s(),r()},a=()=>{n(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",i),t.addEventListener("error",a),t.addEventListener("abort",a)});Qa.set(t,e)}let Za={get(t,e,s){if(t instanceof IDBTransaction){if(e==="done")return Qa.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Pf.get(t);if(e==="store")return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return Xs(t[e])},set(t,e,s){return t[e]=s,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Ly(t){Za=t(Za)}function Ny(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...s){const n=t.call(Ia(this),e,...s);return Pf.set(n,e.sort?e.sort():[e]),Xs(n)}:Dy().includes(t)?function(...e){return t.apply(Ia(this),e),Xs(Cf.get(this))}:function(...e){return Xs(t.apply(Ia(this),e))}}function My(t){return typeof t=="function"?Ny(t):(t instanceof IDBTransaction&&Uy(t),Ry(t,Oy())?new Proxy(t,Za):t)}function Xs(t){if(t instanceof IDBRequest)return xy(t);if(Sa.has(t))return Sa.get(t);const e=My(t);return e!==t&&(Sa.set(t,e),Vl.set(e,t)),e}const Ia=t=>Vl.get(t);function jy(t,e,{blocked:s,upgrade:n,blocking:r,terminated:i}={}){const a=indexedDB.open(t,e),c=Xs(a);return n&&a.addEventListener("upgradeneeded",l=>{n(Xs(a.result),l.oldVersion,l.newVersion,Xs(a.transaction),l)}),s&&a.addEventListener("blocked",l=>s(l.oldVersion,l.newVersion,l)),c.then(l=>{i&&l.addEventListener("close",()=>i()),r&&l.addEventListener("versionchange",d=>r(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const Fy=["get","getKey","getAll","getAllKeys","count"],By=["put","add","delete","clear"],ka=new Map;function ju(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ka.get(e))return ka.get(e);const s=e.replace(/FromIndex$/,""),n=e!==s,r=By.includes(s);if(!(s in(n?IDBIndex:IDBObjectStore).prototype)||!(r||Fy.includes(s)))return;const i=async function(a,...c){const l=this.transaction(a,r?"readwrite":"readonly");let d=l.store;return n&&(d=d.index(c.shift())),(await Promise.all([d[s](...c),r&&l.done]))[0]};return ka.set(e,i),i}Ly(t=>({...t,get:(e,s,n)=>ju(e,s)||t.get(e,s,n),has:(e,s)=>!!ju(e,s)||t.has(e,s)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(s=>{if(Vy(s)){const n=s.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(s=>s).join(" ")}}function Vy(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const el="@firebase/app",Fu="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs=new $l("@firebase/app"),Hy="@firebase/app-compat",qy="@firebase/analytics-compat",Wy="@firebase/analytics",Ky="@firebase/app-check-compat",zy="@firebase/app-check",Gy="@firebase/auth",Jy="@firebase/auth-compat",Yy="@firebase/database",Xy="@firebase/data-connect",Qy="@firebase/database-compat",Zy="@firebase/functions",ew="@firebase/functions-compat",tw="@firebase/installations",sw="@firebase/installations-compat",nw="@firebase/messaging",rw="@firebase/messaging-compat",iw="@firebase/performance",ow="@firebase/performance-compat",aw="@firebase/remote-config",lw="@firebase/remote-config-compat",cw="@firebase/storage",uw="@firebase/storage-compat",dw="@firebase/firestore",hw="@firebase/ai",fw="@firebase/firestore-compat",pw="firebase",gw="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tl="[DEFAULT]",mw={[el]:"fire-core",[Hy]:"fire-core-compat",[Wy]:"fire-analytics",[qy]:"fire-analytics-compat",[zy]:"fire-app-check",[Ky]:"fire-app-check-compat",[Gy]:"fire-auth",[Jy]:"fire-auth-compat",[Yy]:"fire-rtdb",[Xy]:"fire-data-connect",[Qy]:"fire-rtdb-compat",[Zy]:"fire-fn",[ew]:"fire-fn-compat",[tw]:"fire-iid",[sw]:"fire-iid-compat",[nw]:"fire-fcm",[rw]:"fire-fcm-compat",[iw]:"fire-perf",[ow]:"fire-perf-compat",[aw]:"fire-rc",[lw]:"fire-rc-compat",[cw]:"fire-gcs",[uw]:"fire-gcs-compat",[dw]:"fire-fst",[fw]:"fire-fst-compat",[hw]:"fire-vertex","fire-js":"fire-js",[pw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bo=new Map,vw=new Map,sl=new Map;function Bu(t,e){try{t.container.addComponent(e)}catch(s){Rs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,s)}}function In(t){const e=t.name;if(sl.has(e))return Rs.debug(`There were multiple attempts to register component ${e}.`),!1;sl.set(e,t);for(const s of bo.values())Bu(s,t);for(const s of vw.values())Bu(s,t);return!0}function Ko(t,e){const s=t.container.getProvider("heartbeat").getImmediate({optional:!0});return s&&s.triggerHeartbeat(),t.container.getProvider(e)}function xt(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qs=new _i("app","Firebase",_w);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(e,s,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},s),this._name=s.name,this._automaticDataCollectionEnabled=s.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new tn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pn=gw;function Rf(t,e={}){let s=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:tl,automaticDataCollectionEnabled:!0},e),r=n.name;if(typeof r!="string"||!r)throw Qs.create("bad-app-name",{appName:String(r)});if(s||(s=If()),!s)throw Qs.create("no-options");const i=bo.get(r);if(i){if(Sn(s,i.options)&&Sn(n,i.config))return i;throw Qs.create("duplicate-app",{appName:r})}const a=new Iy(r);for(const l of sl.values())a.addComponent(l);const c=new yw(s,n,a);return bo.set(r,c),c}function Hl(t=tl){const e=bo.get(t);if(!e&&t===tl&&If())return Rf();if(!e)throw Qs.create("no-app",{appName:t});return e}function ss(t,e,s){var n;let r=(n=mw[t])!==null&&n!==void 0?n:t;s&&(r+=`-${s}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const c=[`Unable to register library "${r}" with version "${e}":`];i&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&c.push("and"),a&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Rs.warn(c.join(" "));return}In(new tn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww="firebase-heartbeat-database",bw=1,di="firebase-heartbeat-store";let Aa=null;function Of(){return Aa||(Aa=jy(ww,bw,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(di)}catch(s){console.warn(s)}}}}).catch(t=>{throw Qs.create("idb-open",{originalErrorMessage:t.message})})),Aa}async function Ew(t){try{const s=(await Of()).transaction(di),n=await s.objectStore(di).get(Df(t));return await s.done,n}catch(e){if(e instanceof ls)Rs.warn(e.message);else{const s=Qs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Rs.warn(s.message)}}}async function $u(t,e){try{const n=(await Of()).transaction(di,"readwrite");await n.objectStore(di).put(e,Df(t)),await n.done}catch(s){if(s instanceof ls)Rs.warn(s.message);else{const n=Qs.create("idb-set",{originalErrorMessage:s==null?void 0:s.message});Rs.warn(n.message)}}}function Df(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw=1024,Sw=30;class Iw{constructor(e){this.container=e,this._heartbeatsCache=null;const s=this.container.getProvider("app").getImmediate();this._storage=new Aw(s),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,s;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Vu();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((s=this._heartbeatsCache)===null||s===void 0?void 0:s.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:r}),this._heartbeatsCache.heartbeats.length>Sw){const a=Cw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Rs.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const s=Vu(),{heartbeatsToSend:n,unsentEntries:r}=kw(this._heartbeatsCache.heartbeats),i=wo(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=s,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(s){return Rs.warn(s),""}}}function Vu(){return new Date().toISOString().substring(0,10)}function kw(t,e=Tw){const s=[];let n=t.slice();for(const r of t){const i=s.find(a=>a.agent===r.agent);if(i){if(i.dates.push(r.date),Hu(s)>e){i.dates.pop();break}}else if(s.push({agent:r.agent,dates:[r.date]}),Hu(s)>e){s.pop();break}n=n.slice(1)}return{heartbeatsToSend:s,unsentEntries:n}}class Aw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fy()?py().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const s=await Ew(this.app);return s!=null&&s.heartbeats?s:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var s;if(await this._canUseIndexedDBPromise){const r=await this.read();return $u(this.app,{lastSentHeartbeatDate:(s=e.lastSentHeartbeatDate)!==null&&s!==void 0?s:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var s;if(await this._canUseIndexedDBPromise){const r=await this.read();return $u(this.app,{lastSentHeartbeatDate:(s=e.lastSentHeartbeatDate)!==null&&s!==void 0?s:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Hu(t){return wo(JSON.stringify({version:2,heartbeats:t})).length}function Cw(t){if(t.length===0)return-1;let e=0,s=t[0].date;for(let n=1;n<t.length;n++)t[n].date<s&&(s=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pw(t){In(new tn("platform-logger",e=>new $y(e),"PRIVATE")),In(new tn("heartbeat",e=>new Iw(e),"PRIVATE")),ss(el,Fu,t),ss(el,Fu,"esm2017"),ss("fire-js","")}Pw("");var Rw="firebase",Ow="11.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ss(Rw,Ow,"app");function ql(t,e){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(s[n[r]]=t[n[r]]);return s}function xf(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Uf=xf,Lf=new _i("auth","Firebase",xf());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo=new $l("@firebase/auth");function Dw(t,...e){Eo.logLevel<=De.WARN&&Eo.warn(`Auth (${Pn}): ${t}`,...e)}function oo(t,...e){Eo.logLevel<=De.ERROR&&Eo.error(`Auth (${Pn}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(t,...e){throw Wl(t,...e)}function ns(t,...e){return Wl(t,...e)}function Nf(t,e,s){const n=Object.assign(Object.assign({},Uf()),{[e]:s});return new _i("auth","Firebase",n).create(e,{appName:t.name})}function As(t){return Nf(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Wl(t,...e){if(typeof t!="string"){const s=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(s,...n)}return Lf.create(t,...e)}function ue(t,e,...s){if(!t)throw Wl(e,...s)}function Ss(t){const e="INTERNAL ASSERTION FAILED: "+t;throw oo(e),new Error(e)}function Os(t,e){t||Ss(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nl(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function xw(){return qu()==="http:"||qu()==="https:"}function qu(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(xw()||uy()||"connection"in navigator)?navigator.onLine:!0}function Lw(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e,s){this.shortDelay=e,this.longDelay=s,Os(s>e,"Short delay should be less than long delay!"),this.isMobile=ly()||dy()}get(){return Uw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kl(t,e){Os(t.emulator,"Emulator should always be set here");const{url:s}=t.emulator;return e?`${s}${e.startsWith("/")?e.slice(1):e}`:s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{static initialize(e,s,n){this.fetchImpl=e,s&&(this.headersImpl=s),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ss("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ss("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ss("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],jw=new wi(3e4,6e4);function nn(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function xs(t,e,s,n,r={}){return jf(t,r,async()=>{let i={},a={};n&&(e==="GET"?a=n:i={body:JSON.stringify(n)});const c=yi(Object.assign({key:t.config.apiKey},a)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const d=Object.assign({method:e,headers:l},i);return cy()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&vi(t.emulatorConfig.host)&&(d.credentials="include"),Mf.fetch()(await Ff(t,t.config.apiHost,s,c),d)})}async function jf(t,e,s){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},Nw),e);try{const r=new Bw(t),i=await Promise.race([s(),r.promise]);r.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw Wi(t,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const c=i.ok?a.errorMessage:a.error.message,[l,d]=c.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wi(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw Wi(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw Wi(t,"user-disabled",a);const h=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw Nf(t,h,d);Jt(t,h)}}catch(r){if(r instanceof ls)throw r;Jt(t,"network-request-failed",{message:String(r)})}}async function bi(t,e,s,n,r={}){const i=await xs(t,e,s,n,r);return"mfaPendingCredential"in i&&Jt(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function Ff(t,e,s,n){const r=`${e}${s}?${n}`,i=t,a=i.config.emulator?Kl(t.config,r):`${t.config.apiScheme}://${r}`;return Mw.includes(s)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(a).toString():a}function Fw(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Bw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((s,n)=>{this.timer=setTimeout(()=>n(ns(this.auth,"network-request-failed")),jw.get())})}}function Wi(t,e,s){const n={appName:t.name};s.email&&(n.email=s.email),s.phoneNumber&&(n.phoneNumber=s.phoneNumber);const r=ns(t,e,n);return r.customData._tokenResponse=s,r}function Wu(t){return t!==void 0&&t.enterprise!==void 0}class $w{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const s of this.recaptchaEnforcementState)if(s.provider&&s.provider===e)return Fw(s.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Vw(t,e){return xs(t,"GET","/v2/recaptchaConfig",nn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hw(t,e){return xs(t,"POST","/v1/accounts:delete",e)}async function To(t,e){return xs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Bf(t,e=!1){const s=cs(t),n=await s.getIdToken(e),r=zl(n);ue(r&&r.exp&&r.auth_time&&r.iat,s.auth,"internal-error");const i=typeof r.firebase=="object"?r.firebase:void 0,a=i==null?void 0:i.sign_in_provider;return{claims:r,token:n,authTime:Xr(Ca(r.auth_time)),issuedAtTime:Xr(Ca(r.iat)),expirationTime:Xr(Ca(r.exp)),signInProvider:a||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Ca(t){return Number(t)*1e3}function zl(t){const[e,s,n]=t.split(".");if(e===void 0||s===void 0||n===void 0)return oo("JWT malformed, contained fewer than 3 sections"),null;try{const r=Ef(s);return r?JSON.parse(r):(oo("Failed to decode base64 JWT payload"),null)}catch(r){return oo("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function Ku(t){const e=zl(t);return ue(e,"internal-error"),ue(typeof e.exp<"u","internal-error"),ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pr(t,e,s=!1){if(s)return e;try{return await e}catch(n){throw n instanceof ls&&qw(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function qw({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var s;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=((s=this.user.stsTokenManager.expirationTime)!==null&&s!==void 0?s:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const s=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},s)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e,s){this.createdAt=e,this.lastLoginAt=s,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xr(this.lastLoginAt),this.creationTime=Xr(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function So(t){var e;const s=t.auth,n=await t.getIdToken(),r=await pr(t,To(s,{idToken:n}));ue(r==null?void 0:r.users.length,s,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?Vf(i.providerUserInfo):[],c=Kw(t.providerData,a),l=t.isAnonymous,d=!(t.email&&i.passwordHash)&&!(c!=null&&c.length),h=l?d:!1,g={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:c,metadata:new rl(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,g)}async function $f(t){const e=cs(t);await So(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Kw(t,e){return[...t.filter(n=>!e.some(r=>r.providerId===n.providerId)),...e]}function Vf(t){return t.map(e=>{var{providerId:s}=e,n=ql(e,["providerId"]);return{providerId:s,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zw(t,e){const s=await jf(t,{},async()=>{const n=yi({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:i}=t.config,a=await Ff(t,r,"/v1/token",`key=${i}`),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",Mf.fetch()(a,{method:"POST",headers:c,body:n})});return{accessToken:s.access_token,expiresIn:s.expires_in,refreshToken:s.refresh_token}}async function Gw(t,e){return xs(t,"POST","/v2/accounts:revokeToken",nn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ue(e.idToken,"internal-error"),ue(typeof e.idToken<"u","internal-error"),ue(typeof e.refreshToken<"u","internal-error");const s="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ku(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,s)}updateFromIdToken(e){ue(e.length!==0,"internal-error");const s=Ku(e);this.updateTokensAndExpiration(e,null,s)}async getToken(e,s=!1){return!s&&this.accessToken&&!this.isExpired?this.accessToken:(ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,s){const{accessToken:n,refreshToken:r,expiresIn:i}=await zw(e,s);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,s,n){this.refreshToken=s||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,s){const{refreshToken:n,accessToken:r,expirationTime:i}=s,a=new or;return n&&(ue(typeof n=="string","internal-error",{appName:e}),a.refreshToken=n),r&&(ue(typeof r=="string","internal-error",{appName:e}),a.accessToken=r),i&&(ue(typeof i=="number","internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new or,this.toJSON())}_performRefresh(){return Ss("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $s(t,e){ue(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class qt{constructor(e){var{uid:s,auth:n,stsTokenManager:r}=e,i=ql(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ww(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=s,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new rl(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const s=await pr(this,this.stsTokenManager.getToken(this.auth,e));return ue(s,this.auth,"internal-error"),this.accessToken!==s&&(this.accessToken=s,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),s}getIdTokenResult(e){return Bf(this,e)}reload(){return $f(this)}_assign(e){this!==e&&(ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(s=>Object.assign({},s)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const s=new qt(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return s.metadata._copy(this.metadata),s}_onReload(e){ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,s=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),s&&await So(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xt(this.auth.app))return Promise.reject(As(this.auth));const e=await this.getIdToken();return await pr(this,Hw(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,s){var n,r,i,a,c,l,d,h;const g=(n=s.displayName)!==null&&n!==void 0?n:void 0,m=(r=s.email)!==null&&r!==void 0?r:void 0,y=(i=s.phoneNumber)!==null&&i!==void 0?i:void 0,P=(a=s.photoURL)!==null&&a!==void 0?a:void 0,U=(c=s.tenantId)!==null&&c!==void 0?c:void 0,L=(l=s._redirectEventId)!==null&&l!==void 0?l:void 0,W=(d=s.createdAt)!==null&&d!==void 0?d:void 0,H=(h=s.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:$,emailVerified:B,isAnonymous:ee,providerData:_e,stsTokenManager:S}=s;ue($&&S,e,"internal-error");const _=or.fromJSON(this.name,S);ue(typeof $=="string",e,"internal-error"),$s(g,e.name),$s(m,e.name),ue(typeof B=="boolean",e,"internal-error"),ue(typeof ee=="boolean",e,"internal-error"),$s(y,e.name),$s(P,e.name),$s(U,e.name),$s(L,e.name),$s(W,e.name),$s(H,e.name);const T=new qt({uid:$,auth:e,email:m,emailVerified:B,displayName:g,isAnonymous:ee,photoURL:P,phoneNumber:y,tenantId:U,stsTokenManager:_,createdAt:W,lastLoginAt:H});return _e&&Array.isArray(_e)&&(T.providerData=_e.map(I=>Object.assign({},I))),L&&(T._redirectEventId=L),T}static async _fromIdTokenResponse(e,s,n=!1){const r=new or;r.updateFromServerResponse(s);const i=new qt({uid:s.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await So(i),i}static async _fromGetAccountInfoResponse(e,s,n){const r=s.users[0];ue(r.localId!==void 0,"internal-error");const i=r.providerUserInfo!==void 0?Vf(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(i!=null&&i.length),c=new or;c.updateFromIdToken(n);const l=new qt({uid:r.localId,auth:e,stsTokenManager:c,isAnonymous:a}),d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new rl(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,d),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zu=new Map;function Is(t){Os(t instanceof Function,"Expected a class definition");let e=zu.get(t);return e?(Os(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,zu.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,s){this.storage[e]=s}async _get(e){const s=this.storage[e];return s===void 0?null:s}async _remove(e){delete this.storage[e]}_addListener(e,s){}_removeListener(e,s){}}Hf.type="NONE";const il=Hf;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ao(t,e,s){return`firebase:${t}:${e}:${s}`}class ar{constructor(e,s,n){this.persistence=e,this.auth=s,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=ao(this.userKey,r.apiKey,i),this.fullPersistenceKey=ao("persistence",r.apiKey,i),this.boundEventHandler=s._onStorageEvent.bind(s),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const s=await To(this.auth,{idToken:e}).catch(()=>{});return s?qt._fromGetAccountInfoResponse(this.auth,s,e):null}return qt._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const s=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,s)return this.setCurrentUser(s)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,s,n="authUser"){if(!s.length)return new ar(Is(il),e,n);const r=(await Promise.all(s.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=r[0]||Is(il);const a=ao(n,e.config.apiKey,e.name);let c=null;for(const d of s)try{const h=await d._get(a);if(h){let g;if(typeof h=="string"){const m=await To(e,{idToken:h}).catch(()=>{});if(!m)break;g=await qt._fromGetAccountInfoResponse(e,m,h)}else g=qt._fromJSON(e,h);d!==i&&(c=g),i=d;break}}catch{}const l=r.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new ar(i,e,n):(i=l[0],c&&await i._set(a,c.toJSON()),await Promise.all(s.map(async d=>{if(d!==i)try{await d._remove(a)}catch{}})),new ar(i,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gu(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zf(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(qf(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Jf(e))return"Blackberry";if(Yf(e))return"Webos";if(Wf(e))return"Safari";if((e.includes("chrome/")||Kf(e))&&!e.includes("edge/"))return"Chrome";if(Gf(e))return"Android";{const s=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(s);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function qf(t=Et()){return/firefox\//i.test(t)}function Wf(t=Et()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Kf(t=Et()){return/crios\//i.test(t)}function zf(t=Et()){return/iemobile/i.test(t)}function Gf(t=Et()){return/android/i.test(t)}function Jf(t=Et()){return/blackberry/i.test(t)}function Yf(t=Et()){return/webos/i.test(t)}function Gl(t=Et()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Jw(t=Et()){var e;return Gl(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Yw(){return hy()&&document.documentMode===10}function Xf(t=Et()){return Gl(t)||Gf(t)||Yf(t)||Jf(t)||/windows phone/i.test(t)||zf(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qf(t,e=[]){let s;switch(t){case"Browser":s=Gu(Et());break;case"Worker":s=`${Gu(Et())}-${t}`;break;default:s=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${s}/JsCore/${Pn}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,s){const n=i=>new Promise((a,c)=>{try{const l=e(i);a(l)}catch(l){c(l)}});n.onAbort=s,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const s=[];try{for(const n of this.queue)await n(e),n.onAbort&&s.push(n.onAbort)}catch(n){s.reverse();for(const r of s)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qw(t,e={}){return xs(t,"GET","/v2/passwordPolicy",nn(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw=6;class eb{constructor(e){var s,n,r,i;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(s=a.minPasswordLength)!==null&&s!==void 0?s:Zw,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var s,n,r,i,a,c;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(s=l.meetsMinPasswordLength)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(n=l.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.containsLowercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(a=l.containsNumericCharacter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(c=l.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),l}validatePasswordLengthOptions(e,s){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(s.meetsMinPasswordLength=e.length>=n),r&&(s.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,s){this.updatePasswordCharacterOptionsStatuses(s,!1,!1,!1,!1);let n;for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(s,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,s,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=s)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(e,s,n,r){this.app=e,this.heartbeatServiceProvider=s,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ju(this),this.idTokenSubscription=new Ju(this),this.beforeStateQueue=new Xw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Lf,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,s){return s&&(this._popupRedirectResolver=Is(s)),this._initializationPromise=this.queue(async()=>{var n,r,i;if(!this._deleted&&(this.persistenceManager=await ar.create(this,e),(n=this._resolvePersistenceManagerAvailable)===null||n===void 0||n.call(this),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(s),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const s=await To(this,{idToken:e}),n=await qt._fromGetAccountInfoResponse(this,s,e);await this.directlySetCurrentUser(n)}catch(s){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",s),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(xt(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId,c=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===c)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let s=null;try{s=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return s}async reloadAndSetCurrentUserOrClear(e){try{await So(e)}catch(s){if((s==null?void 0:s.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Lw()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(xt(this.app))return Promise.reject(As(this));const s=e?cs(e):null;return s&&ue(s.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(s&&s._clone(this))}async _updateCurrentUser(e,s=!1){if(!this._deleted)return e&&ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),s||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return xt(this.app)?Promise.reject(As(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return xt(this.app)?Promise.reject(As(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Is(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const s=this._getPasswordPolicyInternal();return s.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):s.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Qw(this),s=new eb(e);this.tenantId===null?this._projectPasswordPolicy=s:this._tenantPasswordPolicies[this.tenantId]=s}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new _i("auth","Firebase",e())}onAuthStateChanged(e,s,n){return this.registerStateListener(this.authStateSubscription,e,s,n)}beforeAuthStateChanged(e,s){return this.beforeStateQueue.pushCallback(e,s)}onIdTokenChanged(e,s,n){return this.registerStateListener(this.idTokenSubscription,e,s,n)}authStateReady(){return new Promise((e,s)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},s)}})}async revokeAccessToken(e){if(this.currentUser){const s=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:s};this.tenantId!=null&&(n.tenantId=this.tenantId),await Gw(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,s){const n=await this.getOrInitRedirectPersistenceManager(s);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const s=e&&Is(e)||this._popupRedirectResolver;ue(s,this,"argument-error"),this.redirectPersistenceManager=await ar.create(this,[Is(s._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var s,n;return this._isInitialized&&await this.queue(async()=>{}),((s=this._currentUser)===null||s===void 0?void 0:s._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,s;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(s=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&s!==void 0?s:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,s,n,r){if(this._deleted)return()=>{};const i=typeof s=="function"?s:s.next.bind(s);let a=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(ue(c,this,"internal-error"),c.then(()=>{a||i(this.currentUser)}),typeof s=="function"){const l=e.addObserver(s,n,r);return()=>{a=!0,l()}}else{const l=e.addObserver(s);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Qf(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const s={"X-Client-Version":this.clientVersion};this.app.options.appId&&(s["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(s["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(s["X-Firebase-AppCheck"]=r),s}async _getAppCheckToken(){var e;if(xt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const s=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return s!=null&&s.error&&Dw(`Error while retrieving App Check token: ${s.error}`),s==null?void 0:s.token}}function Rn(t){return cs(t)}class Ju{constructor(e){this.auth=e,this.observer=null,this.addObserver=yy(s=>this.observer=s)}get next(){return ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zo={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function sb(t){zo=t}function Zf(t){return zo.loadJS(t)}function nb(){return zo.recaptchaEnterpriseScript}function rb(){return zo.gapiScript}function ib(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class ob{constructor(){this.enterprise=new ab}ready(e){e()}execute(e,s){return Promise.resolve("token")}render(e,s){return""}}class ab{ready(e){e()}execute(e,s){return Promise.resolve("token")}render(e,s){return""}}const lb="recaptcha-enterprise",ep="NO_RECAPTCHA";class cb{constructor(e){this.type=lb,this.auth=Rn(e)}async verify(e="verify",s=!1){async function n(i){if(!s){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(a,c)=>{Vw(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const d=new $w(l);return i.tenantId==null?i._agentRecaptchaConfig=d:i._tenantRecaptchaConfigs[i.tenantId]=d,a(d.siteKey)}}).catch(l=>{c(l)})})}function r(i,a,c){const l=window.grecaptcha;Wu(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(d=>{a(d)}).catch(()=>{a(ep)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new ob().execute("siteKey",{action:"verify"}):new Promise((i,a)=>{n(this.auth).then(c=>{if(!s&&Wu(window.grecaptcha))r(c,i,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=nb();l.length!==0&&(l+=c),Zf(l).then(()=>{r(c,i,a)}).catch(d=>{a(d)})}}).catch(c=>{a(c)})})}}async function Yu(t,e,s,n=!1,r=!1){const i=new cb(t);let a;if(r)a=ep;else try{a=await i.verify(s)}catch{a=await i.verify(s,!0)}const c=Object.assign({},e);if(s==="mfaSmsEnrollment"||s==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const l=c.phoneEnrollmentInfo.phoneNumber,d=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:d,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const l=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return n?Object.assign(c,{captchaResp:a}):Object.assign(c,{captchaResponse:a}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function ol(t,e,s,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await Yu(t,e,s,s==="getOobCode");return n(t,a)}else return n(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${s} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await Yu(t,e,s,s==="getOobCode");return n(t,c)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tp(t,e){const s=Ko(t,"auth");if(s.isInitialized()){const r=s.getImmediate(),i=s.getOptions();if(Sn(i,e??{}))return r;Jt(r,"already-initialized")}return s.initialize({options:e})}function ub(t,e){const s=(e==null?void 0:e.persistence)||[],n=(Array.isArray(s)?s:[s]).map(Is);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function sp(t,e,s){const n=Rn(t);ue(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const r=!1,i=np(e),{host:a,port:c}=db(e),l=c===null?"":`:${c}`,d={url:`${i}//${a}${l}/`},h=Object.freeze({host:a,port:c,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!n._canInitEmulator){ue(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),ue(Sn(d,n.config.emulator)&&Sn(h,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=d,n.emulatorConfig=h,n.settings.appVerificationDisabledForTesting=!0,vi(a)?(Fl(`${i}//${a}${l}`),Bl("Auth",!0)):hb()}function np(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function db(t){const e=np(t),s=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!s)return{host:"",port:null};const n=s[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(n);if(r){const i=r[1];return{host:i,port:Xu(n.substr(i.length+1))}}else{const[i,a]=n.split(":");return{host:i,port:Xu(a)}}}function Xu(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function hb(){function t(){const e=document.createElement("p"),s=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",s.position="fixed",s.width="100%",s.backgroundColor="#ffffff",s.border=".1em solid #000000",s.color="#b50000",s.bottom="0px",s.left="0px",s.margin="0px",s.zIndex="10000",s.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e,s){this.providerId=e,this.signInMethod=s}toJSON(){return Ss("not implemented")}_getIdTokenResponse(e){return Ss("not implemented")}_linkToIdToken(e,s){return Ss("not implemented")}_getReauthenticationResolver(e){return Ss("not implemented")}}async function fb(t,e){return xs(t,"POST","/v1/accounts:update",e)}async function pb(t,e){return xs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gb(t,e){return bi(t,"POST","/v1/accounts:signInWithPassword",nn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mb(t,e){return bi(t,"POST","/v1/accounts:signInWithEmailLink",nn(t,e))}async function vb(t,e){return bi(t,"POST","/v1/accounts:signInWithEmailLink",nn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr extends Go{constructor(e,s,n,r=null){super("password",n),this._email=e,this._password=s,this._tenantId=r}static _fromEmailAndPassword(e,s){return new gr(e,s,"password")}static _fromEmailAndCode(e,s,n=null){return new gr(e,s,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const s=typeof e=="string"?JSON.parse(e):e;if(s!=null&&s.email&&(s!=null&&s.password)){if(s.signInMethod==="password")return this._fromEmailAndPassword(s.email,s.password);if(s.signInMethod==="emailLink")return this._fromEmailAndCode(s.email,s.password,s.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const s={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ol(e,s,"signInWithPassword",gb);case"emailLink":return mb(e,{email:this._email,oobCode:this._password});default:Jt(e,"internal-error")}}async _linkToIdToken(e,s){switch(this.signInMethod){case"password":const n={idToken:s,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ol(e,n,"signUpPassword",pb);case"emailLink":return vb(e,{idToken:s,email:this._email,oobCode:this._password});default:Jt(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lr(t,e){return bi(t,"POST","/v1/accounts:signInWithIdp",nn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b="http://localhost";class sn extends Go{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const s=new sn(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(s.idToken=e.idToken),e.accessToken&&(s.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(s.nonce=e.nonce),e.pendingToken&&(s.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(s.accessToken=e.oauthToken,s.secret=e.oauthTokenSecret):Jt("argument-error"),s}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const s=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:r}=s,i=ql(s,["providerId","signInMethod"]);if(!n||!r)return null;const a=new sn(n,r);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){const s=this.buildRequest();return lr(e,s)}_linkToIdToken(e,s){const n=this.buildRequest();return n.idToken=s,lr(e,n)}_getReauthenticationResolver(e){const s=this.buildRequest();return s.autoCreate=!1,lr(e,s)}buildRequest(){const e={requestUri:_b,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const s={};this.idToken&&(s.id_token=this.idToken),this.accessToken&&(s.access_token=this.accessToken),this.secret&&(s.oauth_token_secret=this.secret),s.providerId=this.providerId,this.nonce&&!this.pendingToken&&(s.nonce=this.nonce),e.postBody=yi(s)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yb(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function wb(t){const e=Fr(Br(t)).link,s=e?Fr(Br(e)).deep_link_id:null,n=Fr(Br(t)).deep_link_id;return(n?Fr(Br(n)).link:null)||n||s||e||t}class Jo{constructor(e){var s,n,r,i,a,c;const l=Fr(Br(e)),d=(s=l.apiKey)!==null&&s!==void 0?s:null,h=(n=l.oobCode)!==null&&n!==void 0?n:null,g=yb((r=l.mode)!==null&&r!==void 0?r:null);ue(d&&h&&g,"argument-error"),this.apiKey=d,this.operation=g,this.code=h,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(a=l.lang)!==null&&a!==void 0?a:null,this.tenantId=(c=l.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const s=wb(e);try{return new Jo(s)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(){this.providerId=On.PROVIDER_ID}static credential(e,s){return gr._fromEmailAndPassword(e,s)}static credentialWithLink(e,s){const n=Jo.parseLink(s);return ue(n,"argument-error"),gr._fromEmailAndCode(e,n.code,n.tenantId)}}On.PROVIDER_ID="password";On.EMAIL_PASSWORD_SIGN_IN_METHOD="password";On.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei extends rp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws extends Ei{constructor(){super("facebook.com")}static credential(e){return sn._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ws.credentialFromTaggedObject(e)}static credentialFromError(e){return ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ws.credential(e.oauthAccessToken)}catch{return null}}}ws.FACEBOOK_SIGN_IN_METHOD="facebook.com";ws.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs extends Ei{constructor(){super("google.com"),this.addScope("profile")}static credential(e,s){return sn._fromParams({providerId:bs.PROVIDER_ID,signInMethod:bs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:s})}static credentialFromResult(e){return bs.credentialFromTaggedObject(e)}static credentialFromError(e){return bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:s,oauthAccessToken:n}=e;if(!s&&!n)return null;try{return bs.credential(s,n)}catch{return null}}}bs.GOOGLE_SIGN_IN_METHOD="google.com";bs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es extends Ei{constructor(){super("github.com")}static credential(e){return sn._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Es.credentialFromTaggedObject(e)}static credentialFromError(e){return Es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Es.credential(e.oauthAccessToken)}catch{return null}}}Es.GITHUB_SIGN_IN_METHOD="github.com";Es.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts extends Ei{constructor(){super("twitter.com")}static credential(e,s){return sn._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:s})}static credentialFromResult(e){return Ts.credentialFromTaggedObject(e)}static credentialFromError(e){return Ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:s,oauthTokenSecret:n}=e;if(!s||!n)return null;try{return Ts.credential(s,n)}catch{return null}}}Ts.TWITTER_SIGN_IN_METHOD="twitter.com";Ts.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bb(t,e){return bi(t,"POST","/v1/accounts:signUp",nn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,s,n,r=!1){const i=await qt._fromIdTokenResponse(e,n,r),a=Qu(n);return new kn({user:i,providerId:a,_tokenResponse:n,operationType:s})}static async _forOperation(e,s,n){await e._updateTokensIfNecessary(n,!0);const r=Qu(n);return new kn({user:e,providerId:r,_tokenResponse:n,operationType:s})}}function Qu(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io extends ls{constructor(e,s,n,r){var i;super(s.code,s.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Io.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:s.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,s,n,r){return new Io(e,s,n,r)}}function ip(t,e,s,n){return(e==="reauthenticate"?s._getReauthenticationResolver(t):s._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Io._fromErrorAndOperation(t,i,e,n):i})}async function Eb(t,e,s=!1){const n=await pr(t,e._linkToIdToken(t.auth,await t.getIdToken()),s);return kn._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tb(t,e,s=!1){const{auth:n}=t;if(xt(n.app))return Promise.reject(As(n));const r="reauthenticate";try{const i=await pr(t,ip(n,r,e,t),s);ue(i.idToken,n,"internal-error");const a=zl(i.idToken);ue(a,n,"internal-error");const{sub:c}=a;return ue(t.uid===c,n,"user-mismatch"),kn._forOperation(t,r,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Jt(n,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function op(t,e,s=!1){if(xt(t.app))return Promise.reject(As(t));const n="signIn",r=await ip(t,n,e),i=await kn._fromIdTokenResponse(t,n,r);return s||await t._updateCurrentUser(i.user),i}async function ap(t,e){return op(Rn(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lp(t){const e=Rn(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Sb(t,e,s){if(xt(t.app))return Promise.reject(As(t));const n=Rn(t),a=await ol(n,{returnSecureToken:!0,email:e,password:s,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",bb).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&lp(t),l}),c=await kn._fromIdTokenResponse(n,"signIn",a);return await n._updateCurrentUser(c.user),c}function cp(t,e,s){return xt(t.app)?Promise.reject(As(t)):ap(cs(t),On.credential(e,s)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&lp(t),n})}function Ib(t,e){return kb(cs(t),null,e)}async function kb(t,e,s){const{auth:n}=t,i={idToken:await t.getIdToken(),returnSecureToken:!0};s&&(i.password=s);const a=await pr(t,fb(n,i));await t._updateTokensIfNecessary(a,!0)}function up(t,e,s,n){return cs(t).onIdTokenChanged(e,s,n)}function dp(t,e,s){return cs(t).beforeAuthStateChanged(e,s)}function hp(t){return cs(t).signOut()}const ko="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(e,s){this.storageRetriever=e,this.type=s}_isAvailable(){try{return this.storage?(this.storage.setItem(ko,"1"),this.storage.removeItem(ko),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,s){return this.storage.setItem(e,JSON.stringify(s)),Promise.resolve()}_get(e){const s=this.storage.getItem(e);return Promise.resolve(s?JSON.parse(s):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab=1e3,Cb=10;class pp extends fp{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,s)=>this.onStorageEvent(e,s),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Xf(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const s of Object.keys(this.listeners)){const n=this.storage.getItem(s),r=this.localCache[s];n!==r&&e(s,r,n)}}onStorageEvent(e,s=!1){if(!e.key){this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});return}const n=e.key;s?this.detachListener():this.stopPolling();const r=()=>{const a=this.storage.getItem(n);!s&&this.localCache[n]===a||this.notifyListeners(n,a)},i=this.storage.getItem(n);Yw()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,Cb):r()}notifyListeners(e,s){this.localCache[e]=s;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(s&&JSON.parse(s))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,s,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:s,newValue:n}),!0)})},Ab)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,s){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(s)}_removeListener(e,s){this.listeners[e]&&(this.listeners[e].delete(s),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,s){await super._set(e,s),this.localCache[e]=JSON.stringify(s)}async _get(e){const s=await super._get(e);return this.localCache[e]=JSON.stringify(s),s}async _remove(e){await super._remove(e),delete this.localCache[e]}}pp.type="LOCAL";const gp=pp;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp extends fp{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,s){}_removeListener(e,s){}}mp.type="SESSION";const Jl=mp;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pb(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(s){return{fulfilled:!1,reason:s}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const s=this.receivers.find(r=>r.isListeningto(e));if(s)return s;const n=new Yo(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const s=e,{eventId:n,eventType:r,data:i}=s.data,a=this.handlersMap[r];if(!(a!=null&&a.size))return;s.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const c=Array.from(a).map(async d=>d(s.origin,i)),l=await Pb(c);s.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:l})}_subscribe(e,s){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(s)}_unsubscribe(e,s){this.handlersMap[e]&&s&&this.handlersMap[e].delete(s),(!s||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Yo.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yl(t="",e=10){let s="";for(let n=0;n<e;n++)s+=Math.floor(Math.random()*10);return t+s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,s,n=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,a;return new Promise((c,l)=>{const d=Yl("",20);r.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},n);a={messageChannel:r,onMessage(g){const m=g;if(m.data.eventId===d)switch(m.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),c(m.data.response);break;default:clearTimeout(h),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:d,data:s},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rs(){return window}function Ob(t){rs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vp(){return typeof rs().WorkerGlobalScope<"u"&&typeof rs().importScripts=="function"}async function Db(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xb(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Ub(){return vp()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _p="firebaseLocalStorageDb",Lb=1,Ao="firebaseLocalStorage",yp="fbase_key";class Ti{constructor(e){this.request=e}toPromise(){return new Promise((e,s)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{s(this.request.error)})})}}function Xo(t,e){return t.transaction([Ao],e?"readwrite":"readonly").objectStore(Ao)}function Nb(){const t=indexedDB.deleteDatabase(_p);return new Ti(t).toPromise()}function al(){const t=indexedDB.open(_p,Lb);return new Promise((e,s)=>{t.addEventListener("error",()=>{s(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(Ao,{keyPath:yp})}catch(r){s(r)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(Ao)?e(n):(n.close(),await Nb(),e(await al()))})})}async function Zu(t,e,s){const n=Xo(t,!0).put({[yp]:e,value:s});return new Ti(n).toPromise()}async function Mb(t,e){const s=Xo(t,!1).get(e),n=await new Ti(s).toPromise();return n===void 0?null:n.value}function ed(t,e){const s=Xo(t,!0).delete(e);return new Ti(s).toPromise()}const jb=800,Fb=3;class wp{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await al(),this.db)}async _withRetries(e){let s=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(s++>Fb)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vp()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yo._getInstance(Ub()),this.receiver._subscribe("keyChanged",async(e,s)=>({keyProcessed:(await this._poll()).includes(s.key)})),this.receiver._subscribe("ping",async(e,s)=>["keyChanged"])}async initializeSender(){var e,s;if(this.activeServiceWorker=await Db(),!this.activeServiceWorker)return;this.sender=new Rb(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((s=n[0])===null||s===void 0)&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||xb()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await al();return await Zu(e,ko,"1"),await ed(e,ko),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,s){return this._withPendingWrite(async()=>(await this._withRetries(n=>Zu(n,e,s)),this.localCache[e]=s,this.notifyServiceWorker(e)))}async _get(e){const s=await this._withRetries(n=>Mb(n,e));return this.localCache[e]=s,s}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(s=>ed(s,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const i=Xo(r,!1).getAll();return new Ti(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const s=[],n=new Set;if(e.length!==0)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),s.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),s.push(r));return s}notifyListeners(e,s){this.localCache[e]=s;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(s)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),jb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,s){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(s)}_removeListener(e,s){this.listeners[e]&&(this.listeners[e].delete(s),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}wp.type="LOCAL";const bp=wp;new wi(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(t,e){return e?Is(e):(ue(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl extends Go{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return lr(e,this._buildIdpRequest())}_linkToIdToken(e,s){return lr(e,this._buildIdpRequest(s))}_getReauthenticationResolver(e){return lr(e,this._buildIdpRequest())}_buildIdpRequest(e){const s={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(s.idToken=e),s}}function $b(t){return op(t.auth,new Xl(t),t.bypassAuthState)}function Vb(t){const{auth:e,user:s}=t;return ue(s,e,"internal-error"),Tb(s,new Xl(t),t.bypassAuthState)}async function Hb(t){const{auth:e,user:s}=t;return ue(s,e,"internal-error"),Eb(s,new Xl(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(e,s,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(s)?s:[s]}execute(){return new Promise(async(e,s)=>{this.pendingPromise={resolve:e,reject:s};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:s,sessionId:n,postBody:r,tenantId:i,error:a,type:c}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:s,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(l))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $b;case"linkViaPopup":case"linkViaRedirect":return Hb;case"reauthViaPopup":case"reauthViaRedirect":return Vb;default:Jt(this.auth,"internal-error")}}resolve(e){Os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb=new wi(2e3,1e4);class Zn extends Ep{constructor(e,s,n,r,i){super(e,s,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Zn.currentPopupAction&&Zn.currentPopupAction.cancel(),Zn.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ue(e,this.auth,"internal-error"),e}async onExecution(){Os(this.filter.length===1,"Popup operations only handle one event");const e=Yl();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(s=>{this.reject(s)}),this.resolver._isIframeWebStorageSupported(this.auth,s=>{s||this.reject(ns(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ns(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Zn.currentPopupAction=null}pollUserCancellation(){const e=()=>{var s,n;if(!((n=(s=this.authWindow)===null||s===void 0?void 0:s.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ns(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,qb.get())};e()}}Zn.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb="pendingRedirect",lo=new Map;class Kb extends Ep{constructor(e,s,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],s,void 0,n),this.eventId=null}async execute(){let e=lo.get(this.auth._key());if(!e){try{const n=await zb(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(s){e=()=>Promise.reject(s)}lo.set(this.auth._key(),e)}return this.bypassAuthState||lo.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const s=await this.auth._redirectUserForId(e.eventId);if(s)return this.user=s,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function zb(t,e){const s=Yb(e),n=Jb(t);if(!await n._isAvailable())return!1;const r=await n._get(s)==="true";return await n._remove(s),r}function Gb(t,e){lo.set(t._key(),e)}function Jb(t){return Is(t._redirectPersistence)}function Yb(t){return ao(Wb,t.config.apiKey,t.name)}async function Xb(t,e,s=!1){if(xt(t.app))return Promise.reject(As(t));const n=Rn(t),r=Bb(n,e),a=await new Kb(n,r,s).execute();return a&&!s&&(delete a.user._redirectEventId,await n._persistUserIfCurrent(a.user),await n._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb=10*60*1e3;class Zb{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let s=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(s=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!e0(e)||(this.hasHandledPotentialRedirect=!0,s||(this.queuedRedirectEvent=e,s=!0)),s}sendToConsumer(e,s){var n;if(e.error&&!Tp(e)){const r=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";s.onError(ns(this.auth,r))}else s.onAuthEvent(e)}isEventForConsumer(e,s){const n=s.eventId===null||!!e.eventId&&e.eventId===s.eventId;return s.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Qb&&this.cachedEventUids.clear(),this.cachedEventUids.has(td(e))}saveEventToCache(e){this.cachedEventUids.add(td(e)),this.lastProcessedEventTime=Date.now()}}function td(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Tp({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function e0(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Tp(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t0(t,e={}){return xs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,n0=/^https?/;async function r0(t){if(t.config.emulator)return;const{authorizedDomains:e}=await t0(t);for(const s of e)try{if(i0(s))return}catch{}Jt(t,"unauthorized-domain")}function i0(t){const e=nl(),{protocol:s,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&n===""?s==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):s==="chrome-extension:"&&a.hostname===n}if(!n0.test(s))return!1;if(s0.test(t))return n===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0=new wi(3e4,6e4);function sd(){const t=rs().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let s=0;s<t.CP.length;s++)t.CP[s]=null}}function a0(t){return new Promise((e,s)=>{var n,r,i;function a(){sd(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{sd(),s(ns(t,"network-request-failed"))},timeout:o0.get()})}if(!((r=(n=rs().gapi)===null||n===void 0?void 0:n.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((i=rs().gapi)===null||i===void 0)&&i.load)a();else{const c=ib("iframefcb");return rs()[c]=()=>{gapi.load?a():s(ns(t,"network-request-failed"))},Zf(`${rb()}?onload=${c}`).catch(l=>s(l))}}).catch(e=>{throw co=null,e})}let co=null;function l0(t){return co=co||a0(t),co}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0=new wi(5e3,15e3),u0="__/auth/iframe",d0="emulator/auth/iframe",h0={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},f0=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function p0(t){const e=t.config;ue(e.authDomain,t,"auth-domain-config-required");const s=e.emulator?Kl(e,d0):`https://${t.config.authDomain}/${u0}`,n={apiKey:e.apiKey,appName:t.name,v:Pn},r=f0.get(t.config.apiHost);r&&(n.eid=r);const i=t._getFrameworks();return i.length&&(n.fw=i.join(",")),`${s}?${yi(n).slice(1)}`}async function g0(t){const e=await l0(t),s=rs().gapi;return ue(s,t,"internal-error"),e.open({where:document.body,url:p0(t),messageHandlersFilter:s.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:h0,dontclear:!0},n=>new Promise(async(r,i)=>{await n.restyle({setHideOnLeave:!1});const a=ns(t,"network-request-failed"),c=rs().setTimeout(()=>{i(a)},c0.get());function l(){rs().clearTimeout(c),r(n)}n.ping(l).then(l,()=>{i(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},v0=500,_0=600,y0="_blank",w0="http://localhost";class nd{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function b0(t,e,s,n=v0,r=_0){const i=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-n)/2,0).toString();let c="";const l=Object.assign(Object.assign({},m0),{width:n.toString(),height:r.toString(),top:i,left:a}),d=Et().toLowerCase();s&&(c=Kf(d)?y0:s),qf(d)&&(e=e||w0,l.scrollbars="yes");const h=Object.entries(l).reduce((m,[y,P])=>`${m}${y}=${P},`,"");if(Jw(d)&&c!=="_self")return E0(e||"",c),new nd(null);const g=window.open(e||"",c,h);ue(g,t,"popup-blocked");try{g.focus()}catch{}return new nd(g)}function E0(t,e){const s=document.createElement("a");s.href=t,s.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),s.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0="__/auth/handler",S0="emulator/auth/handler",I0=encodeURIComponent("fac");async function rd(t,e,s,n,r,i){ue(t.config.authDomain,t,"auth-domain-config-required"),ue(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:s,redirectUrl:n,v:Pn,eventId:r};if(e instanceof rp){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",_y(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,g]of Object.entries({}))a[h]=g}if(e instanceof Ei){const h=e.getScopes().filter(g=>g!=="");h.length>0&&(a.scopes=h.join(","))}t.tenantId&&(a.tid=t.tenantId);const c=a;for(const h of Object.keys(c))c[h]===void 0&&delete c[h];const l=await t._getAppCheckToken(),d=l?`#${I0}=${encodeURIComponent(l)}`:"";return`${k0(t)}?${yi(c).slice(1)}${d}`}function k0({config:t}){return t.emulator?Kl(t,S0):`https://${t.authDomain}/${T0}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pa="webStorageSupport";class A0{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Jl,this._completeRedirectFn=Xb,this._overrideRedirectResult=Gb}async _openPopup(e,s,n,r){var i;Os((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const a=await rd(e,s,n,nl(),r);return b0(e,a,Yl())}async _openRedirect(e,s,n,r){await this._originValidation(e);const i=await rd(e,s,n,nl(),r);return Ob(i),new Promise(()=>{})}_initialize(e){const s=e._key();if(this.eventManagers[s]){const{manager:r,promise:i}=this.eventManagers[s];return r?Promise.resolve(r):(Os(i,"If manager is not set, promise should be"),i)}const n=this.initAndGetManager(e);return this.eventManagers[s]={promise:n},n.catch(()=>{delete this.eventManagers[s]}),n}async initAndGetManager(e){const s=await g0(e),n=new Zb(e);return s.register("authEvent",r=>(ue(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:n.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=s,n}_isIframeWebStorageSupported(e,s){this.iframes[e._key()].send(Pa,{type:Pa},r=>{var i;const a=(i=r==null?void 0:r[0])===null||i===void 0?void 0:i[Pa];a!==void 0&&s(!!a),Jt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const s=e._key();return this.originValidationPromises[s]||(this.originValidationPromises[s]=r0(e)),this.originValidationPromises[s]}get _shouldInitProactively(){return Xf()||Wf()||Gl()}}const Sp=A0;var id="@firebase/auth",od="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const s=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,s),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const s=this.internalListeners.get(e);s&&(this.internalListeners.delete(e),s(),this.updateProactiveRefresh())}assertAuthConfigured(){ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P0(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function R0(t){In(new tn("auth",(e,{options:s})=>{const n=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:c}=n.options;ue(a&&!a.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:a,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Qf(t)},d=new tb(n,r,i,l);return ub(d,s),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,s,n)=>{e.getProvider("auth-internal").initialize()})),In(new tn("auth-internal",e=>{const s=Rn(e.getProvider("auth").getImmediate());return(n=>new C0(n))(s)},"PRIVATE").setInstantiationMode("EXPLICIT")),ss(id,od,P0(t)),ss(id,od,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0=5*60,D0=kf("authIdTokenMaxAge")||O0;let ad=null;const x0=t=>async e=>{const s=e&&await e.getIdTokenResult(),n=s&&(new Date().getTime()-Date.parse(s.issuedAtTime))/1e3;if(n&&n>D0)return;const r=s==null?void 0:s.token;ad!==r&&(ad=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function Ip(t=Hl()){const e=Ko(t,"auth");if(e.isInitialized())return e.getImmediate();const s=tp(t,{popupRedirectResolver:Sp,persistence:[bp,gp,Jl]}),n=kf("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(n,location.origin);if(location.origin===i.origin){const a=x0(i.toString());dp(s,a,()=>a(s.currentUser)),up(s,c=>a(c))}}const r=Tf("auth");return r&&sp(s,`http://${r}`),s}function U0(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}sb({loadJS(t){return new Promise((e,s)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=r=>{const i=ns("internal-error");i.customData=r,s(i)},n.type="text/javascript",n.charset="UTF-8",U0().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});R0("Browser");const ld=Object.freeze(Object.defineProperty({__proto__:null,ActionCodeURL:Jo,AuthCredential:Go,EmailAuthCredential:gr,EmailAuthProvider:On,FacebookAuthProvider:ws,GithubAuthProvider:Es,GoogleAuthProvider:bs,OAuthCredential:sn,TwitterAuthProvider:Ts,beforeAuthStateChanged:dp,browserLocalPersistence:gp,browserPopupRedirectResolver:Sp,browserSessionPersistence:Jl,connectAuthEmulator:sp,createUserWithEmailAndPassword:Sb,getAuth:Ip,getIdTokenResult:Bf,inMemoryPersistence:il,indexedDBLocalPersistence:bp,initializeAuth:tp,onIdTokenChanged:up,prodErrorMap:Uf,reload:$f,signInWithCredential:ap,signInWithEmailAndPassword:cp,signOut:hp,updatePassword:Ib},Symbol.toStringTag,{value:"Module"}));var cd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var kp;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,_){function T(){}T.prototype=_.prototype,S.D=_.prototype,S.prototype=new T,S.prototype.constructor=S,S.C=function(I,k,A){for(var E=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)E[ze-2]=arguments[ze];return _.prototype[k].apply(I,E)}}function s(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,s),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(S,_,T){T||(T=0);var I=Array(16);if(typeof _=="string")for(var k=0;16>k;++k)I[k]=_.charCodeAt(T++)|_.charCodeAt(T++)<<8|_.charCodeAt(T++)<<16|_.charCodeAt(T++)<<24;else for(k=0;16>k;++k)I[k]=_[T++]|_[T++]<<8|_[T++]<<16|_[T++]<<24;_=S.g[0],T=S.g[1],k=S.g[2];var A=S.g[3],E=_+(A^T&(k^A))+I[0]+3614090360&4294967295;_=T+(E<<7&4294967295|E>>>25),E=A+(k^_&(T^k))+I[1]+3905402710&4294967295,A=_+(E<<12&4294967295|E>>>20),E=k+(T^A&(_^T))+I[2]+606105819&4294967295,k=A+(E<<17&4294967295|E>>>15),E=T+(_^k&(A^_))+I[3]+3250441966&4294967295,T=k+(E<<22&4294967295|E>>>10),E=_+(A^T&(k^A))+I[4]+4118548399&4294967295,_=T+(E<<7&4294967295|E>>>25),E=A+(k^_&(T^k))+I[5]+1200080426&4294967295,A=_+(E<<12&4294967295|E>>>20),E=k+(T^A&(_^T))+I[6]+2821735955&4294967295,k=A+(E<<17&4294967295|E>>>15),E=T+(_^k&(A^_))+I[7]+4249261313&4294967295,T=k+(E<<22&4294967295|E>>>10),E=_+(A^T&(k^A))+I[8]+1770035416&4294967295,_=T+(E<<7&4294967295|E>>>25),E=A+(k^_&(T^k))+I[9]+2336552879&4294967295,A=_+(E<<12&4294967295|E>>>20),E=k+(T^A&(_^T))+I[10]+4294925233&4294967295,k=A+(E<<17&4294967295|E>>>15),E=T+(_^k&(A^_))+I[11]+2304563134&4294967295,T=k+(E<<22&4294967295|E>>>10),E=_+(A^T&(k^A))+I[12]+1804603682&4294967295,_=T+(E<<7&4294967295|E>>>25),E=A+(k^_&(T^k))+I[13]+4254626195&4294967295,A=_+(E<<12&4294967295|E>>>20),E=k+(T^A&(_^T))+I[14]+2792965006&4294967295,k=A+(E<<17&4294967295|E>>>15),E=T+(_^k&(A^_))+I[15]+1236535329&4294967295,T=k+(E<<22&4294967295|E>>>10),E=_+(k^A&(T^k))+I[1]+4129170786&4294967295,_=T+(E<<5&4294967295|E>>>27),E=A+(T^k&(_^T))+I[6]+3225465664&4294967295,A=_+(E<<9&4294967295|E>>>23),E=k+(_^T&(A^_))+I[11]+643717713&4294967295,k=A+(E<<14&4294967295|E>>>18),E=T+(A^_&(k^A))+I[0]+3921069994&4294967295,T=k+(E<<20&4294967295|E>>>12),E=_+(k^A&(T^k))+I[5]+3593408605&4294967295,_=T+(E<<5&4294967295|E>>>27),E=A+(T^k&(_^T))+I[10]+38016083&4294967295,A=_+(E<<9&4294967295|E>>>23),E=k+(_^T&(A^_))+I[15]+3634488961&4294967295,k=A+(E<<14&4294967295|E>>>18),E=T+(A^_&(k^A))+I[4]+3889429448&4294967295,T=k+(E<<20&4294967295|E>>>12),E=_+(k^A&(T^k))+I[9]+568446438&4294967295,_=T+(E<<5&4294967295|E>>>27),E=A+(T^k&(_^T))+I[14]+3275163606&4294967295,A=_+(E<<9&4294967295|E>>>23),E=k+(_^T&(A^_))+I[3]+4107603335&4294967295,k=A+(E<<14&4294967295|E>>>18),E=T+(A^_&(k^A))+I[8]+1163531501&4294967295,T=k+(E<<20&4294967295|E>>>12),E=_+(k^A&(T^k))+I[13]+2850285829&4294967295,_=T+(E<<5&4294967295|E>>>27),E=A+(T^k&(_^T))+I[2]+4243563512&4294967295,A=_+(E<<9&4294967295|E>>>23),E=k+(_^T&(A^_))+I[7]+1735328473&4294967295,k=A+(E<<14&4294967295|E>>>18),E=T+(A^_&(k^A))+I[12]+2368359562&4294967295,T=k+(E<<20&4294967295|E>>>12),E=_+(T^k^A)+I[5]+4294588738&4294967295,_=T+(E<<4&4294967295|E>>>28),E=A+(_^T^k)+I[8]+2272392833&4294967295,A=_+(E<<11&4294967295|E>>>21),E=k+(A^_^T)+I[11]+1839030562&4294967295,k=A+(E<<16&4294967295|E>>>16),E=T+(k^A^_)+I[14]+4259657740&4294967295,T=k+(E<<23&4294967295|E>>>9),E=_+(T^k^A)+I[1]+2763975236&4294967295,_=T+(E<<4&4294967295|E>>>28),E=A+(_^T^k)+I[4]+1272893353&4294967295,A=_+(E<<11&4294967295|E>>>21),E=k+(A^_^T)+I[7]+4139469664&4294967295,k=A+(E<<16&4294967295|E>>>16),E=T+(k^A^_)+I[10]+3200236656&4294967295,T=k+(E<<23&4294967295|E>>>9),E=_+(T^k^A)+I[13]+681279174&4294967295,_=T+(E<<4&4294967295|E>>>28),E=A+(_^T^k)+I[0]+3936430074&4294967295,A=_+(E<<11&4294967295|E>>>21),E=k+(A^_^T)+I[3]+3572445317&4294967295,k=A+(E<<16&4294967295|E>>>16),E=T+(k^A^_)+I[6]+76029189&4294967295,T=k+(E<<23&4294967295|E>>>9),E=_+(T^k^A)+I[9]+3654602809&4294967295,_=T+(E<<4&4294967295|E>>>28),E=A+(_^T^k)+I[12]+3873151461&4294967295,A=_+(E<<11&4294967295|E>>>21),E=k+(A^_^T)+I[15]+530742520&4294967295,k=A+(E<<16&4294967295|E>>>16),E=T+(k^A^_)+I[2]+3299628645&4294967295,T=k+(E<<23&4294967295|E>>>9),E=_+(k^(T|~A))+I[0]+4096336452&4294967295,_=T+(E<<6&4294967295|E>>>26),E=A+(T^(_|~k))+I[7]+1126891415&4294967295,A=_+(E<<10&4294967295|E>>>22),E=k+(_^(A|~T))+I[14]+2878612391&4294967295,k=A+(E<<15&4294967295|E>>>17),E=T+(A^(k|~_))+I[5]+4237533241&4294967295,T=k+(E<<21&4294967295|E>>>11),E=_+(k^(T|~A))+I[12]+1700485571&4294967295,_=T+(E<<6&4294967295|E>>>26),E=A+(T^(_|~k))+I[3]+2399980690&4294967295,A=_+(E<<10&4294967295|E>>>22),E=k+(_^(A|~T))+I[10]+4293915773&4294967295,k=A+(E<<15&4294967295|E>>>17),E=T+(A^(k|~_))+I[1]+2240044497&4294967295,T=k+(E<<21&4294967295|E>>>11),E=_+(k^(T|~A))+I[8]+1873313359&4294967295,_=T+(E<<6&4294967295|E>>>26),E=A+(T^(_|~k))+I[15]+4264355552&4294967295,A=_+(E<<10&4294967295|E>>>22),E=k+(_^(A|~T))+I[6]+2734768916&4294967295,k=A+(E<<15&4294967295|E>>>17),E=T+(A^(k|~_))+I[13]+1309151649&4294967295,T=k+(E<<21&4294967295|E>>>11),E=_+(k^(T|~A))+I[4]+4149444226&4294967295,_=T+(E<<6&4294967295|E>>>26),E=A+(T^(_|~k))+I[11]+3174756917&4294967295,A=_+(E<<10&4294967295|E>>>22),E=k+(_^(A|~T))+I[2]+718787259&4294967295,k=A+(E<<15&4294967295|E>>>17),E=T+(A^(k|~_))+I[9]+3951481745&4294967295,S.g[0]=S.g[0]+_&4294967295,S.g[1]=S.g[1]+(k+(E<<21&4294967295|E>>>11))&4294967295,S.g[2]=S.g[2]+k&4294967295,S.g[3]=S.g[3]+A&4294967295}n.prototype.u=function(S,_){_===void 0&&(_=S.length);for(var T=_-this.blockSize,I=this.B,k=this.h,A=0;A<_;){if(k==0)for(;A<=T;)r(this,S,A),A+=this.blockSize;if(typeof S=="string"){for(;A<_;)if(I[k++]=S.charCodeAt(A++),k==this.blockSize){r(this,I),k=0;break}}else for(;A<_;)if(I[k++]=S[A++],k==this.blockSize){r(this,I),k=0;break}}this.h=k,this.o+=_},n.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var _=1;_<S.length-8;++_)S[_]=0;var T=8*this.o;for(_=S.length-8;_<S.length;++_)S[_]=T&255,T/=256;for(this.u(S),S=Array(16),_=T=0;4>_;++_)for(var I=0;32>I;I+=8)S[T++]=this.g[_]>>>I&255;return S};function i(S,_){var T=c;return Object.prototype.hasOwnProperty.call(T,S)?T[S]:T[S]=_(S)}function a(S,_){this.h=_;for(var T=[],I=!0,k=S.length-1;0<=k;k--){var A=S[k]|0;I&&A==_||(T[k]=A,I=!1)}this.g=T}var c={};function l(S){return-128<=S&&128>S?i(S,function(_){return new a([_|0],0>_?-1:0)}):new a([S|0],0>S?-1:0)}function d(S){if(isNaN(S)||!isFinite(S))return g;if(0>S)return L(d(-S));for(var _=[],T=1,I=0;S>=T;I++)_[I]=S/T|0,T*=4294967296;return new a(_,0)}function h(S,_){if(S.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(S.charAt(0)=="-")return L(h(S.substring(1),_));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=d(Math.pow(_,8)),I=g,k=0;k<S.length;k+=8){var A=Math.min(8,S.length-k),E=parseInt(S.substring(k,k+A),_);8>A?(A=d(Math.pow(_,A)),I=I.j(A).add(d(E))):(I=I.j(T),I=I.add(d(E)))}return I}var g=l(0),m=l(1),y=l(16777216);t=a.prototype,t.m=function(){if(U(this))return-L(this).m();for(var S=0,_=1,T=0;T<this.g.length;T++){var I=this.i(T);S+=(0<=I?I:4294967296+I)*_,_*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(P(this))return"0";if(U(this))return"-"+L(this).toString(S);for(var _=d(Math.pow(S,6)),T=this,I="";;){var k=B(T,_).g;T=W(T,k.j(_));var A=((0<T.g.length?T.g[0]:T.h)>>>0).toString(S);if(T=k,P(T))return A+I;for(;6>A.length;)A="0"+A;I=A+I}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function P(S){if(S.h!=0)return!1;for(var _=0;_<S.g.length;_++)if(S.g[_]!=0)return!1;return!0}function U(S){return S.h==-1}t.l=function(S){return S=W(this,S),U(S)?-1:P(S)?0:1};function L(S){for(var _=S.g.length,T=[],I=0;I<_;I++)T[I]=~S.g[I];return new a(T,~S.h).add(m)}t.abs=function(){return U(this)?L(this):this},t.add=function(S){for(var _=Math.max(this.g.length,S.g.length),T=[],I=0,k=0;k<=_;k++){var A=I+(this.i(k)&65535)+(S.i(k)&65535),E=(A>>>16)+(this.i(k)>>>16)+(S.i(k)>>>16);I=E>>>16,A&=65535,E&=65535,T[k]=E<<16|A}return new a(T,T[T.length-1]&-2147483648?-1:0)};function W(S,_){return S.add(L(_))}t.j=function(S){if(P(this)||P(S))return g;if(U(this))return U(S)?L(this).j(L(S)):L(L(this).j(S));if(U(S))return L(this.j(L(S)));if(0>this.l(y)&&0>S.l(y))return d(this.m()*S.m());for(var _=this.g.length+S.g.length,T=[],I=0;I<2*_;I++)T[I]=0;for(I=0;I<this.g.length;I++)for(var k=0;k<S.g.length;k++){var A=this.i(I)>>>16,E=this.i(I)&65535,ze=S.i(k)>>>16,Ge=S.i(k)&65535;T[2*I+2*k]+=E*Ge,H(T,2*I+2*k),T[2*I+2*k+1]+=A*Ge,H(T,2*I+2*k+1),T[2*I+2*k+1]+=E*ze,H(T,2*I+2*k+1),T[2*I+2*k+2]+=A*ze,H(T,2*I+2*k+2)}for(I=0;I<_;I++)T[I]=T[2*I+1]<<16|T[2*I];for(I=_;I<2*_;I++)T[I]=0;return new a(T,0)};function H(S,_){for(;(S[_]&65535)!=S[_];)S[_+1]+=S[_]>>>16,S[_]&=65535,_++}function $(S,_){this.g=S,this.h=_}function B(S,_){if(P(_))throw Error("division by zero");if(P(S))return new $(g,g);if(U(S))return _=B(L(S),_),new $(L(_.g),L(_.h));if(U(_))return _=B(S,L(_)),new $(L(_.g),_.h);if(30<S.g.length){if(U(S)||U(_))throw Error("slowDivide_ only works with positive integers.");for(var T=m,I=_;0>=I.l(S);)T=ee(T),I=ee(I);var k=_e(T,1),A=_e(I,1);for(I=_e(I,2),T=_e(T,2);!P(I);){var E=A.add(I);0>=E.l(S)&&(k=k.add(T),A=E),I=_e(I,1),T=_e(T,1)}return _=W(S,k.j(_)),new $(k,_)}for(k=g;0<=S.l(_);){for(T=Math.max(1,Math.floor(S.m()/_.m())),I=Math.ceil(Math.log(T)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),A=d(T),E=A.j(_);U(E)||0<E.l(S);)T-=I,A=d(T),E=A.j(_);P(A)&&(A=m),k=k.add(A),S=W(S,E)}return new $(k,S)}t.A=function(S){return B(this,S).h},t.and=function(S){for(var _=Math.max(this.g.length,S.g.length),T=[],I=0;I<_;I++)T[I]=this.i(I)&S.i(I);return new a(T,this.h&S.h)},t.or=function(S){for(var _=Math.max(this.g.length,S.g.length),T=[],I=0;I<_;I++)T[I]=this.i(I)|S.i(I);return new a(T,this.h|S.h)},t.xor=function(S){for(var _=Math.max(this.g.length,S.g.length),T=[],I=0;I<_;I++)T[I]=this.i(I)^S.i(I);return new a(T,this.h^S.h)};function ee(S){for(var _=S.g.length+1,T=[],I=0;I<_;I++)T[I]=S.i(I)<<1|S.i(I-1)>>>31;return new a(T,S.h)}function _e(S,_){var T=_>>5;_%=32;for(var I=S.g.length-T,k=[],A=0;A<I;A++)k[A]=0<_?S.i(A+T)>>>_|S.i(A+T+1)<<32-_:S.i(A+T);return new a(k,S.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=d,a.fromString=h,kp=a}).apply(typeof cd<"u"?cd:typeof self<"u"?self:typeof window<"u"?window:{});var Ki=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,u,f){return o==Array.prototype||o==Object.prototype||(o[u]=f.value),o};function s(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ki=="object"&&Ki];for(var u=0;u<o.length;++u){var f=o[u];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var n=s(this);function r(o,u){if(u)e:{var f=n;o=o.split(".");for(var v=0;v<o.length-1;v++){var R=o[v];if(!(R in f))break e;f=f[R]}o=o[o.length-1],v=f[o],u=u(v),u!=v&&u!=null&&e(f,o,{configurable:!0,writable:!0,value:u})}}function i(o,u){o instanceof String&&(o+="");var f=0,v=!1,R={next:function(){if(!v&&f<o.length){var x=f++;return{value:u(x,o[x]),done:!1}}return v=!0,{done:!0,value:void 0}}};return R[Symbol.iterator]=function(){return R},R}r("Array.prototype.values",function(o){return o||function(){return i(this,function(u,f){return f})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},c=this||self;function l(o){var u=typeof o;return u=u!="object"?u:o?Array.isArray(o)?"array":u:"null",u=="array"||u=="object"&&typeof o.length=="number"}function d(o){var u=typeof o;return u=="object"&&o!=null||u=="function"}function h(o,u,f){return o.call.apply(o.bind,arguments)}function g(o,u,f){if(!o)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var R=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(R,v),o.apply(u,R)}}return function(){return o.apply(u,arguments)}}function m(o,u,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:g,m.apply(null,arguments)}function y(o,u){var f=Array.prototype.slice.call(arguments,1);return function(){var v=f.slice();return v.push.apply(v,arguments),o.apply(this,v)}}function P(o,u){function f(){}f.prototype=u.prototype,o.aa=u.prototype,o.prototype=new f,o.prototype.constructor=o,o.Qb=function(v,R,x){for(var G=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)G[Ue-2]=arguments[Ue];return u.prototype[R].apply(v,G)}}function U(o){const u=o.length;if(0<u){const f=Array(u);for(let v=0;v<u;v++)f[v]=o[v];return f}return[]}function L(o,u){for(let f=1;f<arguments.length;f++){const v=arguments[f];if(l(v)){const R=o.length||0,x=v.length||0;o.length=R+x;for(let G=0;G<x;G++)o[R+G]=v[G]}else o.push(v)}}class W{constructor(u,f){this.i=u,this.j=f,this.h=0,this.g=null}get(){let u;return 0<this.h?(this.h--,u=this.g,this.g=u.next,u.next=null):u=this.i(),u}}function H(o){return/^[\s\xa0]*$/.test(o)}function $(){var o=c.navigator;return o&&(o=o.userAgent)?o:""}function B(o){return B[" "](o),o}B[" "]=function(){};var ee=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function _e(o,u,f){for(const v in o)u.call(f,o[v],v,o)}function S(o,u){for(const f in o)u.call(void 0,o[f],f,o)}function _(o){const u={};for(const f in o)u[f]=o[f];return u}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(o,u){let f,v;for(let R=1;R<arguments.length;R++){v=arguments[R];for(f in v)o[f]=v[f];for(let x=0;x<T.length;x++)f=T[x],Object.prototype.hasOwnProperty.call(v,f)&&(o[f]=v[f])}}function k(o){var u=1;o=o.split(":");const f=[];for(;0<u&&o.length;)f.push(o.shift()),u--;return o.length&&f.push(o.join(":")),f}function A(o){c.setTimeout(()=>{throw o},0)}function E(){var o=rt;let u=null;return o.g&&(u=o.g,o.g=o.g.next,o.g||(o.h=null),u.next=null),u}class ze{constructor(){this.h=this.g=null}add(u,f){const v=Ge.get();v.set(u,f),this.h?this.h.next=v:this.g=v,this.h=v}}var Ge=new W(()=>new xe,o=>o.reset());class xe{constructor(){this.next=this.g=this.h=null}set(u,f){this.h=u,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let ve,ge=!1,rt=new ze,Tt=()=>{const o=c.Promise.resolve(void 0);ve=()=>{o.then(mt)}};var mt=()=>{for(var o;o=E();){try{o.h.call(o.g)}catch(f){A(f)}var u=Ge;u.j(o),100>u.h&&(u.h++,o.next=u.g,u.g=o)}ge=!1};function Te(){this.s=this.s,this.C=this.C}Te.prototype.s=!1,Te.prototype.ma=function(){this.s||(this.s=!0,this.N())},Te.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function we(o,u){this.type=o,this.g=this.target=u,this.defaultPrevented=!1}we.prototype.h=function(){this.defaultPrevented=!0};var it=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var o=!1,u=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const f=()=>{};c.addEventListener("test",f,u),c.removeEventListener("test",f,u)}catch{}return o}();function Je(o,u){if(we.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var f=this.type=o.type,v=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=u,u=o.relatedTarget){if(ee){e:{try{B(u.nodeName);var R=!0;break e}catch{}R=!1}R||(u=null)}}else f=="mouseover"?u=o.fromElement:f=="mouseout"&&(u=o.toElement);this.relatedTarget=u,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:Ze[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&Je.aa.h.call(this)}}P(Je,we);var Ze={2:"touch",3:"pen",4:"mouse"};Je.prototype.h=function(){Je.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var N="closure_listenable_"+(1e6*Math.random()|0),z=0;function Q(o,u,f,v,R){this.listener=o,this.proxy=null,this.src=u,this.type=f,this.capture=!!v,this.ha=R,this.key=++z,this.da=this.fa=!1}function Z(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function Se(o){this.src=o,this.g={},this.h=0}Se.prototype.add=function(o,u,f,v,R){var x=o.toString();o=this.g[x],o||(o=this.g[x]=[],this.h++);var G=b(o,u,v,R);return-1<G?(u=o[G],f||(u.fa=!1)):(u=new Q(u,this.src,x,!!v,R),u.fa=f,o.push(u)),u};function w(o,u){var f=u.type;if(f in o.g){var v=o.g[f],R=Array.prototype.indexOf.call(v,u,void 0),x;(x=0<=R)&&Array.prototype.splice.call(v,R,1),x&&(Z(u),o.g[f].length==0&&(delete o.g[f],o.h--))}}function b(o,u,f,v){for(var R=0;R<o.length;++R){var x=o[R];if(!x.da&&x.listener==u&&x.capture==!!f&&x.ha==v)return R}return-1}var C="closure_lm_"+(1e6*Math.random()|0),M={};function F(o,u,f,v,R){if(Array.isArray(u)){for(var x=0;x<u.length;x++)F(o,u[x],f,v,R);return null}return f=oe(f),o&&o[N]?o.K(u,f,d(v)?!!v.capture:!1,R):j(o,u,f,!1,v,R)}function j(o,u,f,v,R,x){if(!u)throw Error("Invalid event type");var G=d(R)?!!R.capture:!!R,Ue=Y(o);if(Ue||(o[C]=Ue=new Se(o)),f=Ue.add(u,f,v,G,x),f.proxy)return f;if(v=J(),f.proxy=v,v.src=o,v.listener=f,o.addEventListener)it||(R=G),R===void 0&&(R=!1),o.addEventListener(u.toString(),v,R);else if(o.attachEvent)o.attachEvent(V(u.toString()),v);else if(o.addListener&&o.removeListener)o.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return f}function J(){function o(f){return u.call(o.src,o.listener,f)}const u=te;return o}function q(o,u,f,v,R){if(Array.isArray(u))for(var x=0;x<u.length;x++)q(o,u[x],f,v,R);else v=d(v)?!!v.capture:!!v,f=oe(f),o&&o[N]?(o=o.i,u=String(u).toString(),u in o.g&&(x=o.g[u],f=b(x,f,v,R),-1<f&&(Z(x[f]),Array.prototype.splice.call(x,f,1),x.length==0&&(delete o.g[u],o.h--)))):o&&(o=Y(o))&&(u=o.g[u.toString()],o=-1,u&&(o=b(u,f,v,R)),(f=-1<o?u[o]:null)&&K(f))}function K(o){if(typeof o!="number"&&o&&!o.da){var u=o.src;if(u&&u[N])w(u.i,o);else{var f=o.type,v=o.proxy;u.removeEventListener?u.removeEventListener(f,v,o.capture):u.detachEvent?u.detachEvent(V(f),v):u.addListener&&u.removeListener&&u.removeListener(v),(f=Y(u))?(w(f,o),f.h==0&&(f.src=null,u[C]=null)):Z(o)}}}function V(o){return o in M?M[o]:M[o]="on"+o}function te(o,u){if(o.da)o=!0;else{u=new Je(u,this);var f=o.listener,v=o.ha||o.src;o.fa&&K(o),o=f.call(v,u)}return o}function Y(o){return o=o[C],o instanceof Se?o:null}var se="__closure_events_fn_"+(1e9*Math.random()>>>0);function oe(o){return typeof o=="function"?o:(o[se]||(o[se]=function(u){return o.handleEvent(u)}),o[se])}function ie(){Te.call(this),this.i=new Se(this),this.M=this,this.F=null}P(ie,Te),ie.prototype[N]=!0,ie.prototype.removeEventListener=function(o,u,f,v){q(this,o,u,f,v)};function he(o,u){var f,v=o.F;if(v)for(f=[];v;v=v.F)f.push(v);if(o=o.M,v=u.type||u,typeof u=="string")u=new we(u,o);else if(u instanceof we)u.target=u.target||o;else{var R=u;u=new we(v,o),I(u,R)}if(R=!0,f)for(var x=f.length-1;0<=x;x--){var G=u.g=f[x];R=be(G,v,!0,u)&&R}if(G=u.g=o,R=be(G,v,!0,u)&&R,R=be(G,v,!1,u)&&R,f)for(x=0;x<f.length;x++)G=u.g=f[x],R=be(G,v,!1,u)&&R}ie.prototype.N=function(){if(ie.aa.N.call(this),this.i){var o=this.i,u;for(u in o.g){for(var f=o.g[u],v=0;v<f.length;v++)Z(f[v]);delete o.g[u],o.h--}}this.F=null},ie.prototype.K=function(o,u,f,v){return this.i.add(String(o),u,!1,f,v)},ie.prototype.L=function(o,u,f,v){return this.i.add(String(o),u,!0,f,v)};function be(o,u,f,v){if(u=o.i.g[String(u)],!u)return!0;u=u.concat();for(var R=!0,x=0;x<u.length;++x){var G=u[x];if(G&&!G.da&&G.capture==f){var Ue=G.listener,ot=G.ha||G.src;G.fa&&w(o.i,G),R=Ue.call(ot,v)!==!1&&R}}return R&&!v.defaultPrevented}function et(o,u,f){if(typeof o=="function")f&&(o=m(o,f));else if(o&&typeof o.handleEvent=="function")o=m(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(u)?-1:c.setTimeout(o,u||0)}function Ye(o){o.g=et(()=>{o.g=null,o.i&&(o.i=!1,Ye(o))},o.l);const u=o.h;o.h=null,o.m.apply(null,u)}class St extends Te{constructor(u,f){super(),this.m=u,this.l=f,this.h=null,this.i=!1,this.g=null}j(u){this.h=arguments,this.g?this.i=!0:Ye(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $e(o){Te.call(this),this.h=o,this.g={}}P($e,Te);var It=[];function an(o){_e(o.g,function(u,f){this.g.hasOwnProperty(f)&&K(u)},o),o.g={}}$e.prototype.N=function(){$e.aa.N.call(this),an(this)},$e.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xe=c.JSON.stringify,kt=c.JSON.parse,xn=class{stringify(o){return c.JSON.stringify(o,void 0)}parse(o){return c.JSON.parse(o,void 0)}};function wr(){}wr.prototype.h=null;function ki(o){return o.h||(o.h=o.i())}function Zo(){}var ln={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function br(){we.call(this,"d")}P(br,we);function Er(){we.call(this,"c")}P(Er,we);var Us={},Un=null;function Ln(){return Un=Un||new ie}Us.La="serverreachability";function Ai(o){we.call(this,Us.La,o)}P(Ai,we);function cn(o){const u=Ln();he(u,new Ai(u))}Us.STAT_EVENT="statevent";function Ci(o,u){we.call(this,Us.STAT_EVENT,o),this.stat=u}P(Ci,we);function Qe(o){const u=Ln();he(u,new Ci(u,o))}Us.Ma="timingevent";function Pi(o,u){we.call(this,Us.Ma,o),this.size=u}P(Pi,we);function un(o,u){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){o()},u)}function dn(){this.g=!0}dn.prototype.xa=function(){this.g=!1};function ea(o,u,f,v,R,x){o.info(function(){if(o.g)if(x)for(var G="",Ue=x.split("&"),ot=0;ot<Ue.length;ot++){var ke=Ue[ot].split("=");if(1<ke.length){var ct=ke[0];ke=ke[1];var ut=ct.split("_");G=2<=ut.length&&ut[1]=="type"?G+(ct+"="+ke+"&"):G+(ct+"=redacted&")}}else G=null;else G=x;return"XMLHTTP REQ ("+v+") [attempt "+R+"]: "+u+`
`+f+`
`+G})}function ta(o,u,f,v,R,x,G){o.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+R+"]: "+u+`
`+f+`
`+x+" "+G})}function Ls(o,u,f,v){o.info(function(){return"XMLHTTP TEXT ("+u+"): "+Ri(o,f)+(v?" "+v:"")})}function sa(o,u){o.info(function(){return"TIMEOUT: "+u})}dn.prototype.info=function(){};function Ri(o,u){if(!o.g)return u;if(!u)return null;try{var f=JSON.parse(u);if(f){for(o=0;o<f.length;o++)if(Array.isArray(f[o])){var v=f[o];if(!(2>v.length)){var R=v[1];if(Array.isArray(R)&&!(1>R.length)){var x=R[0];if(x!="noop"&&x!="stop"&&x!="close")for(var G=1;G<R.length;G++)R[G]=""}}}}return Xe(f)}catch{return u}}var Tr={NO_ERROR:0,TIMEOUT:8},hn={},ne;function Nn(){}P(Nn,wr),Nn.prototype.g=function(){return new XMLHttpRequest},Nn.prototype.i=function(){return{}},ne=new Nn;function $t(o,u,f,v){this.j=o,this.i=u,this.l=f,this.R=v||1,this.U=new $e(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Sr}function Sr(){this.i=null,this.g="",this.h=!1}var D={},O={};function X(o,u,f){o.L=1,o.v=Ui(hs(u)),o.m=f,o.P=!0,fe(o,null)}function fe(o,u){o.F=Date.now(),Nt(o),o.A=hs(o.v);var f=o.A,v=o.R;Array.isArray(v)||(v=[String(v)]),mc(f.i,"t",v),o.C=0,f=o.j.J,o.h=new Sr,o.g=Uc(o.j,f?u:null,!o.m),0<o.O&&(o.M=new St(m(o.Y,o,o.g),o.O)),u=o.U,f=o.g,v=o.ca;var R="readystatechange";Array.isArray(R)||(R&&(It[0]=R.toString()),R=It);for(var x=0;x<R.length;x++){var G=F(f,R[x],v||u.handleEvent,!1,u.h||u);if(!G)break;u.g[G.key]=G}u=o.H?_(o.H):{},o.m?(o.u||(o.u="POST"),u["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,u)):(o.u="GET",o.g.ea(o.A,o.u,null,u)),cn(),ea(o.i,o.u,o.A,o.l,o.R,o.m)}$t.prototype.ca=function(o){o=o.target;const u=this.M;u&&fs(o)==3?u.j():this.Y(o)},$t.prototype.Y=function(o){try{if(o==this.g)e:{const ut=fs(this.g);var u=this.g.Ba();const Fn=this.g.Z();if(!(3>ut)&&(ut!=3||this.g&&(this.h.h||this.g.oa()||Tc(this.g)))){this.J||ut!=4||u==7||(u==8||0>=Fn?cn(3):cn(2)),Ms(this);var f=this.g.Z();this.X=f;t:if(ye(this)){var v=Tc(this.g);o="";var R=v.length,x=fs(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){us(this),vt(this);var G="";break t}this.h.i=new c.TextDecoder}for(u=0;u<R;u++)this.h.h=!0,o+=this.h.i.decode(v[u],{stream:!(x&&u==R-1)});v.length=0,this.h.g+=o,this.C=0,G=this.h.g}else G=this.g.oa();if(this.o=f==200,ta(this.i,this.u,this.A,this.l,this.R,ut,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Ue,ot=this.g;if((Ue=ot.g?ot.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(Ue)){var ke=Ue;break t}}ke=null}if(f=ke)Ls(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ds(this,f);else{this.o=!1,this.s=3,Qe(12),us(this),vt(this);break e}}if(this.P){f=!0;let Vt;for(;!this.J&&this.C<G.length;)if(Vt=tt(this,G),Vt==O){ut==4&&(this.s=4,Qe(14),f=!1),Ls(this.i,this.l,null,"[Incomplete Response]");break}else if(Vt==D){this.s=4,Qe(15),Ls(this.i,this.l,G,"[Invalid Chunk]"),f=!1;break}else Ls(this.i,this.l,Vt,null),ds(this,Vt);if(ye(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ut!=4||G.length!=0||this.h.h||(this.s=1,Qe(16),f=!1),this.o=this.o&&f,!f)Ls(this.i,this.l,G,"[Invalid Chunked Response]"),us(this),vt(this);else if(0<G.length&&!this.W){this.W=!0;var ct=this.j;ct.g==this&&ct.ba&&!ct.M&&(ct.j.info("Great, no buffering proxy detected. Bytes received: "+G.length),la(ct),ct.M=!0,Qe(11))}}else Ls(this.i,this.l,G,null),ds(this,G);ut==4&&us(this),this.o&&!this.J&&(ut==4?Rc(this.j,this):(this.o=!1,Nt(this)))}else bg(this.g),f==400&&0<G.indexOf("Unknown SID")?(this.s=3,Qe(12)):(this.s=0,Qe(13)),us(this),vt(this)}}}catch{}finally{}};function ye(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function tt(o,u){var f=o.C,v=u.indexOf(`
`,f);return v==-1?O:(f=Number(u.substring(f,v)),isNaN(f)?D:(v+=1,v+f>u.length?O:(u=u.slice(v,v+f),o.C=v+f,u)))}$t.prototype.cancel=function(){this.J=!0,us(this)};function Nt(o){o.S=Date.now()+o.I,Ns(o,o.I)}function Ns(o,u){if(o.B!=null)throw Error("WatchDog timer not null");o.B=un(m(o.ba,o),u)}function Ms(o){o.B&&(c.clearTimeout(o.B),o.B=null)}$t.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(sa(this.i,this.A),this.L!=2&&(cn(),Qe(17)),us(this),this.s=2,vt(this)):Ns(this,this.S-o)};function vt(o){o.j.G==0||o.J||Rc(o.j,o)}function us(o){Ms(o);var u=o.M;u&&typeof u.ma=="function"&&u.ma(),o.M=null,an(o.U),o.g&&(u=o.g,o.g=null,u.abort(),u.ma())}function ds(o,u){try{var f=o.j;if(f.G!=0&&(f.g==o||na(f.h,o))){if(!o.K&&na(f.h,o)&&f.G==3){try{var v=f.Da.g.parse(u)}catch{v=null}if(Array.isArray(v)&&v.length==3){var R=v;if(R[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<o.F)Bi(f),ji(f);else break e;aa(f),Qe(18)}}else f.za=R[1],0<f.za-f.T&&37500>R[2]&&f.F&&f.v==0&&!f.C&&(f.C=un(m(f.Za,f),6e3));if(1>=ac(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else pn(f,11)}else if((o.K||f.g==o)&&Bi(f),!H(u))for(R=f.Da.g.parse(u),u=0;u<R.length;u++){let ke=R[u];if(f.T=ke[0],ke=ke[1],f.G==2)if(ke[0]=="c"){f.K=ke[1],f.ia=ke[2];const ct=ke[3];ct!=null&&(f.la=ct,f.j.info("VER="+f.la));const ut=ke[4];ut!=null&&(f.Aa=ut,f.j.info("SVER="+f.Aa));const Fn=ke[5];Fn!=null&&typeof Fn=="number"&&0<Fn&&(v=1.5*Fn,f.L=v,f.j.info("backChannelRequestTimeoutMs_="+v)),v=f;const Vt=o.g;if(Vt){const $i=Vt.g?Vt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($i){var x=v.h;x.g||$i.indexOf("spdy")==-1&&$i.indexOf("quic")==-1&&$i.indexOf("h2")==-1||(x.j=x.l,x.g=new Set,x.h&&(ra(x,x.h),x.h=null))}if(v.D){const ca=Vt.g?Vt.g.getResponseHeader("X-HTTP-Session-Id"):null;ca&&(v.ya=ca,Fe(v.I,v.D,ca))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-o.F,f.j.info("Handshake RTT: "+f.R+"ms")),v=f;var G=o;if(v.qa=xc(v,v.J?v.ia:null,v.W),G.K){lc(v.h,G);var Ue=G,ot=v.L;ot&&(Ue.I=ot),Ue.B&&(Ms(Ue),Nt(Ue)),v.g=G}else Cc(v);0<f.i.length&&Fi(f)}else ke[0]!="stop"&&ke[0]!="close"||pn(f,7);else f.G==3&&(ke[0]=="stop"||ke[0]=="close"?ke[0]=="stop"?pn(f,7):oa(f):ke[0]!="noop"&&f.l&&f.l.ta(ke),f.v=0)}}cn(4)}catch{}}var Ir=class{constructor(o,u){this.g=o,this.map=u}};function Oi(o){this.l=o||10,c.PerformanceNavigationTiming?(o=c.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function oc(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function ac(o){return o.h?1:o.g?o.g.size:0}function na(o,u){return o.h?o.h==u:o.g?o.g.has(u):!1}function ra(o,u){o.g?o.g.add(u):o.h=u}function lc(o,u){o.h&&o.h==u?o.h=null:o.g&&o.g.has(u)&&o.g.delete(u)}Oi.prototype.cancel=function(){if(this.i=cc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function cc(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let u=o.i;for(const f of o.g.values())u=u.concat(f.D);return u}return U(o.i)}function og(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(l(o)){for(var u=[],f=o.length,v=0;v<f;v++)u.push(o[v]);return u}u=[],f=0;for(v in o)u[f++]=o[v];return u}function ag(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(l(o)||typeof o=="string"){var u=[];o=o.length;for(var f=0;f<o;f++)u.push(f);return u}u=[],f=0;for(const v in o)u[f++]=v;return u}}}function uc(o,u){if(o.forEach&&typeof o.forEach=="function")o.forEach(u,void 0);else if(l(o)||typeof o=="string")Array.prototype.forEach.call(o,u,void 0);else for(var f=ag(o),v=og(o),R=v.length,x=0;x<R;x++)u.call(void 0,v[x],f&&f[x],o)}var dc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function lg(o,u){if(o){o=o.split("&");for(var f=0;f<o.length;f++){var v=o[f].indexOf("="),R=null;if(0<=v){var x=o[f].substring(0,v);R=o[f].substring(v+1)}else x=o[f];u(x,R?decodeURIComponent(R.replace(/\+/g," ")):"")}}}function fn(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof fn){this.h=o.h,Di(this,o.j),this.o=o.o,this.g=o.g,xi(this,o.s),this.l=o.l;var u=o.i,f=new Cr;f.i=u.i,u.g&&(f.g=new Map(u.g),f.h=u.h),hc(this,f),this.m=o.m}else o&&(u=String(o).match(dc))?(this.h=!1,Di(this,u[1]||"",!0),this.o=kr(u[2]||""),this.g=kr(u[3]||"",!0),xi(this,u[4]),this.l=kr(u[5]||"",!0),hc(this,u[6]||"",!0),this.m=kr(u[7]||"")):(this.h=!1,this.i=new Cr(null,this.h))}fn.prototype.toString=function(){var o=[],u=this.j;u&&o.push(Ar(u,fc,!0),":");var f=this.g;return(f||u=="file")&&(o.push("//"),(u=this.o)&&o.push(Ar(u,fc,!0),"@"),o.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&o.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&o.push("/"),o.push(Ar(f,f.charAt(0)=="/"?dg:ug,!0))),(f=this.i.toString())&&o.push("?",f),(f=this.m)&&o.push("#",Ar(f,fg)),o.join("")};function hs(o){return new fn(o)}function Di(o,u,f){o.j=f?kr(u,!0):u,o.j&&(o.j=o.j.replace(/:$/,""))}function xi(o,u){if(u){if(u=Number(u),isNaN(u)||0>u)throw Error("Bad port number "+u);o.s=u}else o.s=null}function hc(o,u,f){u instanceof Cr?(o.i=u,pg(o.i,o.h)):(f||(u=Ar(u,hg)),o.i=new Cr(u,o.h))}function Fe(o,u,f){o.i.set(u,f)}function Ui(o){return Fe(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function kr(o,u){return o?u?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Ar(o,u,f){return typeof o=="string"?(o=encodeURI(o).replace(u,cg),f&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function cg(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var fc=/[#\/\?@]/g,ug=/[#\?:]/g,dg=/[#\?]/g,hg=/[#\?@]/g,fg=/#/g;function Cr(o,u){this.h=this.g=null,this.i=o||null,this.j=!!u}function js(o){o.g||(o.g=new Map,o.h=0,o.i&&lg(o.i,function(u,f){o.add(decodeURIComponent(u.replace(/\+/g," ")),f)}))}t=Cr.prototype,t.add=function(o,u){js(this),this.i=null,o=Mn(this,o);var f=this.g.get(o);return f||this.g.set(o,f=[]),f.push(u),this.h+=1,this};function pc(o,u){js(o),u=Mn(o,u),o.g.has(u)&&(o.i=null,o.h-=o.g.get(u).length,o.g.delete(u))}function gc(o,u){return js(o),u=Mn(o,u),o.g.has(u)}t.forEach=function(o,u){js(this),this.g.forEach(function(f,v){f.forEach(function(R){o.call(u,R,v,this)},this)},this)},t.na=function(){js(this);const o=Array.from(this.g.values()),u=Array.from(this.g.keys()),f=[];for(let v=0;v<u.length;v++){const R=o[v];for(let x=0;x<R.length;x++)f.push(u[v])}return f},t.V=function(o){js(this);let u=[];if(typeof o=="string")gc(this,o)&&(u=u.concat(this.g.get(Mn(this,o))));else{o=Array.from(this.g.values());for(let f=0;f<o.length;f++)u=u.concat(o[f])}return u},t.set=function(o,u){return js(this),this.i=null,o=Mn(this,o),gc(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[u]),this.h+=1,this},t.get=function(o,u){return o?(o=this.V(o),0<o.length?String(o[0]):u):u};function mc(o,u,f){pc(o,u),0<f.length&&(o.i=null,o.g.set(Mn(o,u),U(f)),o.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],u=Array.from(this.g.keys());for(var f=0;f<u.length;f++){var v=u[f];const x=encodeURIComponent(String(v)),G=this.V(v);for(v=0;v<G.length;v++){var R=x;G[v]!==""&&(R+="="+encodeURIComponent(String(G[v]))),o.push(R)}}return this.i=o.join("&")};function Mn(o,u){return u=String(u),o.j&&(u=u.toLowerCase()),u}function pg(o,u){u&&!o.j&&(js(o),o.i=null,o.g.forEach(function(f,v){var R=v.toLowerCase();v!=R&&(pc(this,v),mc(this,R,f))},o)),o.j=u}function gg(o,u){const f=new dn;if(c.Image){const v=new Image;v.onload=y(Fs,f,"TestLoadImage: loaded",!0,u,v),v.onerror=y(Fs,f,"TestLoadImage: error",!1,u,v),v.onabort=y(Fs,f,"TestLoadImage: abort",!1,u,v),v.ontimeout=y(Fs,f,"TestLoadImage: timeout",!1,u,v),c.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=o}else u(!1)}function mg(o,u){const f=new dn,v=new AbortController,R=setTimeout(()=>{v.abort(),Fs(f,"TestPingServer: timeout",!1,u)},1e4);fetch(o,{signal:v.signal}).then(x=>{clearTimeout(R),x.ok?Fs(f,"TestPingServer: ok",!0,u):Fs(f,"TestPingServer: server error",!1,u)}).catch(()=>{clearTimeout(R),Fs(f,"TestPingServer: error",!1,u)})}function Fs(o,u,f,v,R){try{R&&(R.onload=null,R.onerror=null,R.onabort=null,R.ontimeout=null),v(f)}catch{}}function vg(){this.g=new xn}function _g(o,u,f){const v=f||"";try{uc(o,function(R,x){let G=R;d(R)&&(G=Xe(R)),u.push(v+x+"="+encodeURIComponent(G))})}catch(R){throw u.push(v+"type="+encodeURIComponent("_badmap")),R}}function Li(o){this.l=o.Ub||null,this.j=o.eb||!1}P(Li,wr),Li.prototype.g=function(){return new Ni(this.l,this.j)},Li.prototype.i=function(o){return function(){return o}}({});function Ni(o,u){ie.call(this),this.D=o,this.o=u,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(Ni,ie),t=Ni.prototype,t.open=function(o,u){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=u,this.readyState=1,Rr(this)},t.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const u={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(u.body=o),(this.D||c).fetch(new Request(this.A,u)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Pr(this)),this.readyState=0},t.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Rr(this)),this.g&&(this.readyState=3,Rr(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;vc(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function vc(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}t.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var u=o.value?o.value:new Uint8Array(0);(u=this.v.decode(u,{stream:!o.done}))&&(this.response=this.responseText+=u)}o.done?Pr(this):Rr(this),this.readyState==3&&vc(this)}},t.Ra=function(o){this.g&&(this.response=this.responseText=o,Pr(this))},t.Qa=function(o){this.g&&(this.response=o,Pr(this))},t.ga=function(){this.g&&Pr(this)};function Pr(o){o.readyState=4,o.l=null,o.j=null,o.v=null,Rr(o)}t.setRequestHeader=function(o,u){this.u.append(o,u)},t.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],u=this.h.entries();for(var f=u.next();!f.done;)f=f.value,o.push(f[0]+": "+f[1]),f=u.next();return o.join(`\r
`)};function Rr(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(Ni.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function _c(o){let u="";return _e(o,function(f,v){u+=v,u+=":",u+=f,u+=`\r
`}),u}function ia(o,u,f){e:{for(v in f){var v=!1;break e}v=!0}v||(f=_c(f),typeof o=="string"?f!=null&&encodeURIComponent(String(f)):Fe(o,u,f))}function Ve(o){ie.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(Ve,ie);var yg=/^https?$/i,wg=["POST","PUT"];t=Ve.prototype,t.Ha=function(o){this.J=o},t.ea=function(o,u,f,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);u=u?u.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ne.g(),this.v=this.o?ki(this.o):ki(ne),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(u,String(o),!0),this.B=!1}catch(x){yc(this,x);return}if(o=f||"",f=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var R in v)f.set(R,v[R]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(const x of v.keys())f.set(x,v.get(x));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(f.keys()).find(x=>x.toLowerCase()=="content-type"),R=c.FormData&&o instanceof c.FormData,!(0<=Array.prototype.indexOf.call(wg,u,void 0))||v||R||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[x,G]of f)this.g.setRequestHeader(x,G);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ec(this),this.u=!0,this.g.send(o),this.u=!1}catch(x){yc(this,x)}};function yc(o,u){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=u,o.m=5,wc(o),Mi(o)}function wc(o){o.A||(o.A=!0,he(o,"complete"),he(o,"error"))}t.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,he(this,"complete"),he(this,"abort"),Mi(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mi(this,!0)),Ve.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?bc(this):this.bb())},t.bb=function(){bc(this)};function bc(o){if(o.h&&typeof a<"u"&&(!o.v[1]||fs(o)!=4||o.Z()!=2)){if(o.u&&fs(o)==4)et(o.Ea,0,o);else if(he(o,"readystatechange"),fs(o)==4){o.h=!1;try{const G=o.Z();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var u=!0;break e;default:u=!1}var f;if(!(f=u)){var v;if(v=G===0){var R=String(o.D).match(dc)[1]||null;!R&&c.self&&c.self.location&&(R=c.self.location.protocol.slice(0,-1)),v=!yg.test(R?R.toLowerCase():"")}f=v}if(f)he(o,"complete"),he(o,"success");else{o.m=6;try{var x=2<fs(o)?o.g.statusText:""}catch{x=""}o.l=x+" ["+o.Z()+"]",wc(o)}}finally{Mi(o)}}}}function Mi(o,u){if(o.g){Ec(o);const f=o.g,v=o.v[0]?()=>{}:null;o.g=null,o.v=null,u||he(o,"ready");try{f.onreadystatechange=v}catch{}}}function Ec(o){o.I&&(c.clearTimeout(o.I),o.I=null)}t.isActive=function(){return!!this.g};function fs(o){return o.g?o.g.readyState:0}t.Z=function(){try{return 2<fs(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(o){if(this.g){var u=this.g.responseText;return o&&u.indexOf(o)==0&&(u=u.substring(o.length)),kt(u)}};function Tc(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function bg(o){const u={};o=(o.g&&2<=fs(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<o.length;v++){if(H(o[v]))continue;var f=k(o[v]);const R=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();const x=u[R]||[];u[R]=x,x.push(f)}S(u,function(v){return v.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Or(o,u,f){return f&&f.internalChannelParams&&f.internalChannelParams[o]||u}function Sc(o){this.Aa=0,this.i=[],this.j=new dn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Or("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Or("baseRetryDelayMs",5e3,o),this.cb=Or("retryDelaySeedMs",1e4,o),this.Wa=Or("forwardChannelMaxRetries",2,o),this.wa=Or("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new Oi(o&&o.concurrentRequestLimit),this.Da=new vg,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Sc.prototype,t.la=8,t.G=1,t.connect=function(o,u,f,v){Qe(0),this.W=o,this.H=u||{},f&&v!==void 0&&(this.H.OSID=f,this.H.OAID=v),this.F=this.X,this.I=xc(this,null,this.W),Fi(this)};function oa(o){if(Ic(o),o.G==3){var u=o.U++,f=hs(o.I);if(Fe(f,"SID",o.K),Fe(f,"RID",u),Fe(f,"TYPE","terminate"),Dr(o,f),u=new $t(o,o.j,u),u.L=2,u.v=Ui(hs(f)),f=!1,c.navigator&&c.navigator.sendBeacon)try{f=c.navigator.sendBeacon(u.v.toString(),"")}catch{}!f&&c.Image&&(new Image().src=u.v,f=!0),f||(u.g=Uc(u.j,null),u.g.ea(u.v)),u.F=Date.now(),Nt(u)}Dc(o)}function ji(o){o.g&&(la(o),o.g.cancel(),o.g=null)}function Ic(o){ji(o),o.u&&(c.clearTimeout(o.u),o.u=null),Bi(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&c.clearTimeout(o.s),o.s=null)}function Fi(o){if(!oc(o.h)&&!o.s){o.s=!0;var u=o.Ga;ve||Tt(),ge||(ve(),ge=!0),rt.add(u,o),o.B=0}}function Eg(o,u){return ac(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=u.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=un(m(o.Ga,o,u),Oc(o,o.B)),o.B++,!0)}t.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const R=new $t(this,this.j,o);let x=this.o;if(this.S&&(x?(x=_(x),I(x,this.S)):x=this.S),this.m!==null||this.O||(R.H=x,x=null),this.P)e:{for(var u=0,f=0;f<this.i.length;f++){t:{var v=this.i[f];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(u+=v,4096<u){u=f;break e}if(u===4096||f===this.i.length-1){u=f+1;break e}}u=1e3}else u=1e3;u=Ac(this,R,u),f=hs(this.I),Fe(f,"RID",o),Fe(f,"CVER",22),this.D&&Fe(f,"X-HTTP-Session-Id",this.D),Dr(this,f),x&&(this.O?u="headers="+encodeURIComponent(String(_c(x)))+"&"+u:this.m&&ia(f,this.m,x)),ra(this.h,R),this.Ua&&Fe(f,"TYPE","init"),this.P?(Fe(f,"$req",u),Fe(f,"SID","null"),R.T=!0,X(R,f,null)):X(R,f,u),this.G=2}}else this.G==3&&(o?kc(this,o):this.i.length==0||oc(this.h)||kc(this))};function kc(o,u){var f;u?f=u.l:f=o.U++;const v=hs(o.I);Fe(v,"SID",o.K),Fe(v,"RID",f),Fe(v,"AID",o.T),Dr(o,v),o.m&&o.o&&ia(v,o.m,o.o),f=new $t(o,o.j,f,o.B+1),o.m===null&&(f.H=o.o),u&&(o.i=u.D.concat(o.i)),u=Ac(o,f,1e3),f.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),ra(o.h,f),X(f,v,u)}function Dr(o,u){o.H&&_e(o.H,function(f,v){Fe(u,v,f)}),o.l&&uc({},function(f,v){Fe(u,v,f)})}function Ac(o,u,f){f=Math.min(o.i.length,f);var v=o.l?m(o.l.Na,o.l,o):null;e:{var R=o.i;let x=-1;for(;;){const G=["count="+f];x==-1?0<f?(x=R[0].g,G.push("ofs="+x)):x=0:G.push("ofs="+x);let Ue=!0;for(let ot=0;ot<f;ot++){let ke=R[ot].g;const ct=R[ot].map;if(ke-=x,0>ke)x=Math.max(0,R[ot].g-100),Ue=!1;else try{_g(ct,G,"req"+ke+"_")}catch{v&&v(ct)}}if(Ue){v=G.join("&");break e}}}return o=o.i.splice(0,f),u.D=o,v}function Cc(o){if(!o.g&&!o.u){o.Y=1;var u=o.Fa;ve||Tt(),ge||(ve(),ge=!0),rt.add(u,o),o.v=0}}function aa(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=un(m(o.Fa,o),Oc(o,o.v)),o.v++,!0)}t.Fa=function(){if(this.u=null,Pc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=un(m(this.ab,this),o)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Qe(10),ji(this),Pc(this))};function la(o){o.A!=null&&(c.clearTimeout(o.A),o.A=null)}function Pc(o){o.g=new $t(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var u=hs(o.qa);Fe(u,"RID","rpc"),Fe(u,"SID",o.K),Fe(u,"AID",o.T),Fe(u,"CI",o.F?"0":"1"),!o.F&&o.ja&&Fe(u,"TO",o.ja),Fe(u,"TYPE","xmlhttp"),Dr(o,u),o.m&&o.o&&ia(u,o.m,o.o),o.L&&(o.g.I=o.L);var f=o.g;o=o.ia,f.L=1,f.v=Ui(hs(u)),f.m=null,f.P=!0,fe(f,o)}t.Za=function(){this.C!=null&&(this.C=null,ji(this),aa(this),Qe(19))};function Bi(o){o.C!=null&&(c.clearTimeout(o.C),o.C=null)}function Rc(o,u){var f=null;if(o.g==u){Bi(o),la(o),o.g=null;var v=2}else if(na(o.h,u))f=u.D,lc(o.h,u),v=1;else return;if(o.G!=0){if(u.o)if(v==1){f=u.m?u.m.length:0,u=Date.now()-u.F;var R=o.B;v=Ln(),he(v,new Pi(v,f)),Fi(o)}else Cc(o);else if(R=u.s,R==3||R==0&&0<u.X||!(v==1&&Eg(o,u)||v==2&&aa(o)))switch(f&&0<f.length&&(u=o.h,u.i=u.i.concat(f)),R){case 1:pn(o,5);break;case 4:pn(o,10);break;case 3:pn(o,6);break;default:pn(o,2)}}}function Oc(o,u){let f=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(f*=2),f*u}function pn(o,u){if(o.j.info("Error code "+u),u==2){var f=m(o.fb,o),v=o.Xa;const R=!v;v=new fn(v||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Di(v,"https"),Ui(v),R?gg(v.toString(),f):mg(v.toString(),f)}else Qe(2);o.G=0,o.l&&o.l.sa(u),Dc(o),Ic(o)}t.fb=function(o){o?(this.j.info("Successfully pinged google.com"),Qe(2)):(this.j.info("Failed to ping google.com"),Qe(1))};function Dc(o){if(o.G=0,o.ka=[],o.l){const u=cc(o.h);(u.length!=0||o.i.length!=0)&&(L(o.ka,u),L(o.ka,o.i),o.h.i.length=0,U(o.i),o.i.length=0),o.l.ra()}}function xc(o,u,f){var v=f instanceof fn?hs(f):new fn(f);if(v.g!="")u&&(v.g=u+"."+v.g),xi(v,v.s);else{var R=c.location;v=R.protocol,u=u?u+"."+R.hostname:R.hostname,R=+R.port;var x=new fn(null);v&&Di(x,v),u&&(x.g=u),R&&xi(x,R),f&&(x.l=f),v=x}return f=o.D,u=o.ya,f&&u&&Fe(v,f,u),Fe(v,"VER",o.la),Dr(o,v),v}function Uc(o,u,f){if(u&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return u=o.Ca&&!o.pa?new Ve(new Li({eb:f})):new Ve(o.pa),u.Ha(o.J),u}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Lc(){}t=Lc.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Mt(o,u){ie.call(this),this.g=new Sc(u),this.l=o,this.h=u&&u.messageUrlParams||null,o=u&&u.messageHeaders||null,u&&u.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=u&&u.initMessageHeaders||null,u&&u.messageContentType&&(o?o["X-WebChannel-Content-Type"]=u.messageContentType:o={"X-WebChannel-Content-Type":u.messageContentType}),u&&u.va&&(o?o["X-WebChannel-Client-Profile"]=u.va:o={"X-WebChannel-Client-Profile":u.va}),this.g.S=o,(o=u&&u.Sb)&&!H(o)&&(this.g.m=o),this.v=u&&u.supportsCrossDomainXhr||!1,this.u=u&&u.sendRawJson||!1,(u=u&&u.httpSessionIdParam)&&!H(u)&&(this.g.D=u,o=this.h,o!==null&&u in o&&(o=this.h,u in o&&delete o[u])),this.j=new jn(this)}P(Mt,ie),Mt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Mt.prototype.close=function(){oa(this.g)},Mt.prototype.o=function(o){var u=this.g;if(typeof o=="string"){var f={};f.__data__=o,o=f}else this.u&&(f={},f.__data__=Xe(o),o=f);u.i.push(new Ir(u.Ya++,o)),u.G==3&&Fi(u)},Mt.prototype.N=function(){this.g.l=null,delete this.j,oa(this.g),delete this.g,Mt.aa.N.call(this)};function Nc(o){br.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var u=o.__sm__;if(u){e:{for(const f in u){o=f;break e}o=void 0}(this.i=o)&&(o=this.i,u=u!==null&&o in u?u[o]:void 0),this.data=u}else this.data=o}P(Nc,br);function Mc(){Er.call(this),this.status=1}P(Mc,Er);function jn(o){this.g=o}P(jn,Lc),jn.prototype.ua=function(){he(this.g,"a")},jn.prototype.ta=function(o){he(this.g,new Nc(o))},jn.prototype.sa=function(o){he(this.g,new Mc)},jn.prototype.ra=function(){he(this.g,"b")},Mt.prototype.send=Mt.prototype.o,Mt.prototype.open=Mt.prototype.m,Mt.prototype.close=Mt.prototype.close,Tr.NO_ERROR=0,Tr.TIMEOUT=8,Tr.HTTP_ERROR=6,hn.COMPLETE="complete",Zo.EventType=ln,ln.OPEN="a",ln.CLOSE="b",ln.ERROR="c",ln.MESSAGE="d",ie.prototype.listen=ie.prototype.K,Ve.prototype.listenOnce=Ve.prototype.L,Ve.prototype.getLastError=Ve.prototype.Ka,Ve.prototype.getLastErrorCode=Ve.prototype.Ba,Ve.prototype.getStatus=Ve.prototype.Z,Ve.prototype.getResponseJson=Ve.prototype.Oa,Ve.prototype.getResponseText=Ve.prototype.oa,Ve.prototype.send=Ve.prototype.ea,Ve.prototype.setWithCredentials=Ve.prototype.Ha}).apply(typeof Ki<"u"?Ki:typeof self<"u"?self:typeof window<"u"?window:{});const ud="@firebase/firestore",dd="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}wt.UNAUTHENTICATED=new wt(null),wt.GOOGLE_CREDENTIALS=new wt("google-credentials-uid"),wt.FIRST_PARTY=new wt("first-party-uid"),wt.MOCK_USER=new wt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Si="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr=new $l("@firebase/firestore");function Wt(t,...e){if(mr.logLevel<=De.DEBUG){const s=e.map(Ql);mr.debug(`Firestore (${Si}): ${t}`,...s)}}function Ap(t,...e){if(mr.logLevel<=De.ERROR){const s=e.map(Ql);mr.error(`Firestore (${Si}): ${t}`,...s)}}function L0(t,...e){if(mr.logLevel<=De.WARN){const s=e.map(Ql);mr.warn(`Firestore (${Si}): ${t}`,...s)}}function Ql(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(s){return JSON.stringify(s)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cp(t,e,s){let n="Unexpected state";typeof e=="string"?n=e:s=e,Pp(t,n,s)}function Pp(t,e,s){let n=`FIRESTORE (${Si}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(s!==void 0)try{n+=" CONTEXT: "+JSON.stringify(s)}catch{n+=" CONTEXT: "+s}throw Ap(n),new Error(n)}function Qr(t,e,s,n){let r="Unexpected state";typeof s=="string"?r=s:n=s,t||Pp(e,r,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pt={CANCELLED:"cancelled",INVALID_ARGUMENT:"invalid-argument",FAILED_PRECONDITION:"failed-precondition"};class Rt extends ls{constructor(e,s){super(e,s),this.code=e,this.message=s,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(){this.promise=new Promise((e,s)=>{this.resolve=e,this.reject=s})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(e,s){this.user=s,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class N0{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,s){e.enqueueRetryable(()=>s(wt.UNAUTHENTICATED))}shutdown(){}}class M0{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,s){this.changeListener=s,e.enqueueRetryable(()=>s(this.token.user))}shutdown(){this.changeListener=null}}class j0{constructor(e){this.t=e,this.currentUser=wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,s){Qr(this.o===void 0,42304);let n=this.i;const r=l=>this.i!==n?(n=this.i,s(l)):Promise.resolve();let i=new Zr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Zr,e.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await r(this.currentUser)})},c=l=>{Wt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?c(l):(Wt("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Zr)}},0),a()}getToken(){const e=this.i,s=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(s).then(n=>this.i!==e?(Wt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Qr(typeof n.accessToken=="string",31837,{l:n}),new Rp(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qr(e===null||typeof e=="string",2055,{h:e}),new wt(e)}}class F0{constructor(e,s,n){this.P=e,this.T=s,this.I=n,this.type="FirstParty",this.user=wt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class B0{constructor(e,s,n){this.P=e,this.T=s,this.I=n}getToken(){return Promise.resolve(new F0(this.P,this.T,this.I))}start(e,s){e.enqueueRetryable(()=>s(wt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class hd{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $0{constructor(e,s){this.V=s,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,xt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,s){Qr(this.o===void 0,3512);const n=i=>{i.error!=null&&Wt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const a=i.token!==this.m;return this.m=i.token,Wt("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?s(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>n(i))};const r=i=>{Wt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>r(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?r(i):Wt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new hd(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(s=>s?(Qr(typeof s.token=="string",44558,{tokenResult:s}),this.m=s.token,new hd(s.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function V0(t){return t.name==="IndexedDbTransactionError"}const ll="(default)";class Co{constructor(e,s){this.projectId=e,this.database=s||ll}static empty(){return new Co("","")}get isDefaultDatabase(){return this.database===ll}isEqual(e){return e instanceof Co&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fd,Ie;(Ie=fd||(fd={}))[Ie.OK=0]="OK",Ie[Ie.CANCELLED=1]="CANCELLED",Ie[Ie.UNKNOWN=2]="UNKNOWN",Ie[Ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ie[Ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ie[Ie.NOT_FOUND=5]="NOT_FOUND",Ie[Ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ie[Ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ie[Ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ie[Ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ie[Ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ie[Ie.ABORTED=10]="ABORTED",Ie[Ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ie[Ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ie[Ie.INTERNAL=13]="INTERNAL",Ie[Ie.UNAVAILABLE=14]="UNAVAILABLE",Ie[Ie.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new kp([4294967295,4294967295],0);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0=41943040;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0=1048576;function Ra(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(e,s,n=1e3,r=1.5,i=6e4){this.xi=e,this.timerId=s,this.A_=n,this.R_=r,this.V_=i,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const s=Math.floor(this.m_+this.w_()),n=Math.max(0,Date.now()-this.g_),r=Math.max(0,s-n);r>0&&Wt("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.m_} ms, delay with jitter: ${s} ms, last attempt: ${n} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,r,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e,s,n,r,i){this.asyncQueue=e,this.timerId=s,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,s,n,r,i){const a=Date.now()+n,c=new Zl(e,s,a,r,i);return c.start(n),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Rt(Pt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var pd,gd;(gd=pd||(pd={})).xa="default",gd.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const md=new Map;function z0(t,e,s,n){if(e===!0&&n===!0)throw new Rt(Pt.INVALID_ARGUMENT,`${t} and ${s} cannot be used together.`)}function G0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Cp(12329,{type:typeof t})}function J0(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Rt(Pt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const s=G0(t);throw new Rt(Pt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${s}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Op="firestore.googleapis.com",vd=!0;class _d{constructor(e){var s,n;if(e.host===void 0){if(e.ssl!==void 0)throw new Rt(Pt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Op,this.ssl=vd}else this.host=e.host,this.ssl=(s=e.ssl)!==null&&s!==void 0?s:vd;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=H0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<q0)throw new Rt(Pt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}z0("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=K0((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Rt(Pt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Rt(Pt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Rt(Pt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,r){return n.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dp{constructor(e,s,n,r){this._authCredentials=e,this._appCheckCredentials=s,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _d({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Rt(Pt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Rt(Pt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _d(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new N0;switch(n.type){case"firstParty":return new B0(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Rt(Pt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(s){const n=md.get(s);n&&(Wt("ComponentProvider","Removing Datastore"),md.delete(s),n.terminate())}(this),Promise.resolve()}}function Y0(t,e,s,n={}){var r;t=J0(t,Dp);const i=vi(e),a=t._getSettings(),c=Object.assign(Object.assign({},a),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${s}`;i&&(Fl(`https://${l}`),Bl("Firestore",!0)),a.host!==Op&&a.host!==l&&L0("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},a),{host:l,ssl:i,emulatorOptions:n});if(!Sn(d,c)&&(t._setSettings(d),n.mockUserToken)){let h,g;if(typeof n.mockUserToken=="string")h=n.mockUserToken,g=wt.MOCK_USER;else{h=Af(n.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);const m=n.mockUserToken.sub||n.mockUserToken.user_id;if(!m)throw new Rt(Pt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new wt(m)}t._authCredentials=new M0(new Rp(h,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yd="AsyncQueue";class wd{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new W0(this,"async_queue_retry"),this.rc=()=>{const n=Ra();n&&Wt(yd,"Visibility state changed to "+n.visibilityState),this.x_.b_()},this.sc=e;const s=Ra();s&&typeof s.addEventListener=="function"&&s.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const s=Ra();s&&typeof s.removeEventListener=="function"&&s.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const s=new Zr;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(s.resolve,s.reject),s.promise)).then(()=>s.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!V0(e))throw e;Wt(yd,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const s=this.sc.then(()=>(this.ec=!0,e().catch(n=>{throw this.Xu=n,this.ec=!1,Ap("INTERNAL UNHANDLED ERROR: ",bd(n)),n}).then(n=>(this.ec=!1,n))));return this.sc=s,s}enqueueAfterDelay(e,s,n){this.oc(),this.nc.indexOf(e)>-1&&(s=0);const r=Zl.createAndSchedule(this,e,s,n,i=>this.uc(i));return this.Zu.push(r),r}oc(){this.Xu&&Cp(47125,{cc:bd(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const s of this.Zu)if(s.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((s,n)=>s.targetTimeMs-n.targetTimeMs);for(const s of this.Zu)if(s.skipDelay(),e!=="all"&&s.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const s=this.Zu.indexOf(e);this.Zu.splice(s,1)}}function bd(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class X0 extends Dp{constructor(e,s,n,r){super(e,s,n,r),this.type="firestore",this._queue=new wd,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new wd(e),this._firestoreClient=void 0,await e}}}function Q0(t,e){const s=typeof t=="object"?t:Hl(),n=typeof t=="string"?t:ll,r=Ko(s,"firestore").getImmediate({identifier:n});if(!r._initialized){const i=Sf("firestore");i&&Y0(r,...i)}return r}(function(e,s=!0){(function(r){Si=r})(Pn),In(new tn("firestore",(n,{instanceIdentifier:r,options:i})=>{const a=n.getProvider("app").getImmediate(),c=new X0(new j0(n.getProvider("auth-internal")),new $0(a,n.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Rt(Pt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Co(d.options.projectId,h)}(a,r),a);return i=Object.assign({useFetchStreams:s},i),c._setSettings(i),c},"PUBLIC").setMultipleInstances(!0)),ss(ud,dd,e),ss(ud,dd,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xp="firebasestorage.googleapis.com",Z0="storageBucket",e1=2*60*1e3,t1=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rn=class Up extends ls{constructor(e,s,n=0){super(Oa(e),`Firebase Storage: ${s} (${Oa(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Up.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Oa(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}};var as;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(as||(as={}));function Oa(t){return"storage/"+t}function s1(){const t="An unknown error occurred, please check the error payload for server response.";return new rn(as.UNKNOWN,t)}function n1(){return new rn(as.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function r1(){return new rn(as.CANCELED,"User canceled the upload/download.")}function i1(t){return new rn(as.INVALID_URL,"Invalid URL '"+t+"'.")}function o1(t){return new rn(as.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Ed(t){return new rn(as.INVALID_ARGUMENT,t)}function Lp(){return new rn(as.APP_DELETED,"The Firebase app was deleted.")}function a1(t){return new rn(as.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e,s){this.bucket=e,this.path_=s}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,s){let n;try{n=Kt.makeFromUrl(e,s)}catch{return new Kt(e,"")}if(n.path==="")return n;throw o1(e)}static makeFromUrl(e,s){let n=null;const r="([A-Za-z0-9.\\-_]+)";function i(B){B.path.charAt(B.path.length-1)==="/"&&(B.path_=B.path_.slice(0,-1))}const a="(/(.*))?$",c=new RegExp("^gs://"+r+a,"i"),l={bucket:1,path:3};function d(B){B.path_=decodeURIComponent(B.path)}const h="v[A-Za-z0-9_]+",g=s.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",y=new RegExp(`^https?://${g}/${h}/b/${r}/o${m}`,"i"),P={bucket:1,path:3},U=s===xp?"(?:storage.googleapis.com|storage.cloud.google.com)":s,L="([^?#]*)",W=new RegExp(`^https?://${U}/${r}/${L}`,"i"),$=[{regex:c,indices:l,postModify:i},{regex:y,indices:P,postModify:d},{regex:W,indices:{bucket:1,path:2},postModify:d}];for(let B=0;B<$.length;B++){const ee=$[B],_e=ee.regex.exec(e);if(_e){const S=_e[ee.indices.bucket];let _=_e[ee.indices.path];_||(_=""),n=new Kt(S,_),ee.postModify(n);break}}if(n==null)throw i1(e);return n}}class l1{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(t,e,s){let n=1,r=null,i=null,a=!1,c=0;function l(){return c===2}let d=!1;function h(...L){d||(d=!0,e.apply(null,L))}function g(L){r=setTimeout(()=>{r=null,t(y,l())},L)}function m(){i&&clearTimeout(i)}function y(L,...W){if(d){m();return}if(L){m(),h.call(null,L,...W);return}if(l()||a){m(),h.call(null,L,...W);return}n<64&&(n*=2);let $;c===1?(c=2,$=0):$=(n+Math.random())*1e3,g($)}let P=!1;function U(L){P||(P=!0,m(),!d&&(r!==null?(L||(c=2),clearTimeout(r),g(0)):L||(c=1)))}return g(0),i=setTimeout(()=>{a=!0,U(!0)},s),U}function u1(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(t){return t!==void 0}function Td(t,e,s,n){if(n<e)throw Ed(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>s)throw Ed(`Invalid value for '${t}'. Expected ${s} or less.`)}function h1(t){const e=encodeURIComponent;let s="?";for(const n in t)if(t.hasOwnProperty(n)){const r=e(n)+"="+e(t[n]);s=s+r+"&"}return s=s.slice(0,-1),s}var Po;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Po||(Po={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1(t,e){const s=t>=500&&t<600,r=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return s||r||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e,s,n,r,i,a,c,l,d,h,g,m=!0,y=!1){this.url_=e,this.method_=s,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=a,this.callback_=c,this.errorCallback_=l,this.timeout_=d,this.progressCallback_=h,this.connectionFactory_=g,this.retry=m,this.isUsingEmulator=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((P,U)=>{this.resolve_=P,this.reject_=U,this.start_()})}start_(){const e=(n,r)=>{if(r){n(!1,new zi(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const a=c=>{const l=c.loaded,d=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,d)};this.progressCallback_!==null&&i.addUploadProgressListener(a),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(a),this.pendingConnection_=null;const c=i.getErrorCode()===Po.NO_ERROR,l=i.getStatus();if(!c||f1(l,this.additionalRetryCodes_)&&this.retry){const h=i.getErrorCode()===Po.ABORT;n(!1,new zi(!1,null,h));return}const d=this.successCodes_.indexOf(l)!==-1;n(!0,new zi(d,i))})},s=(n,r)=>{const i=this.resolve_,a=this.reject_,c=r.connection;if(r.wasSuccessCode)try{const l=this.callback_(c,c.getResponse());d1(l)?i(l):i()}catch(l){a(l)}else if(c!==null){const l=s1();l.serverResponse=c.getErrorText(),this.errorCallback_?a(this.errorCallback_(c,l)):a(l)}else if(r.canceled){const l=this.appDelete_?Lp():r1();a(l)}else{const l=n1();a(l)}};this.canceled_?s(!1,new zi(!1,null,!0)):this.backoffId_=c1(e,s,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&u1(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class zi{constructor(e,s,n){this.wasSuccessCode=e,this.connection=s,this.canceled=!!n}}function g1(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function m1(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function v1(t,e){e&&(t["X-Firebase-GMPID"]=e)}function _1(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function y1(t,e,s,n,r,i,a=!0,c=!1){const l=h1(t.urlParams),d=t.url+l,h=Object.assign({},t.headers);return v1(h,e),g1(h,s),m1(h,i),_1(h,n),new p1(d,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r,a,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function b1(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e,s){this._service=e,s instanceof Kt?this._location=s:this._location=Kt.makeFromUrl(s,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,s){return new Ro(e,s)}get root(){const e=new Kt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return b1(this._location.path)}get storage(){return this._service}get parent(){const e=w1(this._location.path);if(e===null)return null;const s=new Kt(this._location.bucket,e);return new Ro(this._service,s)}_throwIfRoot(e){if(this._location.path==="")throw a1(e)}}function Sd(t,e){const s=e==null?void 0:e[Z0];return s==null?null:Kt.makeFromBucketSpec(s,t)}function E1(t,e,s,n={}){t.host=`${e}:${s}`;const r=vi(e);r&&(Fl(`https://${t.host}`),Bl("Storage",!0)),t._isUsingEmulator=!0,t._protocol=r?"https":"http";const{mockUserToken:i}=n;i&&(t._overrideAuthToken=typeof i=="string"?i:Af(i,t.app.options.projectId))}class T1{constructor(e,s,n,r,i,a=!1){this.app=e,this._authProvider=s,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._isUsingEmulator=a,this._bucket=null,this._host=xp,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=e1,this._maxUploadRetryTime=t1,this._requests=new Set,r!=null?this._bucket=Kt.makeFromBucketSpec(r,this._host):this._bucket=Sd(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Kt.makeFromBucketSpec(this._url,e):this._bucket=Sd(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Td("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Td("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const s=await e.getToken();if(s!==null)return s.accessToken}return null}async _getAppCheckToken(){if(xt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ro(this,e)}_makeRequest(e,s,n,r,i=!0){if(this._deleted)return new l1(Lp());{const a=y1(e,this._appId,n,r,s,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,s){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,s,n,r).getPromise()}}const Id="@firebase/storage",kd="0.13.12";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Np="storage";function S1(t=Hl(),e){t=cs(t);const n=Ko(t,Np).getImmediate({identifier:e}),r=Sf("storage");return r&&I1(n,...r),n}function I1(t,e,s,n={}){E1(t,e,s,n)}function k1(t,{instanceIdentifier:e}){const s=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return new T1(s,n,r,e,Pn)}function A1(){In(new tn(Np,k1,"PUBLIC").setMultipleInstances(!0)),ss(Id,kd,""),ss(Id,kd,"esm2017")}A1();const C1={apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:""},ec=Rf(C1),at=Ip(ec);Q0(ec);S1(ec);const Mp="/Supreme-DB/images/images.png",P1={setup(){const t=de(""),e=de(""),s=de(!1),n=yf();return{email:t,password:e,loading:s,handleLogin:async()=>{if(!t.value||!e.value){alert("Please fill in all fields");return}s.value=!0;try{await cp(at,t.value,e.value),n.push("/dashboard")}catch(i){console.error("Error during login:",i);let a="Login failed. Please try again.";i.code==="auth/user-not-found"?a="No account found with this email address.":i.code==="auth/wrong-password"?a="Incorrect password. Please try again.":i.code==="auth/invalid-email"?a="Please enter a valid email address.":i.code==="auth/too-many-requests"&&(a="Too many failed attempts. Please try again later."),alert(a)}finally{s.value=!1}}}}},R1={class:"login-container"},O1={class:"login-card"},D1={class:"form-group"},x1={class:"form-group"},U1=["disabled"];function L1(t,e,s,n,r,i){return re(),ae("div",R1,[e[7]||(e[7]=p("div",{class:"background-pattern"},[p("div",{class:"pattern-grid"}),p("div",{class:"pattern-dots"})],-1)),p("div",O1,[e[5]||(e[5]=Ka('<div class="card-header" data-v-9567c89f><div class="logo-section" data-v-9567c89f><img src="'+Mp+'" alt="Supreme Logo" class="logo" data-v-9567c89f></div><div class="header-text" data-v-9567c89f><h2 class="welcome-text" data-v-9567c89f>Welcome Back</h2><p class="subtitle" data-v-9567c89f>Sign in to your account to continue</p></div></div>',1)),p("form",{onSubmit:e[2]||(e[2]=He((...a)=>n.handleLogin&&n.handleLogin(...a),["prevent"])),class:"login-form"},[p("div",D1,[e[3]||(e[3]=p("label",{for:"email"},"Email Address",-1)),Ce(p("input",{type:"email",id:"email","onUpdate:modelValue":e[0]||(e[0]=a=>n.email=a),placeholder:"Enter your email",class:"form-input",required:""},null,512),[[qe,n.email]])]),p("div",x1,[e[4]||(e[4]=p("label",{for:"password"},"Password",-1)),Ce(p("input",{type:"password",id:"password","onUpdate:modelValue":e[1]||(e[1]=a=>n.password=a),placeholder:"Enter your password",class:"form-input",required:""},null,512),[[qe,n.password]])]),p("button",{type:"submit",class:"login-button",disabled:n.loading},ce(n.loading?"Signing in...":"Sign In"),9,U1)],32),e[6]||(e[6]=p("div",{class:"card-footer"},[p("p",{class:"info-text"}," Access is managed by your administrator ")],-1))])])}const N1=Nl(P1,[["render",L1],["__scopeId","data-v-9567c89f"]]),M1="modulepreload",j1=function(t){return"/Supreme-DB/"+t},Ad={},An=function(e,s,n){let r=Promise.resolve();if(s&&s.length>0){let a=function(d){return Promise.all(d.map(h=>Promise.resolve(h).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),l=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));r=a(s.map(d=>{if(d=j1(d),d in Ad)return;Ad[d]=!0;const h=d.endsWith(".css"),g=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${g}`))return;const m=document.createElement("link");if(m.rel=h?"stylesheet":M1,h||(m.as="script"),m.crossOrigin="",m.href=d,l&&m.setAttribute("nonce",l),document.head.appendChild(m),h)return new Promise((y,P)=>{m.addEventListener("load",y),m.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(a){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=a,window.dispatchEvent(c),!c.defaultPrevented)throw a}return r.then(a=>{for(const c of a||[])c.status==="rejected"&&i(c.reason);return e().catch(i)})},F1=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>An(async()=>{const{default:n}=await Promise.resolve().then(()=>yr);return{default:n}},void 0).then(({default:n})=>n(...s)):e=fetch,(...s)=>e(...s)};class tc extends Error{constructor(e,s="FunctionsError",n){super(e),this.name=s,this.context=n}}class B1 extends tc{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class $1 extends tc{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class V1 extends tc{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var cl;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(cl||(cl={}));var H1=function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(a){a(i)})}return new(s||(s=Promise))(function(i,a){function c(h){try{d(n.next(h))}catch(g){a(g)}}function l(h){try{d(n.throw(h))}catch(g){a(g)}}function d(h){h.done?i(h.value):r(h.value).then(c,l)}d((n=n.apply(t,e||[])).next())})};class q1{constructor(e,{headers:s={},customFetch:n,region:r=cl.Any}={}){this.url=e,this.headers=s,this.region=r,this.fetch=F1(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,s={}){var n;return H1(this,void 0,void 0,function*(){try{const{headers:r,method:i,body:a}=s;let c={},{region:l}=s;l||(l=this.region),l&&l!=="any"&&(c["x-region"]=l);let d;a&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",d=a):typeof a=="string"?(c["Content-Type"]="text/plain",d=a):typeof FormData<"u"&&a instanceof FormData?d=a:(c["Content-Type"]="application/json",d=JSON.stringify(a)));const h=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),r),body:d}).catch(P=>{throw new B1(P)}),g=h.headers.get("x-relay-error");if(g&&g==="true")throw new $1(h);if(!h.ok)throw new V1(h);let m=((n=h.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),y;return m==="application/json"?y=yield h.json():m==="application/octet-stream"?y=yield h.blob():m==="text/event-stream"?y=h:m==="multipart/form-data"?y=yield h.formData():y=yield h.text(),{data:y,error:null}}catch(r){return{data:null,error:r}}})}}function W1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function K1(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var s=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};s.prototype=e.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(s,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})}),s}var st={},Vn={},Hn={},qn={},Wn={},Kn={},z1=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},vr=z1();const G1=vr.fetch,jp=vr.fetch.bind(vr),Fp=vr.Headers,J1=vr.Request,Y1=vr.Response,yr=Object.freeze(Object.defineProperty({__proto__:null,Headers:Fp,Request:J1,Response:Y1,default:jp,fetch:G1},Symbol.toStringTag,{value:"Module"})),X1=K1(yr);var Gi={},Cd;function Bp(){if(Cd)return Gi;Cd=1,Object.defineProperty(Gi,"__esModule",{value:!0});class t extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return Gi.default=t,Gi}var Pd;function $p(){if(Pd)return Kn;Pd=1;var t=Kn&&Kn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Kn,"__esModule",{value:!0});const e=t(X1),s=t(Bp());class n{constructor(i){this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=i.headers,this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=i.shouldThrowOnError,this.signal=i.signal,this.isMaybeSingle=i.isMaybeSingle,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,a){return this.headers=Object.assign({},this.headers),this.headers[i]=a,this}then(i,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const c=this.fetch;let l=c(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var h,g,m;let y=null,P=null,U=null,L=d.status,W=d.statusText;if(d.ok){if(this.method!=="HEAD"){const ee=await d.text();ee===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?P=ee:P=JSON.parse(ee))}const $=(h=this.headers.Prefer)===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),B=(g=d.headers.get("content-range"))===null||g===void 0?void 0:g.split("/");$&&B&&B.length>1&&(U=parseInt(B[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(P)&&(P.length>1?(y={code:"PGRST116",details:`Results contain ${P.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},P=null,U=null,L=406,W="Not Acceptable"):P.length===1?P=P[0]:P=null)}else{const $=await d.text();try{y=JSON.parse($),Array.isArray(y)&&d.status===404&&(P=[],y=null,L=200,W="OK")}catch{d.status===404&&$===""?(L=204,W="No Content"):y={message:$}}if(y&&this.isMaybeSingle&&(!((m=y==null?void 0:y.details)===null||m===void 0)&&m.includes("0 rows"))&&(y=null,L=200,W="OK"),y&&this.shouldThrowOnError)throw new s.default(y)}return{error:y,data:P,count:U,status:L,statusText:W}});return this.shouldThrowOnError||(l=l.catch(d=>{var h,g,m;return{error:{message:`${(h=d==null?void 0:d.name)!==null&&h!==void 0?h:"FetchError"}: ${d==null?void 0:d.message}`,details:`${(g=d==null?void 0:d.stack)!==null&&g!==void 0?g:""}`,hint:"",code:`${(m=d==null?void 0:d.code)!==null&&m!==void 0?m:""}`},data:null,count:null,status:0,statusText:""}})),l.then(i,a)}returns(){return this}overrideTypes(){return this}}return Kn.default=n,Kn}var Rd;function Vp(){if(Rd)return Wn;Rd=1;var t=Wn&&Wn.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Wn,"__esModule",{value:!0});const e=t($p());class s extends e.default{select(r){let i=!1;const a=(r??"*").split("").map(c=>/\s/.test(c)&&!i?"":(c==='"'&&(i=!i),c)).join("");return this.url.searchParams.set("select",a),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(r,{ascending:i=!0,nullsFirst:a,foreignTable:c,referencedTable:l=c}={}){const d=l?`${l}.order`:"order",h=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${h?`${h},`:""}${r}.${i?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:i,referencedTable:a=i}={}){const c=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(c,`${r}`),this}range(r,i,{foreignTable:a,referencedTable:c=a}={}){const l=typeof c>"u"?"offset":`${c}.offset`,d=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(l,`${r}`),this.url.searchParams.set(d,`${i-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:r=!1,verbose:i=!1,settings:a=!1,buffers:c=!1,wal:l=!1,format:d="text"}={}){var h;const g=[r?"analyze":null,i?"verbose":null,a?"settings":null,c?"buffers":null,l?"wal":null].filter(Boolean).join("|"),m=(h=this.headers.Accept)!==null&&h!==void 0?h:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${d}; for="${m}"; options=${g};`,d==="json"?this:this}rollback(){var r;return((r=this.headers.Prefer)!==null&&r!==void 0?r:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Wn.default=s,Wn}var Od;function sc(){if(Od)return qn;Od=1;var t=qn&&qn.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(qn,"__esModule",{value:!0});const e=t(Vp());class s extends e.default{eq(r,i){return this.url.searchParams.append(r,`eq.${i}`),this}neq(r,i){return this.url.searchParams.append(r,`neq.${i}`),this}gt(r,i){return this.url.searchParams.append(r,`gt.${i}`),this}gte(r,i){return this.url.searchParams.append(r,`gte.${i}`),this}lt(r,i){return this.url.searchParams.append(r,`lt.${i}`),this}lte(r,i){return this.url.searchParams.append(r,`lte.${i}`),this}like(r,i){return this.url.searchParams.append(r,`like.${i}`),this}likeAllOf(r,i){return this.url.searchParams.append(r,`like(all).{${i.join(",")}}`),this}likeAnyOf(r,i){return this.url.searchParams.append(r,`like(any).{${i.join(",")}}`),this}ilike(r,i){return this.url.searchParams.append(r,`ilike.${i}`),this}ilikeAllOf(r,i){return this.url.searchParams.append(r,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(r,i){return this.url.searchParams.append(r,`ilike(any).{${i.join(",")}}`),this}is(r,i){return this.url.searchParams.append(r,`is.${i}`),this}in(r,i){const a=Array.from(new Set(i)).map(c=>typeof c=="string"&&new RegExp("[,()]").test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(r,`in.(${a})`),this}contains(r,i){return typeof i=="string"?this.url.searchParams.append(r,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(r,`cs.{${i.join(",")}}`):this.url.searchParams.append(r,`cs.${JSON.stringify(i)}`),this}containedBy(r,i){return typeof i=="string"?this.url.searchParams.append(r,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(r,`cd.{${i.join(",")}}`):this.url.searchParams.append(r,`cd.${JSON.stringify(i)}`),this}rangeGt(r,i){return this.url.searchParams.append(r,`sr.${i}`),this}rangeGte(r,i){return this.url.searchParams.append(r,`nxl.${i}`),this}rangeLt(r,i){return this.url.searchParams.append(r,`sl.${i}`),this}rangeLte(r,i){return this.url.searchParams.append(r,`nxr.${i}`),this}rangeAdjacent(r,i){return this.url.searchParams.append(r,`adj.${i}`),this}overlaps(r,i){return typeof i=="string"?this.url.searchParams.append(r,`ov.${i}`):this.url.searchParams.append(r,`ov.{${i.join(",")}}`),this}textSearch(r,i,{config:a,type:c}={}){let l="";c==="plain"?l="pl":c==="phrase"?l="ph":c==="websearch"&&(l="w");const d=a===void 0?"":`(${a})`;return this.url.searchParams.append(r,`${l}fts${d}.${i}`),this}match(r){return Object.entries(r).forEach(([i,a])=>{this.url.searchParams.append(i,`eq.${a}`)}),this}not(r,i,a){return this.url.searchParams.append(r,`not.${i}.${a}`),this}or(r,{foreignTable:i,referencedTable:a=i}={}){const c=a?`${a}.or`:"or";return this.url.searchParams.append(c,`(${r})`),this}filter(r,i,a){return this.url.searchParams.append(r,`${i}.${a}`),this}}return qn.default=s,qn}var Dd;function Hp(){if(Dd)return Hn;Dd=1;var t=Hn&&Hn.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Hn,"__esModule",{value:!0});const e=t(sc());class s{constructor(r,{headers:i={},schema:a,fetch:c}){this.url=r,this.headers=i,this.schema=a,this.fetch=c}select(r,{head:i=!1,count:a}={}){const c=i?"HEAD":"GET";let l=!1;const d=(r??"*").split("").map(h=>/\s/.test(h)&&!l?"":(h==='"'&&(l=!l),h)).join("");return this.url.searchParams.set("select",d),a&&(this.headers.Prefer=`count=${a}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(r,{count:i,defaultToNull:a=!0}={}){const c="POST",l=[];if(this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),a||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(r)){const d=r.reduce((h,g)=>h.concat(Object.keys(g)),[]);if(d.length>0){const h=[...new Set(d)].map(g=>`"${g}"`);this.url.searchParams.set("columns",h.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:this.fetch,allowEmpty:!1})}upsert(r,{onConflict:i,ignoreDuplicates:a=!1,count:c,defaultToNull:l=!0}={}){const d="POST",h=[`resolution=${a?"ignore":"merge"}-duplicates`];if(i!==void 0&&this.url.searchParams.set("on_conflict",i),this.headers.Prefer&&h.push(this.headers.Prefer),c&&h.push(`count=${c}`),l||h.push("missing=default"),this.headers.Prefer=h.join(","),Array.isArray(r)){const g=r.reduce((m,y)=>m.concat(Object.keys(y)),[]);if(g.length>0){const m=[...new Set(g)].map(y=>`"${y}"`);this.url.searchParams.set("columns",m.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:this.fetch,allowEmpty:!1})}update(r,{count:i}={}){const a="PATCH",c=[];return this.headers.Prefer&&c.push(this.headers.Prefer),i&&c.push(`count=${i}`),this.headers.Prefer=c.join(","),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:this.fetch,allowEmpty:!1})}delete({count:r}={}){const i="DELETE",a=[];return r&&a.push(`count=${r}`),this.headers.Prefer&&a.unshift(this.headers.Prefer),this.headers.Prefer=a.join(","),new e.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Hn.default=s,Hn}var Nr={},Mr={},xd;function Q1(){return xd||(xd=1,Object.defineProperty(Mr,"__esModule",{value:!0}),Mr.version=void 0,Mr.version="0.0.0-automated"),Mr}var Ud;function Z1(){if(Ud)return Nr;Ud=1,Object.defineProperty(Nr,"__esModule",{value:!0}),Nr.DEFAULT_HEADERS=void 0;const t=Q1();return Nr.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${t.version}`},Nr}var Ld;function eE(){if(Ld)return Vn;Ld=1;var t=Vn&&Vn.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Vn,"__esModule",{value:!0});const e=t(Hp()),s=t(sc()),n=Z1();class r{constructor(a,{headers:c={},schema:l,fetch:d}={}){this.url=a,this.headers=Object.assign(Object.assign({},n.DEFAULT_HEADERS),c),this.schemaName=l,this.fetch=d}from(a){const c=new URL(`${this.url}/${a}`);return new e.default(c,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new r(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,c={},{head:l=!1,get:d=!1,count:h}={}){let g;const m=new URL(`${this.url}/rpc/${a}`);let y;l||d?(g=l?"HEAD":"GET",Object.entries(c).filter(([U,L])=>L!==void 0).map(([U,L])=>[U,Array.isArray(L)?`{${L.join(",")}}`:`${L}`]).forEach(([U,L])=>{m.searchParams.append(U,L)})):(g="POST",y=c);const P=Object.assign({},this.headers);return h&&(P.Prefer=`count=${h}`),new s.default({method:g,url:m,headers:P,schema:this.schemaName,body:y,fetch:this.fetch,allowEmpty:!1})}}return Vn.default=r,Vn}var Nd;function tE(){if(Nd)return st;Nd=1;var t=st&&st.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(st,"__esModule",{value:!0}),st.PostgrestError=st.PostgrestBuilder=st.PostgrestTransformBuilder=st.PostgrestFilterBuilder=st.PostgrestQueryBuilder=st.PostgrestClient=void 0;const e=t(eE());st.PostgrestClient=e.default;const s=t(Hp());st.PostgrestQueryBuilder=s.default;const n=t(sc());st.PostgrestFilterBuilder=n.default;const r=t(Vp());st.PostgrestTransformBuilder=r.default;const i=t($p());st.PostgrestBuilder=i.default;const a=t(Bp());return st.PostgrestError=a.default,st.default={PostgrestClient:e.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:r.default,PostgrestBuilder:i.default,PostgrestError:a.default},st}var sE=tE();const nE=W1(sE),{PostgrestClient:rE,PostgrestQueryBuilder:FA,PostgrestFilterBuilder:BA,PostgrestTransformBuilder:$A,PostgrestBuilder:VA,PostgrestError:HA}=nE;let ul;typeof window>"u"?ul=require("ws"):ul=window.WebSocket;const iE="2.11.10",oE={"X-Client-Info":`realtime-js/${iE}`},aE="1.0.0",qp=1e4,lE=1e3;var cr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(cr||(cr={}));var yt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(yt||(yt={}));var Ht;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ht||(Ht={}));var dl;(function(t){t.websocket="websocket"})(dl||(dl={}));var En;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(En||(En={}));class cE{constructor(){this.HEADER_LENGTH=1}decode(e,s){return e.constructor===ArrayBuffer?s(this._binaryDecode(e)):s(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const s=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,s,n)}_decodeBroadcast(e,s,n){const r=s.getUint8(1),i=s.getUint8(2);let a=this.HEADER_LENGTH+2;const c=n.decode(e.slice(a,a+r));a=a+r;const l=n.decode(e.slice(a,a+i));a=a+i;const d=JSON.parse(n.decode(e.slice(a,e.byteLength)));return{ref:null,topic:c,event:l,payload:d}}}class Wp{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ne;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Ne||(Ne={}));const Md=(t,e,s={})=>{var n;const r=(n=s.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,a)=>(i[a]=uE(a,t,e,r),i),{})},uE=(t,e,s,n)=>{const r=e.find(c=>c.name===t),i=r==null?void 0:r.type,a=s[t];return i&&!n.includes(i)?Kp(i,a):hl(a)},Kp=(t,e)=>{if(t.charAt(0)==="_"){const s=t.slice(1,t.length);return pE(e,s)}switch(t){case Ne.bool:return dE(e);case Ne.float4:case Ne.float8:case Ne.int2:case Ne.int4:case Ne.int8:case Ne.numeric:case Ne.oid:return hE(e);case Ne.json:case Ne.jsonb:return fE(e);case Ne.timestamp:return gE(e);case Ne.abstime:case Ne.date:case Ne.daterange:case Ne.int4range:case Ne.int8range:case Ne.money:case Ne.reltime:case Ne.text:case Ne.time:case Ne.timestamptz:case Ne.timetz:case Ne.tsrange:case Ne.tstzrange:return hl(e);default:return hl(e)}},hl=t=>t,dE=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},hE=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},fE=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},pE=(t,e)=>{if(typeof t!="string")return t;const s=t.length-1,n=t[s];if(t[0]==="{"&&n==="}"){let i;const a=t.slice(1,s);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(c=>Kp(e,c))}return t},gE=t=>typeof t=="string"?t.replace(" ","T"):t,zp=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Da{constructor(e,s,n={},r=qp){this.channel=e,this.event=s,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var n;return this._hasReceived(e)&&s((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var jd;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(jd||(jd={}));class ei{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},r=>{const{onJoin:i,onLeave:a,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ei.syncState(this.state,r,i,a),this.pendingDiffs.forEach(l=>{this.state=ei.syncDiff(this.state,l,i,a)}),this.pendingDiffs=[],c()}),this.channel._on(n.diff,{},r=>{const{onJoin:i,onLeave:a,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=ei.syncDiff(this.state,r,i,a),c())}),this.onJoin((r,i,a)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:i,newPresences:a})}),this.onLeave((r,i,a)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,n,r){const i=this.cloneDeep(e),a=this.transformState(s),c={},l={};return this.map(i,(d,h)=>{a[d]||(l[d]=h)}),this.map(a,(d,h)=>{const g=i[d];if(g){const m=h.map(L=>L.presence_ref),y=g.map(L=>L.presence_ref),P=h.filter(L=>y.indexOf(L.presence_ref)<0),U=g.filter(L=>m.indexOf(L.presence_ref)<0);P.length>0&&(c[d]=P),U.length>0&&(l[d]=U)}else c[d]=h}),this.syncDiff(i,{joins:c,leaves:l},n,r)}static syncDiff(e,s,n,r){const{joins:i,leaves:a}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(i,(c,l)=>{var d;const h=(d=e[c])!==null&&d!==void 0?d:[];if(e[c]=this.cloneDeep(l),h.length>0){const g=e[c].map(y=>y.presence_ref),m=h.filter(y=>g.indexOf(y.presence_ref)<0);e[c].unshift(...m)}n(c,h,l)}),this.map(a,(c,l)=>{let d=e[c];if(!d)return;const h=l.map(g=>g.presence_ref);d=d.filter(g=>h.indexOf(g.presence_ref)<0),e[c]=d,r(c,d,l),d.length===0&&delete e[c]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(n=>s(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,n)=>{const r=e[n];return"metas"in r?s[n]=r.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):s[n]=r,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Fd;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Fd||(Fd={}));var Bd;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Bd||(Bd={}));var vs;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(vs||(vs={}));class nc{constructor(e,s={config:{}},n){this.topic=e,this.params=s,this.socket=n,this.bindings={},this.state=yt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Da(this,Ht.join,this.params,this.timeout),this.rejoinTimer=new Wp(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=yt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=yt.closed,this.socket._remove(this)}),this._onError(r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=yt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=yt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ht.reply,{},(r,i)=>{this._trigger(this._replyEventName(i),r)}),this.presence=new ei(this),this.broadcastEndpointURL=zp(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,s=this.timeout){var n,r;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:a,private:c}}=this.params;this._onError(h=>e==null?void 0:e(vs.CHANNEL_ERROR,h)),this._onClose(()=>e==null?void 0:e(vs.CLOSED));const l={},d={broadcast:i,presence:a,postgres_changes:(r=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(h=>h.filter))!==null&&r!==void 0?r:[],private:c};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:d},l)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:h})=>{var g;if(this.socket.setAuth(),h===void 0){e==null||e(vs.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,y=(g=m==null?void 0:m.length)!==null&&g!==void 0?g:0,P=[];for(let U=0;U<y;U++){const L=m[U],{filter:{event:W,schema:H,table:$,filter:B}}=L,ee=h&&h[U];if(ee&&ee.event===W&&ee.schema===H&&ee.table===$&&ee.filter===B)P.push(Object.assign(Object.assign({},L),{id:ee.id}));else{this.unsubscribe(),this.state=yt.errored,e==null||e(vs.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=P,e&&e(vs.SUBSCRIBED);return}}).receive("error",h=>{this.state=yt.errored,e==null||e(vs.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(vs.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,n){return this._on(e,s,n)}async send(e,s={}){var n,r;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:a}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=s.timeout)!==null&&n!==void 0?n:this.timeout);return await((r=d.body)===null||r===void 0?void 0:r.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,c,l;const d=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(c=(a=this.params)===null||a===void 0?void 0:a.config)===null||c===void 0?void 0:c.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=yt.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ht.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(n=>{const r=new Da(this,Ht.leave,{},e);r.receive("ok",()=>{s(),n("ok")}).receive("timeout",()=>{s(),n("timed out")}).receive("error",()=>{n("error")}),r.send(),this._canPush()||r.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,s,n){const r=new AbortController,i=setTimeout(()=>r.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:r.signal}));return clearTimeout(i),a}_push(e,s,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new Da(this,e,s,n);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}_onMessage(e,s,n){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,n){var r,i;const a=e.toLocaleLowerCase(),{close:c,error:l,leave:d,join:h}=Ht;if(n&&[c,l,d,h].indexOf(a)>=0&&n!==this._joinRef())return;let m=this._onMessage(a,s,n);if(s&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(y=>{var P,U,L;return((P=y.filter)===null||P===void 0?void 0:P.event)==="*"||((L=(U=y.filter)===null||U===void 0?void 0:U.event)===null||L===void 0?void 0:L.toLocaleLowerCase())===a}).map(y=>y.callback(m,n)):(i=this.bindings[a])===null||i===void 0||i.filter(y=>{var P,U,L,W,H,$;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in y){const B=y.id,ee=(P=y.filter)===null||P===void 0?void 0:P.event;return B&&((U=s.ids)===null||U===void 0?void 0:U.includes(B))&&(ee==="*"||(ee==null?void 0:ee.toLocaleLowerCase())===((L=s.data)===null||L===void 0?void 0:L.type.toLocaleLowerCase()))}else{const B=(H=(W=y==null?void 0:y.filter)===null||W===void 0?void 0:W.event)===null||H===void 0?void 0:H.toLocaleLowerCase();return B==="*"||B===(($=s==null?void 0:s.event)===null||$===void 0?void 0:$.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===a}).map(y=>{if(typeof m=="object"&&"ids"in m){const P=m.data,{schema:U,table:L,commit_timestamp:W,type:H,errors:$}=P;m=Object.assign(Object.assign({},{schema:U,table:L,commit_timestamp:W,eventType:H,new:{},old:{},errors:$}),this._getPayloadRecords(P))}y.callback(m,n)})}_isClosed(){return this.state===yt.closed}_isJoined(){return this.state===yt.joined}_isJoining(){return this.state===yt.joining}_isLeaving(){return this.state===yt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,n){const r=e.toLocaleLowerCase(),i={type:r,filter:s,callback:n};return this.bindings[r]?this.bindings[r].push(i):this.bindings[r]=[i],this}_off(e,s){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(r=>{var i;return!(((i=r.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&nc.isEqual(r.filter,s))}),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const n in e)if(e[n]!==s[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ht.close,{},e)}_onError(e){this._on(Ht.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=yt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=Md(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=Md(e.columns,e.old_record)),s}}const $d=()=>{},mE=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class vE{constructor(e,s){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=oE,this.params={},this.timeout=qp,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=$d,this.ref=0,this.logger=$d,this.conn=null,this.sendBuffer=[],this.serializer=new cE,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...c)=>An(async()=>{const{default:l}=await Promise.resolve().then(()=>yr);return{default:l}},void 0).then(({default:l})=>l(...c)):a=fetch,(...c)=>a(...c)},this.endPoint=`${e}/${dl.websocket}`,this.httpEndpoint=zp(e),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.headers&&(this.headers=Object.assign(Object.assign({},this.headers),s.headers)),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),(s!=null&&s.logLevel||s!=null&&s.log_level)&&(this.logLevel=s.logLevel||s.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const r=(n=s==null?void 0:s.params)===null||n===void 0?void 0:n.apikey;if(r&&(this.accessTokenValue=r,this.apiKey=r),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(i,a)=>a(JSON.stringify(i)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Wp(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch),s!=null&&s.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(s==null?void 0:s.worker)||!1,this.workerUrl=s==null?void 0:s.workerUrl}this.accessToken=(s==null?void 0:s.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=ul),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new _E(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:aE}))}disconnect(e,s){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels=this.channels.filter(n=>n._joinRef!==e._joinRef),this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,s,n){this.logger(e,s,n)}connectionState(){switch(this.conn&&this.conn.readyState){case cr.connecting:return En.Connecting;case cr.open:return En.Open;case cr.closing:return En.Closing;default:return En.Closed}}isConnected(){return this.connectionState()===En.Open}channel(e,s={config:{}}){const n=`realtime:${e}`,r=this.getChannels().find(i=>i.topic===n);if(r)return r;{const i=new nc(`realtime:${e}`,s,this);return this.channels.push(i),i}}push(e){const{topic:s,event:n,payload:r,ref:i}=e,a=()=>{this.encode(e,c=>{var l;(l=this.conn)===null||l===void 0||l.send(c)})};this.log("push",`${s} ${n} (${i})`,r),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){let s=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(n=>{s&&n.updateJoinPayload({access_token:s,version:this.headers&&this.headers["X-Client-Info"]}),n.joinedOnce&&n._isJoined()&&n._push(Ht.access_token,{access_token:s})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(lE,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,s=>{let{topic:n,event:r,payload:i,ref:a}=s;n==="phoenix"&&r==="phx_reply"&&this.heartbeatCallback(s.payload.status=="ok"?"ok":"error"),a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${r} ${a&&"("+a+")"||""}`,i),Array.from(this.channels).filter(c=>c._isMember(n)).forEach(c=>c._trigger(r,i,a)),this.stateChangeCallbacks.message.forEach(c=>c(s))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ht.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const n=e.match(/\?/)?"&":"?",r=new URLSearchParams(s);return`${e}${n}${r}`}_workerObjectUrl(e){let s;if(e)s=e;else{const n=new Blob([mE],{type:"application/javascript"});s=URL.createObjectURL(n)}return s}}class _E{constructor(e,s,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=cr.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=n.close}}class rc extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function nt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class yE extends rc{constructor(e,s){super(e),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class fl extends rc{constructor(e,s){super(e),this.name="StorageUnknownError",this.originalError=s}}var wE=function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(a){a(i)})}return new(s||(s=Promise))(function(i,a){function c(h){try{d(n.next(h))}catch(g){a(g)}}function l(h){try{d(n.throw(h))}catch(g){a(g)}}function d(h){h.done?i(h.value):r(h.value).then(c,l)}d((n=n.apply(t,e||[])).next())})};const Gp=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>An(async()=>{const{default:n}=await Promise.resolve().then(()=>yr);return{default:n}},void 0).then(({default:n})=>n(...s)):e=fetch,(...s)=>e(...s)},bE=()=>wE(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield An(()=>Promise.resolve().then(()=>yr),void 0)).Response:Response}),pl=t=>{if(Array.isArray(t))return t.map(s=>pl(s));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([s,n])=>{const r=s.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[r]=pl(n)}),e};var Dn=function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(a){a(i)})}return new(s||(s=Promise))(function(i,a){function c(h){try{d(n.next(h))}catch(g){a(g)}}function l(h){try{d(n.throw(h))}catch(g){a(g)}}function d(h){h.done?i(h.value):r(h.value).then(c,l)}d((n=n.apply(t,e||[])).next())})};const xa=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),EE=(t,e,s)=>Dn(void 0,void 0,void 0,function*(){const n=yield bE();t instanceof n&&!(s!=null&&s.noResolveJson)?t.json().then(r=>{e(new yE(xa(r),t.status||500))}).catch(r=>{e(new fl(xa(r),r))}):e(new fl(xa(t),t))}),TE=(t,e,s,n)=>{const r={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n&&(r.body=JSON.stringify(n)),Object.assign(Object.assign({},r),s))};function Ii(t,e,s,n,r,i){return Dn(this,void 0,void 0,function*(){return new Promise((a,c)=>{t(s,TE(e,n,r,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>EE(l,c,n))})})}function Oo(t,e,s,n){return Dn(this,void 0,void 0,function*(){return Ii(t,"GET",e,s,n)})}function zs(t,e,s,n,r){return Dn(this,void 0,void 0,function*(){return Ii(t,"POST",e,n,r,s)})}function SE(t,e,s,n,r){return Dn(this,void 0,void 0,function*(){return Ii(t,"PUT",e,n,r,s)})}function IE(t,e,s,n){return Dn(this,void 0,void 0,function*(){return Ii(t,"HEAD",e,Object.assign(Object.assign({},s),{noResolveJson:!0}),n)})}function Jp(t,e,s,n,r){return Dn(this,void 0,void 0,function*(){return Ii(t,"DELETE",e,n,r,s)})}var At=function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(a){a(i)})}return new(s||(s=Promise))(function(i,a){function c(h){try{d(n.next(h))}catch(g){a(g)}}function l(h){try{d(n.throw(h))}catch(g){a(g)}}function d(h){h.done?i(h.value):r(h.value).then(c,l)}d((n=n.apply(t,e||[])).next())})};const kE={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Vd={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class AE{constructor(e,s={},n,r){this.url=e,this.headers=s,this.bucketId=n,this.fetch=Gp(r)}uploadOrUpdate(e,s,n,r){return At(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},Vd),r);let c=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",a.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,c["cache-control"]=`max-age=${a.cacheControl}`,c["content-type"]=a.contentType,l&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),r!=null&&r.headers&&(c=Object.assign(Object.assign({},c),r.headers));const d=this._removeEmptyFolders(s),h=this._getFinalPath(d),g=yield this.fetch(`${this.url}/object/${h}`,Object.assign({method:e,body:i,headers:c},a!=null&&a.duplex?{duplex:a.duplex}:{})),m=yield g.json();return g.ok?{data:{path:d,id:m.Id,fullPath:m.Key},error:null}:{data:null,error:m}}catch(i){if(nt(i))return{data:null,error:i};throw i}})}upload(e,s,n){return At(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,s,n)})}uploadToSignedUrl(e,s,n,r){return At(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),a=this._getFinalPath(i),c=new URL(this.url+`/object/upload/sign/${a}`);c.searchParams.set("token",s);try{let l;const d=Object.assign({upsert:Vd.upsert},r),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",d.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",d.cacheControl)):(l=n,h["cache-control"]=`max-age=${d.cacheControl}`,h["content-type"]=d.contentType);const g=yield this.fetch(c.toString(),{method:"PUT",body:l,headers:h}),m=yield g.json();return g.ok?{data:{path:i,fullPath:m.Key},error:null}:{data:null,error:m}}catch(l){if(nt(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,s){return At(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const r=Object.assign({},this.headers);s!=null&&s.upsert&&(r["x-upsert"]="true");const i=yield zs(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:r}),a=new URL(this.url+i.url),c=a.searchParams.get("token");if(!c)throw new rc("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:c},error:null}}catch(n){if(nt(n))return{data:null,error:n};throw n}})}update(e,s,n){return At(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,s,n)})}move(e,s,n){return At(this,void 0,void 0,function*(){try{return{data:yield zs(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(nt(r))return{data:null,error:r};throw r}})}copy(e,s,n){return At(this,void 0,void 0,function*(){try{return{data:{path:(yield zs(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(nt(r))return{data:null,error:r};throw r}})}createSignedUrl(e,s,n){return At(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),i=yield zs(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:s},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(r){if(nt(r))return{data:null,error:r};throw r}})}createSignedUrls(e,s,n){return At(this,void 0,void 0,function*(){try{const r=yield zs(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:r.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(r){if(nt(r))return{data:null,error:r};throw r}})}download(e,s){return At(this,void 0,void 0,function*(){const r=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),a=i?`?${i}`:"";try{const c=this._getFinalPath(e);return{data:yield(yield Oo(this.fetch,`${this.url}/${r}/${c}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(c){if(nt(c))return{data:null,error:c};throw c}})}info(e){return At(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{const n=yield Oo(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:pl(n),error:null}}catch(n){if(nt(n))return{data:null,error:n};throw n}})}exists(e){return At(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{return yield IE(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(nt(n)&&n instanceof fl){const r=n.originalError;if([400,404].includes(r==null?void 0:r.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,s){const n=this._getFinalPath(e),r=[],i=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";i!==""&&r.push(i);const c=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});l!==""&&r.push(l);let d=r.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${n}${d}`)}}}remove(e){return At(this,void 0,void 0,function*(){try{return{data:yield Jp(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(s){if(nt(s))return{data:null,error:s};throw s}})}list(e,s,n){return At(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},kE),s),{prefix:e||""});return{data:yield zs(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(nt(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const s=[];return e.width&&s.push(`width=${e.width}`),e.height&&s.push(`height=${e.height}`),e.resize&&s.push(`resize=${e.resize}`),e.format&&s.push(`format=${e.format}`),e.quality&&s.push(`quality=${e.quality}`),s.join("&")}}const CE="2.7.1",PE={"X-Client-Info":`storage-js/${CE}`};var zn=function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(a){a(i)})}return new(s||(s=Promise))(function(i,a){function c(h){try{d(n.next(h))}catch(g){a(g)}}function l(h){try{d(n.throw(h))}catch(g){a(g)}}function d(h){h.done?i(h.value):r(h.value).then(c,l)}d((n=n.apply(t,e||[])).next())})};class RE{constructor(e,s={},n){this.url=e,this.headers=Object.assign(Object.assign({},PE),s),this.fetch=Gp(n)}listBuckets(){return zn(this,void 0,void 0,function*(){try{return{data:yield Oo(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(nt(e))return{data:null,error:e};throw e}})}getBucket(e){return zn(this,void 0,void 0,function*(){try{return{data:yield Oo(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(s){if(nt(s))return{data:null,error:s};throw s}})}createBucket(e,s={public:!1}){return zn(this,void 0,void 0,function*(){try{return{data:yield zs(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(nt(n))return{data:null,error:n};throw n}})}updateBucket(e,s){return zn(this,void 0,void 0,function*(){try{return{data:yield SE(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(nt(n))return{data:null,error:n};throw n}})}emptyBucket(e){return zn(this,void 0,void 0,function*(){try{return{data:yield zs(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(nt(s))return{data:null,error:s};throw s}})}deleteBucket(e){return zn(this,void 0,void 0,function*(){try{return{data:yield Jp(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(nt(s))return{data:null,error:s};throw s}})}}class OE extends RE{constructor(e,s={},n){super(e,s,n)}from(e){return new AE(this.url,this.headers,e,this.fetch)}}const DE="2.49.10";let $r="";typeof Deno<"u"?$r="deno":typeof document<"u"?$r="web":typeof navigator<"u"&&navigator.product==="ReactNative"?$r="react-native":$r="node";const xE={"X-Client-Info":`supabase-js-${$r}/${DE}`},UE={headers:xE},LE={schema:"public"},NE={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ME={};var jE=function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(a){a(i)})}return new(s||(s=Promise))(function(i,a){function c(h){try{d(n.next(h))}catch(g){a(g)}}function l(h){try{d(n.throw(h))}catch(g){a(g)}}function d(h){h.done?i(h.value):r(h.value).then(c,l)}d((n=n.apply(t,e||[])).next())})};const FE=t=>{let e;return t?e=t:typeof fetch>"u"?e=jp:e=fetch,(...s)=>e(...s)},BE=()=>typeof Headers>"u"?Fp:Headers,$E=(t,e,s)=>{const n=FE(s),r=BE();return(i,a)=>jE(void 0,void 0,void 0,function*(){var c;const l=(c=yield e())!==null&&c!==void 0?c:t;let d=new r(a==null?void 0:a.headers);return d.has("apikey")||d.set("apikey",t),d.has("Authorization")||d.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},a),{headers:d}))})};var VE=function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(a){a(i)})}return new(s||(s=Promise))(function(i,a){function c(h){try{d(n.next(h))}catch(g){a(g)}}function l(h){try{d(n.throw(h))}catch(g){a(g)}}function d(h){h.done?i(h.value):r(h.value).then(c,l)}d((n=n.apply(t,e||[])).next())})};function HE(t){return t.endsWith("/")?t:t+"/"}function qE(t,e){var s,n;const{db:r,auth:i,realtime:a,global:c}=t,{db:l,auth:d,realtime:h,global:g}=e,m={db:Object.assign(Object.assign({},l),r),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},h),a),global:Object.assign(Object.assign(Object.assign({},g),c),{headers:Object.assign(Object.assign({},(s=g==null?void 0:g.headers)!==null&&s!==void 0?s:{}),(n=c==null?void 0:c.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>VE(this,void 0,void 0,function*(){return""})};return t.accessToken?m.accessToken=t.accessToken:delete m.accessToken,m}const Yp="2.69.1",Qn=30*1e3,gl=3,Ua=gl*Qn,WE="http://localhost:9999",KE="supabase.auth.token",zE={"X-Client-Info":`gotrue-js/${Yp}`},ml="X-Supabase-Api-Version",Xp={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},GE=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,JE=6e5;class ic extends Error{constructor(e,s,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=n}}function me(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class YE extends ic{constructor(e,s,n){super(e,s,n),this.name="AuthApiError",this.status=s,this.code=n}}function XE(t){return me(t)&&t.name==="AuthApiError"}class Qp extends ic{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class on extends ic{constructor(e,s,n,r){super(e,n,r),this.name=s,this.status=n}}class Vs extends on{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function QE(t){return me(t)&&t.name==="AuthSessionMissingError"}class La extends on{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ji extends on{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Yi extends on{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ZE(t){return me(t)&&t.name==="AuthImplicitGrantRedirectError"}class Hd extends on{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class vl extends on{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function Na(t){return me(t)&&t.name==="AuthRetryableFetchError"}class qd extends on{constructor(e,s,n){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=n}}class ti extends on{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Wd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Kd=` 	
\r=`.split(""),eT=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Kd.length;e+=1)t[Kd[e].charCodeAt(0)]=-2;for(let e=0;e<Wd.length;e+=1)t[Wd[e].charCodeAt(0)]=e;return t})();function Zp(t,e,s){const n=eT[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)s(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function zd(t){const e=[],s=a=>{e.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},r={queue:0,queuedBits:0},i=a=>{nT(a,n,s)};for(let a=0;a<t.length;a+=1)Zp(t.charCodeAt(a),r,i);return e.join("")}function tT(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function sT(t,e){for(let s=0;s<t.length;s+=1){let n=t.charCodeAt(s);if(n>55295&&n<=56319){const r=(n-55296)*1024&65535;n=(t.charCodeAt(s+1)-56320&65535|r)+65536,s+=1}tT(n,e)}}function nT(t,e,s){if(e.utf8seq===0){if(t<=127){s(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&s(e.codepoint)}}function rT(t){const e=[],s={queue:0,queuedBits:0},n=r=>{e.push(r)};for(let r=0;r<t.length;r+=1)Zp(t.charCodeAt(r),s,n);return new Uint8Array(e)}function iT(t){const e=[];return sT(t,s=>e.push(s)),new Uint8Array(e)}function oT(t){return Math.round(Date.now()/1e3)+t}function aT(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Xt=()=>typeof window<"u"&&typeof document<"u",_n={tested:!1,writable:!1},si=()=>{if(!Xt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(_n.tested)return _n.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),_n.tested=!0,_n.writable=!0}catch{_n.tested=!0,_n.writable=!1}return _n.writable};function lT(t){const e={},s=new URL(t);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((r,i)=>{e[i]=r})}catch{}return s.searchParams.forEach((n,r)=>{e[r]=n}),e}const eg=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>An(async()=>{const{default:n}=await Promise.resolve().then(()=>yr);return{default:n}},void 0).then(({default:n})=>n(...s)):e=fetch,(...s)=>e(...s)},cT=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",tg=async(t,e,s)=>{await t.setItem(e,JSON.stringify(s))},Xi=async(t,e)=>{const s=await t.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},Qi=async(t,e)=>{await t.removeItem(e)};class Qo{constructor(){this.promise=new Qo.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}Qo.promiseConstructor=Promise;function Ma(t){const e=t.split(".");if(e.length!==3)throw new ti("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!GE.test(e[n]))throw new ti("JWT not in base64url format");return{header:JSON.parse(zd(e[0])),payload:JSON.parse(zd(e[1])),signature:rT(e[2]),raw:{header:e[0],payload:e[1]}}}async function uT(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function dT(t,e){return new Promise((n,r)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await t(i);if(!e(i,null,a)){n(a);return}}catch(a){if(!e(i,a)){r(a);return}}})()})}function hT(t){return("0"+t.toString(16)).substr(-2)}function fT(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=s.length;let r="";for(let i=0;i<56;i++)r+=s.charAt(Math.floor(Math.random()*n));return r}return crypto.getRandomValues(e),Array.from(e,hT).join("")}async function pT(t){const s=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",s),r=new Uint8Array(n);return Array.from(r).map(i=>String.fromCharCode(i)).join("")}async function gT(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const s=await pT(t);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Gn(t,e,s=!1){const n=fT();let r=n;s&&(r+="/PASSWORD_RECOVERY"),await tg(t,`${e}-code-verifier`,r);const i=await gT(n);return[i,n===i?"plain":"s256"]}const mT=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function vT(t){const e=t.headers.get(ml);if(!e||!e.match(mT))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function _T(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function yT(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var wT=function(t,e){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(s[n[r]]=t[n[r]]);return s};const bn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),bT=[502,503,504];async function Gd(t){var e;if(!cT(t))throw new vl(bn(t),0);if(bT.includes(t.status))throw new vl(bn(t),t.status);let s;try{s=await t.json()}catch(i){throw new Qp(bn(i),i)}let n;const r=vT(t);if(r&&r.getTime()>=Xp["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?n=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(n=s.error_code),n){if(n==="weak_password")throw new qd(bn(s),t.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Vs}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new qd(bn(s),t.status,s.weak_password.reasons);throw new YE(bn(s),t.status||500,n)}const ET=(t,e,s,n)=>{const r={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),r.body=JSON.stringify(n),Object.assign(Object.assign({},r),s))};async function Ee(t,e,s,n){var r;const i=Object.assign({},n==null?void 0:n.headers);i[ml]||(i[ml]=Xp["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(r=n==null?void 0:n.query)!==null&&r!==void 0?r:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const c=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await TT(t,e,s+c,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function TT(t,e,s,n,r,i){const a=ET(e,n,r,i);let c;try{c=await t(s,Object.assign({},a))}catch(l){throw console.error(l),new vl(bn(l),0)}if(c.ok||await Gd(c),n!=null&&n.noResolveJson)return c;try{return await c.json()}catch(l){await Gd(l)}}function Hs(t){var e;let s=null;AT(t)&&(s=Object.assign({},t),t.expires_at||(s.expires_at=oT(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:s,user:n},error:null}}function Jd(t){const e=Hs(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((s,n)=>s&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Js(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function ST(t){return{data:t,error:null}}function IT(t){const{action_link:e,email_otp:s,hashed_token:n,redirect_to:r,verification_type:i}=t,a=wT(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:e,email_otp:s,hashed_token:n,redirect_to:r,verification_type:i},l=Object.assign({},a);return{data:{properties:c,user:l},error:null}}function kT(t){return t}function AT(t){return t.access_token&&t.refresh_token&&t.expires_in}var CT=function(t,e){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(s[n[r]]=t[n[r]]);return s};class PT{constructor({url:e="",headers:s={},fetch:n}){this.url=e,this.headers=s,this.fetch=eg(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,s="global"){try{return await Ee(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,s={}){try{return await Ee(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Js})}catch(n){if(me(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:s}=e,n=CT(e,["options"]),r=Object.assign(Object.assign({},n),s);return"newEmail"in n&&(r.new_email=n==null?void 0:n.newEmail,delete r.newEmail),await Ee(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:IT,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(me(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await Ee(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Js})}catch(s){if(me(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,n,r,i,a,c,l;try{const d={nextPage:null,lastPage:0,total:0},h=await Ee(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(s=e==null?void 0:e.page)===null||s===void 0?void 0:s.toString())!==null&&n!==void 0?n:"",per_page:(i=(r=e==null?void 0:e.perPage)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:""},xform:kT});if(h.error)throw h.error;const g=await h.json(),m=(a=h.headers.get("x-total-count"))!==null&&a!==void 0?a:0,y=(l=(c=h.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&l!==void 0?l:[];return y.length>0&&(y.forEach(P=>{const U=parseInt(P.split(";")[0].split("=")[1].substring(0,1)),L=JSON.parse(P.split(";")[1].split("=")[1]);d[`${L}Page`]=U}),d.total=parseInt(m)),{data:Object.assign(Object.assign({},g),d),error:null}}catch(d){if(me(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){try{return await Ee(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Js})}catch(s){if(me(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){try{return await Ee(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:Js})}catch(n){if(me(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,s=!1){try{return await Ee(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:Js})}catch(n){if(me(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){try{const{data:s,error:n}=await Ee(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:s,error:n}}catch(s){if(me(s))return{data:null,error:s};throw s}}async _deleteFactor(e){try{return{data:await Ee(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(me(s))return{data:null,error:s};throw s}}}const RT={getItem:t=>si()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{si()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{si()&&globalThis.localStorage.removeItem(t)}};function Yd(t={}){return{getItem:e=>t[e]||null,setItem:(e,s)=>{t[e]=s},removeItem:e=>{delete t[e]}}}function OT(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Jn={debug:!!(globalThis&&si()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class sg extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class DT extends sg{}async function xT(t,e,s){Jn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Jn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async r=>{if(r){Jn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,r.name);try{return await s()}finally{Jn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,r.name)}}else{if(e===0)throw Jn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new DT(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Jn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}OT();const UT={url:WE,storageKey:KE,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:zE,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Xd(t,e,s){return await s()}class hi{constructor(e){var s,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=hi.nextInstanceID,hi.nextInstanceID+=1,this.instanceID>0&&Xt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},UT),e);if(this.logDebugMessages=!!r.debug,typeof r.debug=="function"&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new PT({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=eg(r.fetch),this.lock=r.lock||Xd,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:Xt()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=xT:this.lock=Xd,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?r.storage?this.storage=r.storage:si()?this.storage=RT:(this.memoryStorage={},this.storage=Yd(this.memoryStorage)):(this.memoryStorage={},this.storage=Yd(this.memoryStorage)),Xt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Yp}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const s=lT(window.location.href);let n="none";if(this._isImplicitGrantCallback(s)?n="implicit":await this._isPKCECallback(s)&&(n="pkce"),Xt()&&this.detectSessionInUrl&&n!=="none"){const{data:r,error:i}=await this._getSessionFromURL(s,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),ZE(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:c}=r;return this._debug("#_initialize()","detected session in URL",a,"redirect type",c),await this._saveSession(a),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return me(s)?{error:s}:{error:new Qp("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,n,r;try{const i=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.captchaToken}},xform:Hs}),{data:a,error:c}=i;if(c||!a)return{data:{user:null,session:null},error:c};const l=a.session,d=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:d,session:l},error:null}}catch(i){if(me(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var s,n,r;try{let i;if("email"in e){const{email:h,password:g,options:m}=e;let y=null,P=null;this.flowType==="pkce"&&([y,P]=await Gn(this.storage,this.storageKey)),i=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:h,password:g,data:(s=m==null?void 0:m.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:y,code_challenge_method:P},xform:Hs})}else if("phone"in e){const{phone:h,password:g,options:m}=e;i=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:g,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},channel:(r=m==null?void 0:m.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Hs})}else throw new Ji("You must provide either an email or phone number and a password");const{data:a,error:c}=i;if(c||!a)return{data:{user:null,session:null},error:c};const l=a.session,d=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:d,session:l},error:null}}catch(i){if(me(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let s;if("email"in e){const{email:i,password:a,options:c}=e;s=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:Jd})}else if("phone"in e){const{phone:i,password:a,options:c}=e;s=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:Jd})}else throw new Ji("You must provide either an email or phone number and a password");const{data:n,error:r}=s;return r?{data:{user:null,session:null},error:r}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new La}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:r})}catch(s){if(me(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(e){var s,n,r,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(r=e.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const s=await Xi(this.storage,`${this.storageKey}-code-verifier`),[n,r]=(s??"").split("/");try{const{data:i,error:a}=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Hs});if(await Qi(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new La}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:r??null}),error:a})}catch(i){if(me(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:s,provider:n,token:r,access_token:i,nonce:a}=e,c=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:r,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Hs}),{data:l,error:d}=c;return d?{data:{user:null,session:null},error:d}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new La}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:d})}catch(s){if(me(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(e){var s,n,r,i,a;try{if("email"in e){const{email:c,options:l}=e;let d=null,h=null;this.flowType==="pkce"&&([d,h]=await Gn(this.storage,this.storageKey));const{error:g}=await Ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:d,code_challenge_method:h},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:g}}if("phone"in e){const{phone:c,options:l}=e,{data:d,error:h}=await Ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:h}}throw new Ji("You must provide either an email or phone number.")}catch(c){if(me(c))return{data:{user:null,session:null},error:c};throw c}}async verifyOtp(e){var s,n;try{let r,i;"options"in e&&(r=(s=e.options)===null||s===void 0?void 0:s.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:c}=await Ee(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:r,xform:Hs});if(c)throw c;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,d=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:d,session:l},error:null}}catch(r){if(me(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var s,n,r;try{let i=null,a=null;return this.flowType==="pkce"&&([i,a]=await Gn(this.storage,this.storageKey)),await Ee(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&n!==void 0?n:void 0}),!((r=e==null?void 0:e.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:ST})}catch(i){if(me(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:n}=e;if(n)throw n;if(!s)throw new Vs;const{error:r}=await Ee(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:r}})}catch(e){if(me(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:n,type:r,options:i}=e,{error:a}=await Ee(this.fetch,"POST",s,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){const{phone:n,type:r,options:i}=e,{data:a,error:c}=await Ee(this.fetch,"POST",s,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:c}}throw new Ji("You must provide either an email or phone number and a type")}catch(s){if(me(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await n,await s()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=s();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await Xi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Ua:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,d,h)=>(!a&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,d,h))})}return{data:{session:e},error:null}}const{session:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Js}):await this._useSession(async s=>{var n,r,i;const{data:a,error:c}=s;if(c)throw c;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Vs}:await Ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0,xform:Js})})}catch(s){if(me(s))return QE(s)&&(await this._removeSession(),await Qi(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async n=>{const{data:r,error:i}=n;if(i)throw i;if(!r.session)throw new Vs;const a=r.session;let c=null,l=null;this.flowType==="pkce"&&e.email!=null&&([c,l]=await Gn(this.storage,this.storageKey));const{data:d,error:h}=await Ee(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:l}),jwt:a.access_token,xform:Js});if(h)throw h;return a.user=d.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(me(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Vs;const s=Date.now()/1e3;let n=s,r=!0,i=null;const{payload:a}=Ma(e.access_token);if(a.exp&&(n=a.exp,r=n<=s),r){const{session:c,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!c)return{data:{user:null,session:null},error:null};i=c}else{const{data:c,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:n-s,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(s){if(me(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var n;if(!e){const{data:a,error:c}=s;if(c)throw c;e=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Vs;const{session:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(me(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(e,s){try{if(!Xt())throw new Yi("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Yi(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Hd("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Yi("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Hd("No code detected.");const{data:H,error:$}=await this._exchangeCodeForSession(e.code);if($)throw $;const B=new URL(window.location.href);return B.searchParams.delete("code"),window.history.replaceState(window.history.state,"",B.toString()),{data:{session:H.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:r,access_token:i,refresh_token:a,expires_in:c,expires_at:l,token_type:d}=e;if(!i||!c||!a||!d)throw new Yi("No session defined in URL");const h=Math.round(Date.now()/1e3),g=parseInt(c);let m=h+g;l&&(m=parseInt(l));const y=m-h;y*1e3<=Qn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${g}s`);const P=m-g;h-P>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",P,m,h):h-P<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",P,m,h);const{data:U,error:L}=await this._getUser(i);if(L)throw L;const W={provider_token:n,provider_refresh_token:r,access_token:i,expires_in:g,expires_at:m,refresh_token:a,token_type:d,user:U.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:W,redirectType:e.type},error:null}}catch(n){if(me(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const s=await Xi(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var n;const{data:r,error:i}=s;if(i)return{error:i};const a=(n=r.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:c}=await this.admin.signOut(a,e);if(c&&!(XE(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return e!=="others"&&(await this._removeSession(),await Qi(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const s=aT(),n={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async s=>{var n,r;try{const{data:{session:i},error:a}=s;if(a)throw a;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,s={}){let n=null,r=null;this.flowType==="pkce"&&([n,r]=await Gn(this.storage,this.storageKey,!0));try{return await Ee(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(i){if(me(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:s,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(s){if(me(s))return{data:null,error:s};throw s}}async linkIdentity(e){var s;try{const{data:n,error:r}=await this._useSession(async i=>{var a,c,l,d,h;const{data:g,error:m}=i;if(m)throw m;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Ee(this.fetch,"GET",y,{headers:this.headers,jwt:(h=(d=g.session)===null||d===void 0?void 0:d.access_token)!==null&&h!==void 0?h:void 0})});if(r)throw r;return Xt()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(me(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async s=>{var n,r;const{data:i,error:a}=s;if(a)throw a;return await Ee(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(r=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&r!==void 0?r:void 0})})}catch(s){if(me(s))return{data:null,error:s};throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const n=Date.now();return await dT(async r=>(r>0&&await uT(200*Math.pow(2,r-1)),this._debug(s,"refreshing attempt",r),await Ee(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Hs})),(r,i)=>{const a=200*Math.pow(2,r);return i&&Na(i)&&Date.now()+a-n<Qn})}catch(n){if(this._debug(s,"error",n),me(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",n),Xt()&&!s.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const n=await Xi(this.storage,this.storageKey);if(this._debug(s,"session from storage",n),!this._isValidSession(n)){this._debug(s,"session is not valid"),n!==null&&await this._removeSession();return}const r=((e=n.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<Ua;if(this._debug(s,`session has${r?"":" not"} expired with margin of ${Ua}s`),r){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),Na(i)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(s,"error",n),console.error(n);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var s,n;if(!e)throw new Vs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new Qo;const{data:i,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!i.session)throw new Vs;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const c={session:i.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(i){if(this._debug(r,"error",i),me(i)){const a={session:null,error:i};return Na(i)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,s,n=!0){const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",s,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:s});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(e,s)}catch(l){i.push(l)}});if(await Promise.all(a),i.length>0){for(let c=0;c<i.length;c+=1)console.error(i[c]);throw i[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await tg(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Qi(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Xt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Qn);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:n}}=s;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((n.expires_at*1e3-e)/Qn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${Qn}ms, refresh threshold is ${gl} ticks`),r<=gl&&await this._callRefreshToken(n.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof sg)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Xt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,n){const r=[`provider=${encodeURIComponent(s)}`];if(n!=null&&n.redirectTo&&r.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&r.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await Gn(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});r.push(c.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);r.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&r.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var n;const{data:r,error:i}=s;return i?{data:null,error:i}:await Ee(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=r==null?void 0:r.session)===null||n===void 0?void 0:n.access_token})})}catch(s){if(me(s))return{data:null,error:s};throw s}}async _enroll(e){try{return await this._useSession(async s=>{var n,r;const{data:i,error:a}=s;if(a)return{data:null,error:a};const c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:d}=await Ee(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(e.factorType==="totp"&&(!((r=l==null?void 0:l.totp)===null||r===void 0)&&r.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(s){if(me(s))return{data:null,error:s};throw s}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var n;const{data:r,error:i}=s;if(i)return{data:null,error:i};const{data:a,error:c}=await Ee(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=r==null?void 0:r.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:c})})}catch(s){if(me(s))return{data:null,error:s};throw s}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var n;const{data:r,error:i}=s;return i?{data:null,error:i}:await Ee(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=r==null?void 0:r.session)===null||n===void 0?void 0:n.access_token})})}catch(s){if(me(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(e){const{data:s,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){const{data:{user:e},error:s}=await this.getUser();if(s)return{data:null,error:s};const n=(e==null?void 0:e.factors)||[],r=n.filter(a=>a.factor_type==="totp"&&a.status==="verified"),i=n.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:n,totp:r,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var s,n;const{data:{session:r},error:i}=e;if(i)return{data:null,error:i};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Ma(r.access_token);let c=null;a.aal&&(c=a.aal);let l=c;((n=(s=r.user.factors)===null||s===void 0?void 0:s.filter(g=>g.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const h=a.amr||[];return{data:{currentLevel:c,nextLevel:l,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(e,s={keys:[]}){let n=s.keys.find(a=>a.kid===e);if(n||(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+JE>Date.now()))return n;const{data:r,error:i}=await Ee(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!r.keys||r.keys.length===0)throw new ti("JWKS is empty");if(this.jwks=r,this.jwks_cached_at=Date.now(),n=r.keys.find(a=>a.kid===e),!n)throw new ti("No matching signing key found in JWKS");return n}async getClaims(e,s={keys:[]}){try{let n=e;if(!n){const{data:y,error:P}=await this.getSession();if(P||!y.session)return{data:null,error:P};n=y.session.access_token}const{header:r,payload:i,signature:a,raw:{header:c,payload:l}}=Ma(n);if(_T(i.exp),!r.kid||r.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:y}=await this.getUser(n);if(y)throw y;return{data:{claims:i,header:r,signature:a},error:null}}const d=yT(r.alg),h=await this.fetchJwk(r.kid,s),g=await crypto.subtle.importKey("jwk",h,d,!0,["verify"]);if(!await crypto.subtle.verify(d,g,a,iT(`${c}.${l}`)))throw new ti("Invalid JWT signature");return{data:{claims:i,header:r,signature:a},error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}}}hi.nextInstanceID=0;const LT=hi;class NT extends LT{constructor(e){super(e)}}var MT=function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(a){a(i)})}return new(s||(s=Promise))(function(i,a){function c(h){try{d(n.next(h))}catch(g){a(g)}}function l(h){try{d(n.throw(h))}catch(g){a(g)}}function d(h){h.done?i(h.value):r(h.value).then(c,l)}d((n=n.apply(t,e||[])).next())})};class jT{constructor(e,s,n){var r,i,a;if(this.supabaseUrl=e,this.supabaseKey=s,!e)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const c=HE(e),l=new URL(c);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const d=`sb-${l.hostname.split(".")[0]}-auth-token`,h={db:LE,realtime:ME,auth:Object.assign(Object.assign({},NE),{storageKey:d}),global:UE},g=qE(n??{},h);this.storageKey=(r=g.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=g.global.headers)!==null&&i!==void 0?i:{},g.accessToken?(this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(m,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=g.auth)!==null&&a!==void 0?a:{},this.headers,g.global.fetch),this.fetch=$E(s,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.rest=new rE(new URL("rest/v1",l).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),g.accessToken||this._listenForAuthEvents()}get functions(){return new q1(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new OE(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,s={},n={}){return this.rest.rpc(e,s,n)}channel(e,s={config:{}}){return this.realtime.channel(e,s)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,s;return MT(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(s=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:s,detectSessionInUrl:n,storage:r,storageKey:i,flowType:a,lock:c,debug:l},d,h){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new NT({url:this.authUrl.href,headers:Object.assign(Object.assign({},g),d),storageKey:i,autoRefreshToken:e,persistSession:s,detectSessionInUrl:n,storage:r,flowType:a,lock:c,debug:l,fetch:h,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new vE(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,n)=>{this._handleTokenChanged(s,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,s,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const FT=(t,e,s)=>new jT(t,e,s),BT="",$T="",We=FT(BT,$T),VT=(t,e)=>{const{data:s}=We.storage.from(t).getPublicUrl(e);return s.publicUrl},HT=async(t,e,s)=>{const{data:n,error:r}=await We.storage.from(t).upload(e,s,{cacheControl:"3600",upsert:!1});if(r)throw r;return n},qT={name:"ProductDashboard",setup(){var Sr;const t=yf(),e=de([]),s=de([]),n=de([]),r=de("user"),i=de(null),a=de(!1),c=de(""),l=de(""),d=de(""),h=de(!1),g=de(!1),m=de(!1),y=de(!1),P=de(!1),U=de(!1),L=de(!1),W=de(!1),H=de(!1),$=de([]),B=de([]),ee=de([]),_e=de(((Sr=at.currentUser)==null?void 0:Sr.email)||""),S=de("https://via.placeholder.com/40x40/4A90E2/ffffff?text=U"),_=de("products"),T=de("users"),I=de("csv"),k=de(null),A=de([]),E=de([]),ze=de([]),Ge=de(0),xe=de(""),ve=de([]),ge=de(!1),rt=de(!1),Tt=de({title:"",message:"",confirmText:"OK",cancelText:"Cancel",onConfirm:()=>{},onCancel:()=>{}}),mt=de({title:"Success",message:""}),Te=de({title:"",barcode:"",category:"",imageFile:null,imagePreview:null}),we=de({id:"",title:"",barcode:"",category:"",image_url:"",imageFile:null}),it=de({displayName:"",email:"",password:"",role:"user",status:"active"}),Je=de({id:"",display_name:"",email:"",role:"user",status:"active",newPassword:""}),Ze=de({name:""}),N=de({id:"",name:""}),z=de({display_name:"",current_password:"",new_password:"",confirm_password:""}),Q=Be(()=>e.value.length),Z=Be(()=>n.value.length),Se=Be(()=>{const D=new Date;return D.setDate(D.getDate()-7),e.value.filter(O=>O.created_at&&new Date(O.created_at)>D).length}),w=Be(()=>{let D=e.value;if(c.value){const O=c.value.toLowerCase();D=D.filter(X=>X.title.toLowerCase().includes(O)||X.barcode.toLowerCase().includes(O)||X.category.toLowerCase().includes(O))}return D}),b=Be(()=>{let D=s.value;if(l.value){const O=l.value.toLowerCase();D=D.filter(X=>X.display_name&&X.display_name.toLowerCase().includes(O)||X.email.toLowerCase().includes(O)||X.role.toLowerCase().includes(O))}return D}),C=Be(()=>{let D=n.value;if(d.value){const O=d.value.toLowerCase();D=D.filter(X=>X.name.toLowerCase().includes(O))}return D}),M=Be(()=>["user","lister","admin"].includes(r.value)),F=Be(()=>["lister","admin"].includes(r.value)),j=Be(()=>["lister","admin"].includes(r.value)),J=Be(()=>r.value==="admin"),q=Be(()=>r.value==="admin"),K=Be(()=>r.value==="admin"),V=async()=>{try{if(!at.currentUser){console.warn("No authenticated user found");return}console.log("Loading current user role...");const{data:D,error:O}=await We.from("users").select("*").eq("firebase_uid",at.currentUser.uid).single();if(O)if(O.code==="PGRST116")console.warn("User not found in users table, defaulting to user role"),r.value="user",i.value={email:at.currentUser.email,role:"user",display_name:at.currentUser.email.split("@")[0]};else throw O;else r.value=D.role,i.value=D,console.log(`Current user role: ${r.value}`)}catch(D){console.error("Error loading user role:",D),r.value="user"}},te=async()=>{try{if(!M.value){ne("You do not have permission to view products.","Access Denied");return}console.log("Loading products from Supabase..."),console.log("Supabase instance:",We);const{data:D,error:O}=await We.from("products").select("*").order("title",{ascending:!0});if(O)throw O;e.value=D||[],console.log(`Loaded ${e.value.length} products successfully`)}catch(D){console.error("Error loading products:",D),console.error("Error message:",D.message);let O="Error loading products. Please try again.";D.message&&(O=`Error: ${D.message}`),ne(O,"Error")}},Y=D=>{const O=D.target.files[0];if(O){Te.value.imageFile=O;const X=new FileReader;X.onload=fe=>{Te.value.imagePreview=fe.target.result},X.readAsDataURL(O)}},se=D=>{const O=D.target.files[0];if(O){we.value.imageFile=O;const X=new FileReader;X.onload=fe=>{we.value.image_url=fe.target.result},X.readAsDataURL(O)}},oe=async(D,O)=>{var X;try{console.log("Uploading image to Supabase:",O,"Size:",D.size),console.log("Current user:",(X=at.currentUser)==null?void 0:X.email);const fe=`products/${O}`;console.log("Upload path:",fe),await HT("product-images",fe,D),console.log("Upload successful");const ye=VT("product-images",fe);return console.log("Public URL:",ye),ye}catch(fe){throw console.error("Image upload error:",fe),console.error("Error message:",fe.message),fe}},ie=async()=>{if(!F.value){ne("You do not have permission to add products.","Access Denied");return}a.value=!0;try{console.log("Starting product addition..."),console.log("User authenticated:",!!at.currentUser);let D="";if(Te.value.imageFile){console.log("Image file selected, starting upload...");const fe=`${Date.now()}_${Te.value.imageFile.name}`;try{D=await oe(Te.value.imageFile,fe),console.log("Image uploaded successfully:",D)}catch(ye){if(console.error("Image upload failed:",ye),!await hn("Image Upload Failed",`Image upload failed. Would you like to add the product without an image?

Error: ${ye.message}`,null,"Continue Without Image","Cancel"))return;D=""}}console.log("Adding product to Supabase...");const{data:O,error:X}=await We.from("products").insert([{title:Te.value.title,barcode:Te.value.barcode,category:Te.value.category,image_url:D,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]);if(X)throw X;console.log("Product added to Supabase successfully"),Te.value={title:"",barcode:"",category:"",imageFile:null,imagePreview:null},h.value=!1,await te(),ne("Product added successfully!")}catch(D){console.error("Error adding product:",D),console.error("Error code:",D.code),console.error("Error message:",D.message);let O="Error adding product. Please try again.";D.code==="permission-denied"?O="Permission denied. Please check your Firebase security rules.":D.code==="unauthenticated"?O="You are not logged in. Please log in and try again.":D.message&&(O=`Error: ${D.message}`),ne(O,"Error")}finally{a.value=!1}},he=D=>{if(!j.value){ne("You do not have permission to edit products.","Access Denied");return}we.value={...D},g.value=!0},be=async()=>{if(!j.value){ne("You do not have permission to update products.","Access Denied");return}a.value=!0;try{let D=we.value.image_url;if(we.value.imageFile){const fe=`${Date.now()}_${we.value.imageFile.name}`;D=await oe(we.value.imageFile,fe)}const{data:O,error:X}=await We.from("products").update({title:we.value.title,barcode:we.value.barcode,category:we.value.category,image_url:D,updated_at:new Date().toISOString()}).eq("id",we.value.id);if(X)throw X;g.value=!1,await te(),ne("Product updated successfully!")}catch(D){console.error("Error updating product:",D),ne("Error updating product. Please try again.","Error")}finally{a.value=!1}},et=async D=>{if(!J.value){ne("You do not have permission to delete products.","Access Denied");return}g.value=!1,hn("Delete Product","Are you sure you want to delete this product? This action cannot be undone.",async()=>{try{const{error:O}=await We.from("products").delete().eq("id",D);if(O)throw O;await te(),ne("Product deleted successfully!")}catch(O){console.error("Error deleting product:",O),ne("Error deleting product. Please try again.","Error")}},"Delete","Cancel")},Ye=D=>{D.target.checked?$.value=e.value.map(O=>O.id):$.value=[]},St=D=>{D.target.checked?B.value=s.value.map(O=>O.id):B.value=[]},$e=async()=>{try{if(!q.value){ne("You do not have permission to view users.","Access Denied");return}console.log("Loading users from Supabase...");const{data:D,error:O}=await We.from("users").select("*").order("created_at",{ascending:!1});if(O)throw O;s.value=D||[],console.log(`Loaded ${s.value.length} users successfully`)}catch(D){console.error("Error loading users:",D),ne("Error loading users. Please try again.","Error")}},It=async()=>{try{console.log("Loading categories from Supabase...");const{data:D,error:O}=await We.from("categories").select("*").order("name",{ascending:!0});if(O)throw O;n.value=D||[],console.log(`Loaded ${n.value.length} categories successfully`)}catch(D){console.error("Error loading categories:",D),ne("Error loading categories. Please try again.","Error")}},an=async()=>{if(!q.value){ne("You do not have permission to create categories.","Access Denied");return}a.value=!0;try{console.log("Creating new category...");const{data:D,error:O}=await We.from("categories").insert([{name:Ze.value.name,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]);if(O)throw O;console.log("Category added successfully"),Ze.value={name:""},U.value=!1,await It(),ne("Category created successfully!")}catch(D){console.error("Error creating category:",D);let O="Error creating category. Please try again.";D.code==="23505"?O="A category with this name already exists.":D.message&&(O=`Error: ${D.message}`),ne(O,"Error")}finally{a.value=!1}},Xe=D=>{if(!q.value){ne("You do not have permission to edit categories.","Access Denied");return}N.value={...D},L.value=!0},kt=async()=>{if(!q.value){ne("You do not have permission to update categories.","Access Denied");return}a.value=!0;try{console.log("Updating category...");const{data:D,error:O}=await We.from("categories").update({name:N.value.name,updated_at:new Date().toISOString()}).eq("id",N.value.id);if(O)throw O;L.value=!1,await It(),ne("Category updated successfully!")}catch(D){console.error("Error updating category:",D);let O="Error updating category. Please try again.";D.code==="23505"?O="A category with this name already exists.":D.message&&(O=`Error: ${D.message}`),ne(O,"Error")}finally{a.value=!1}},xn=async D=>{if(!q.value){ne("You do not have permission to delete categories.","Access Denied");return}const O=n.value.find(X=>X.id===D);L.value=!1,hn("Delete Category",`Are you sure you want to delete category "${O==null?void 0:O.name}"? This action cannot be undone and may affect existing products.`,async()=>{try{const{error:X}=await We.from("categories").delete().eq("id",D);if(X)throw X;await It(),ne("Category deleted successfully!")}catch(X){console.error("Error deleting category:",X),ne("Error deleting category. Please try again.","Error")}},"Delete","Cancel")},wr=D=>{D.target.checked?ee.value=n.value.map(O=>O.id):ee.value=[]},ki=async()=>{if(!q.value){ne("You do not have permission to create users.","Access Denied");return}a.value=!0;try{console.log("Creating new user...");const{createUserWithEmailAndPassword:D}=await An(async()=>{const{createUserWithEmailAndPassword:ye}=await Promise.resolve().then(()=>ld);return{createUserWithEmailAndPassword:ye}},void 0),O=await D(at,it.value.email,it.value.password);console.log("User created in Firebase Auth:",O.user.uid);const{data:X,error:fe}=await We.from("users").insert([{firebase_uid:O.user.uid,email:it.value.email,display_name:it.value.displayName,role:it.value.role,status:it.value.status,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]);if(fe)throw await O.user.delete(),fe;console.log("User added to database successfully"),it.value={displayName:"",email:"",password:"",role:"employee",status:"active"},y.value=!1,await $e(),ne("User created successfully! Note: You have been automatically logged out due to Firebase Auth behavior. Please log back in with your admin credentials.","Success - Logout Required"),setTimeout(()=>{$t()},3e3)}catch(D){console.error("Error creating user:",D);let O="Error creating user. Please try again.";D.code==="auth/email-already-in-use"?O="This email is already registered.":D.code==="auth/weak-password"?O="Password should be at least 6 characters.":D.code==="auth/invalid-email"?O="Invalid email address.":D.message&&(O=`Error: ${D.message}`),ne(O,"Error")}finally{a.value=!1}},Zo=D=>{if(!q.value){ne("You do not have permission to edit users.","Access Denied");return}Je.value={...D,newPassword:""},P.value=!0},ln=async()=>{if(!q.value){ne("You do not have permission to update users.","Access Denied");return}a.value=!0;try{console.log("Updating user...");const D={display_name:Je.value.display_name,role:Je.value.role,status:Je.value.status,updated_at:new Date().toISOString()},{data:O,error:X}=await We.from("users").update(D).eq("id",Je.value.id);if(X)throw X;Je.value.newPassword?(console.log("Password reset requested for user:",Je.value.email),ne("User updated successfully! Password reset functionality requires backend implementation.","Partial Success")):ne("User updated successfully!"),P.value=!1,await $e()}catch(D){console.error("Error updating user:",D),ne("Error updating user. Please try again.","Error")}finally{a.value=!1}},br=async D=>{if(!q.value){ne("You do not have permission to delete users.","Access Denied");return}const O=s.value.find(X=>X.id===D);P.value=!1,hn("Delete User",`Are you sure you want to delete user "${(O==null?void 0:O.display_name)||(O==null?void 0:O.email)}"? This action cannot be undone.`,async()=>{try{const{error:X}=await We.from("users").delete().eq("id",D);if(X)throw X;await $e(),ne("User deleted successfully!")}catch(X){console.error("Error deleting user:",X),ne("Error deleting user. Please try again.","Error")}},"Delete","Cancel")},Er=D=>{const O=D.target.files[0];O&&O.type==="text/csv"?(k.value=O,Un(O)):ne("Please select a valid CSV file.","Error")},Us=D=>{D.preventDefault();const O=D.dataTransfer.files[0];O&&O.type==="text/csv"?(k.value=O,Un(O)):ne("Please drop a valid CSV file.","Error")},Un=D=>{const O=new FileReader;O.onload=X=>{const ye=X.target.result.split(`
`).filter(vt=>vt.trim());if(ye.length<2){ne("CSV file appears to be empty or invalid.","Error");return}const tt=ye[0].split(",").map(vt=>vt.trim().toLowerCase()),Ns=["title","barcode","category"].filter(vt=>!tt.includes(vt));if(Ns.length>0){ne(`Missing required columns: ${Ns.join(", ")}`,"Error");return}const Ms=[];for(let vt=1;vt<ye.length;vt++){const us=ye[vt].split(",").map(Ir=>Ir.trim().replace(/"/g,"")),ds={};tt.forEach((Ir,Oi)=>{ds[Ir]=us[Oi]||""}),ds.title&&ds.barcode&&ds.category&&Ms.push(ds)}A.value=Ms,E.value=Ms.slice(0,10),Ms.length===0&&ne("No valid product data found in CSV.","Error")},O.readAsText(D)},Ln=()=>{k.value=null,A.value=[],E.value=[],Ge.value=0,xe.value=""},Ai=async()=>{if(A.value.length){a.value=!0,Ge.value=0;try{const D=A.value.length;let O=0,X=0;for(let fe=0;fe<A.value.length;fe++){const ye=A.value[fe];xe.value=`Importing product ${fe+1} of ${D}: ${ye.title}`;try{const{data:tt}=await We.from("products").select("barcode").eq("barcode",ye.barcode).single();if(tt)console.log(`Product with barcode ${ye.barcode} already exists, skipping`),X++;else{const{error:Nt}=await We.from("products").insert([{title:ye.title,barcode:ye.barcode,category:ye.category,image_url:"",created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]);Nt?(console.error("Error inserting product:",Nt),X++):O++}}catch(tt){console.error("Error processing product:",tt),X++}Ge.value=Math.round((fe+1)/D*100)}xe.value=`Import complete: ${O} successful, ${X} failed/skipped`,O>0?(await te(),ne(`Successfully imported ${O} products! ${X>0?`${X} products were skipped (duplicates or errors).`:""}`)):ne("No products were imported. All items may have been duplicates or had errors.","Import Complete"),setTimeout(()=>{Ln()},2e3)}catch(D){console.error("Error during bulk import:",D),ne("Error during bulk import. Please try again.","Error")}finally{a.value=!1}}},cn=D=>{const O=Array.from(D.target.files);Qe(O)},Ci=D=>{D.preventDefault();const O=Array.from(D.dataTransfer.files);Qe(O)},Qe=D=>{ze.value=D;const O=[];D.forEach(X=>{const fe=X.name.replace(/\.[^/.]+$/,""),ye=e.value.find(Nt=>Nt.barcode===fe),tt=URL.createObjectURL(X);O.push({file:X,filename:X.name,barcode:fe,matched:!!ye,productTitle:(ye==null?void 0:ye.title)||null,productId:(ye==null?void 0:ye.id)||null,preview:tt})}),ve.value=O},Pi=async()=>{const D=ve.value.filter(O=>O.matched);if(D.length===0){ne("No matched images to upload.","Info");return}a.value=!0;try{let O=0,X=0;for(let fe=0;fe<D.length;fe++){const ye=D[fe];xe.value=`Uploading image ${fe+1} of ${D.length}: ${ye.filename}`;try{const tt=`${Date.now()}_${ye.file.name}`,Nt=await oe(ye.file,tt),{error:Ns}=await We.from("products").update({image_url:Nt,updated_at:new Date().toISOString()}).eq("id",ye.productId);Ns?(console.error("Error updating product image:",Ns),X++):O++}catch(tt){console.error("Error uploading image:",tt),X++}Ge.value=Math.round((fe+1)/D.length*100)}xe.value=`Upload complete: ${O} successful, ${X} failed`,O>0&&(await te(),ne(`Successfully uploaded ${O} images! ${X>0?`${X} images failed to upload.`:""}`)),ve.value.forEach(fe=>{fe.preview&&URL.revokeObjectURL(fe.preview)}),setTimeout(()=>{ze.value=[],ve.value=[],Ge.value=0,xe.value=""},2e3)}catch(O){console.error("Error during image upload:",O),ne("Error during image upload. Please try again.","Error")}finally{a.value=!1}},un=D=>{if(!D)return"?";const O=D.split(" ");return O.length===1?O[0].charAt(0).toUpperCase():(O[0].charAt(0)+O[O.length-1].charAt(0)).toUpperCase()},dn=D=>D?new Date(D).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",ea=()=>{H.value=!H.value},ta=()=>{H.value=!1},Ls=()=>{var D,O;z.value={display_name:((D=i.value)==null?void 0:D.display_name)||((O=_e.value)==null?void 0:O.split("@")[0])||"",current_password:"",new_password:"",confirm_password:""},W.value=!0,H.value=!1},sa=()=>{_.value="settings",H.value=!1},Ri=()=>{W.value=!1,z.value={display_name:"",current_password:"",new_password:"",confirm_password:""}},Tr=async()=>{var D;a.value=!0;try{if(console.log("Updating user settings..."),z.value.new_password){if(!z.value.current_password){ne("Current password is required to change password.","Error");return}if(z.value.new_password!==z.value.confirm_password){ne("New passwords do not match.","Error");return}if(z.value.new_password.length<6){ne("New password must be at least 6 characters.","Error");return}}if((D=i.value)!=null&&D.id){const{error:O}=await We.from("users").update({display_name:z.value.display_name,updated_at:new Date().toISOString()}).eq("id",i.value.id);if(O)throw O;i.value.display_name=z.value.display_name}if(z.value.new_password)try{const{signInWithEmailAndPassword:O,updatePassword:X}=await An(async()=>{const{signInWithEmailAndPassword:fe,updatePassword:ye}=await Promise.resolve().then(()=>ld);return{signInWithEmailAndPassword:fe,updatePassword:ye}},void 0);await O(at,at.currentUser.email,z.value.current_password),await X(at.currentUser,z.value.new_password),ne("Settings updated successfully! Password has been changed.")}catch(O){console.error("Password update error:",O);let X="Error updating password.";O.code==="auth/wrong-password"?X="Current password is incorrect.":O.code==="auth/weak-password"?X="New password is too weak.":O.message&&(X=`Password error: ${O.message}`),ne(X,"Error");return}else ne("Display name updated successfully!");Ri()}catch(O){console.error("Error updating user settings:",O),ne("Error updating settings. Please try again.","Error")}finally{a.value=!1}},hn=(D,O,X,fe="OK",ye="Cancel")=>new Promise(tt=>{Tt.value={title:D,message:O,confirmText:fe,cancelText:ye,onConfirm:()=>{ge.value=!1,X&&X(),tt(!0)},onCancel:()=>{ge.value=!1,tt(!1)}},ge.value=!0}),ne=(D,O="Success")=>{mt.value={title:O,message:D},rt.value=!0},Nn=()=>{rt.value=!1},$t=async()=>{try{await hp(at),t.push("/")}catch(D){console.error("Error logging out:",D)}};return Dh(async()=>{if(console.log("Dashboard mounted"),console.log("Auth state:",at.currentUser),console.log("Config check:",{firebaseAuthDomain:"",firebaseProjectId:"",supabaseUrl:"",supabaseAnonKey:"Not set"}),!at.currentUser){console.warn("User not authenticated, redirecting to login"),t.push("/");return}console.log("User authenticated:",at.currentUser.email),await V(),M.value&&te(),q.value&&$e(),It()}),{products:e,users:s,categories:n,currentUserRole:r,currentUserData:i,loading:a,searchTerm:c,userSearchTerm:l,categorySearchTerm:d,activeSection:_,adminActiveTab:T,showAddProduct:h,showEditProduct:g,showBulkImport:m,selectedProducts:$,newProduct:Te,editingProduct:we,bulkImportActiveTab:I,csvFile:k,csvData:A,csvPreview:E,imageFiles:ze,importProgress:Ge,importStatus:xe,imageMatchResults:ve,showAddUser:y,showEditUser:P,showUserSettings:W,showUserDropdown:H,selectedUsers:B,newUser:it,editingUser:Je,userSettingsForm:z,showAddCategory:U,showEditCategory:L,selectedCategories:ee,newCategory:Ze,editingCategory:N,userEmail:_e,userAvatar:S,totalProducts:Q,totalCategories:Z,recentProducts:Se,filteredProducts:w,filteredUsers:b,filteredCategories:C,canViewStock:M,canAddStock:F,canEditStock:j,canDeleteStock:J,canManageUsers:q,canAccessSettings:K,showConfirmDialog:ge,showSuccessMessage:rt,confirmDialog:Tt,successMessage:mt,handleImageUpload:Y,handleEditImageUpload:se,addProduct:ie,editProduct:he,updateProduct:be,deleteProduct:et,toggleSelectAll:Ye,handleCSVUpload:Er,handleCSVDrop:Us,parseCSV:Un,clearCSVData:Ln,importCSVProducts:Ai,handleBulkImageUpload:cn,handleImageDrop:Ci,processImageFiles:Qe,uploadMatchedImages:Pi,addUser:ki,editUser:Zo,updateUser:ln,deleteUser:br,toggleSelectAllUsers:St,getUserInitials:un,formatDate:dn,loadCurrentUserRole:V,loadCategories:It,addCategory:an,editCategory:Xe,updateCategory:kt,deleteCategory:xn,toggleSelectAllCategories:wr,toggleUserDropdown:ea,closeUserDropdown:ta,openUserSettings:Ls,openAdminSettings:sa,closeUserSettings:Ri,updateUserSettings:Tr,showConfirm:hn,showSuccess:ne,closeSuccessMessage:Nn,logout:$t}}},WT={class:"dashboard"},KT={class:"top-nav"},zT={class:"nav-content"},GT={class:"nav-tabs"},JT={class:"nav-actions"},YT={class:"user-info"},XT={class:"user-display-name"},QT={class:"user-role"},ZT={class:"user-dropdown-container"},eS={key:0,class:"user-dropdown-menu"},tS={class:"main-content"},sS={key:0},nS={class:"content-header"},rS={key:0,class:"header-actions"},iS={class:"stats-grid"},oS={class:"stat-card"},aS={class:"stat-content"},lS={class:"stat-info"},cS={class:"stat-number"},uS={class:"stat-card"},dS={class:"stat-content"},hS={class:"stat-info"},fS={class:"stat-number"},pS={class:"stat-card"},gS={class:"stat-content"},mS={class:"stat-info"},vS={class:"stat-number"},_S={class:"table-section"},yS={class:"table-header"},wS={class:"table-actions"},bS={class:"search-box"},ES={class:"products-table"},TS={class:"checkbox-col"},SS={class:"checkbox-col"},IS=["value"],kS={class:"image-col"},AS=["src","alt"],CS={class:"title-col"},PS={class:"product-title"},RS={class:"barcode-col"},OS={class:"product-barcode"},DS={class:"category-col"},xS={class:"product-category"},US={class:"action-col"},LS=["onClick"],NS={key:1,class:"no-action"},MS={key:0,class:"empty-state"},jS={key:1},FS={class:"content-header"},BS={class:"header-left"},$S={class:"admin-tabs"},VS={key:0,class:"table-section"},HS={class:"table-header"},qS={class:"table-actions"},WS={class:"search-box"},KS={class:"products-table"},zS={class:"checkbox-col"},GS={class:"checkbox-col"},JS=["value"],YS={class:"name-col"},XS={class:"user-info-cell"},QS={class:"user-avatar-small"},ZS={class:"user-details"},eI={class:"user-name"},tI={class:"user-subtitle"},sI={class:"email-col"},nI={class:"user-email"},rI={class:"role-col"},iI={class:"created-col"},oI={class:"user-created"},aI={class:"status-col"},lI={class:"action-col"},cI=["onClick"],uI={key:0,class:"empty-state"},dI={key:2,class:"table-section"},hI={class:"table-header"},fI={class:"table-actions"},pI={class:"search-box"},gI={class:"products-table"},mI={class:"checkbox-col"},vI={class:"checkbox-col"},_I=["value"],yI={class:"name-col"},wI={class:"category-name"},bI={class:"created-col"},EI={class:"category-created"},TI={class:"action-col"},SI=["onClick"],II={key:0,class:"empty-state"},kI={class:"modal"},AI={class:"modal-header"},CI={class:"form-row"},PI={class:"form-group"},RI={class:"form-group"},OI={class:"form-row"},DI={class:"form-group"},xI={class:"form-group"},UI={class:"form-row"},LI={class:"form-group"},NI={class:"form-actions"},MI=["disabled"],jI={class:"modal"},FI={class:"modal-header"},BI={class:"form-row"},$I={class:"form-group"},VI={class:"form-group"},HI={class:"form-row"},qI={class:"form-group"},WI={class:"form-group"},KI={class:"form-row"},zI={class:"form-group"},GI={class:"form-actions"},JI=["disabled"],YI=["disabled"],XI={class:"modal"},QI={class:"modal-header"},ZI={class:"form-row"},ek={class:"form-group"},tk={key:0,class:"image-preview"},sk=["src"],nk={class:"form-row"},rk={class:"form-group"},ik={class:"form-group"},ok={class:"form-row"},ak={class:"form-group"},lk=["value"],ck={class:"form-actions"},uk=["disabled"],dk={class:"modal"},hk={class:"modal-header"},fk={class:"form-row"},pk={class:"form-group"},gk={key:0,class:"image-preview"},mk=["src"],vk={class:"form-row"},_k={class:"form-group"},yk={class:"form-group"},wk={class:"form-row"},bk={class:"form-group"},Ek=["value"],Tk={class:"form-actions"},Sk=["disabled"],Ik={key:4,class:"modal-overlay"},kk={class:"custom-modal confirmation-modal"},Ak={class:"custom-modal-header"},Ck={class:"modal-icon"},Pk={class:"custom-modal-body"},Rk={class:"custom-modal-actions"},Ok={key:5,class:"modal-overlay"},Dk={class:"custom-modal-header"},xk={class:"modal-icon"},Uk={class:"custom-modal-body"},Lk={class:"custom-modal-actions"},Nk={class:"modal"},Mk={class:"modal-header"},jk={class:"form-row"},Fk={class:"form-group"},Bk={class:"form-actions"},$k=["disabled"],Vk={class:"modal"},Hk={class:"modal-header"},qk={class:"form-row"},Wk={class:"form-group"},Kk={class:"form-actions"},zk=["disabled"],Gk={class:"modal"},Jk={class:"modal-header"},Yk={class:"form-row"},Xk={class:"form-group"},Qk={class:"form-section"},Zk={class:"form-row"},eA={class:"form-group"},tA={class:"form-row"},sA={class:"form-group"},nA={class:"form-group"},rA={class:"form-actions"},iA=["disabled"],oA={class:"modal large-modal"},aA={class:"modal-header"},lA={class:"import-tabs"},cA={key:0,class:"import-content"},uA={key:0,class:"csv-upload-section"},dA={class:"upload-content"},hA={key:1,class:"csv-preview-section"},fA={class:"preview-header"},pA={class:"preview-actions"},gA=["disabled"],mA={class:"csv-preview-table"},vA={key:2,class:"import-progress"},_A={class:"progress-bar"},yA={key:1,class:"import-content"},wA={class:"image-upload-section"},bA={class:"upload-content"},EA={key:0,class:"image-match-results"},TA={class:"match-header"},SA=["disabled"],IA={class:"match-summary"},kA={class:"match-stat"},AA={class:"match-count success"},CA={class:"match-stat"},PA={class:"match-count warning"},RA={class:"match-list"},OA={class:"match-info"},DA={key:0,class:"match-status success"},xA={key:1,class:"match-status error"},UA=["src","alt"];function LA(t,e,s,n,r,i){var a,c;return re(),ae("div",WT,[p("nav",KT,[p("div",zT,[e[103]||(e[103]=p("div",{class:"logo-section"},[p("img",{src:Mp,alt:"Supreme Logo",class:"logo"})],-1)),p("div",GT,[p("button",{onClick:e[0]||(e[0]=l=>n.activeSection="products"),class:jt(["nav-tab",{active:n.activeSection==="products"}])}," Dashboard ",2)]),p("div",JT,[e[101]||(e[101]=p("button",{class:"search-btn"},"",-1)),e[102]||(e[102]=p("button",{class:"notification-btn"},"",-1)),p("div",{class:"user-profile",onClick:e[5]||(e[5]=He(()=>{},["stop"]))},[p("div",YT,[p("span",XT,ce(((a=n.currentUserData)==null?void 0:a.display_name)||((c=n.userEmail)==null?void 0:c.split("@")[0])),1),p("span",QT,ce(n.currentUserRole.charAt(0).toUpperCase()+n.currentUserRole.slice(1)),1)]),p("div",ZT,[p("button",{onClick:e[1]||(e[1]=(...l)=>n.toggleUserDropdown&&n.toggleUserDropdown(...l)),class:"user-dropdown-btn"},""),n.showUserDropdown?(re(),ae("div",eS,[p("button",{onClick:e[2]||(e[2]=(...l)=>n.openUserSettings&&n.openUserSettings(...l)),class:"dropdown-item"},"  User Settings "),n.canAccessSettings?(re(),ae("button",{key:0,onClick:e[3]||(e[3]=(...l)=>n.openAdminSettings&&n.openAdminSettings(...l)),class:"dropdown-item admin-item"},"  Admin Settings ")):Ae("",!0),p("button",{onClick:e[4]||(e[4]=(...l)=>n.logout&&n.logout(...l)),class:"dropdown-item logout-item"},"  Logout ")])):Ae("",!0)])])])])]),p("div",tS,[n.activeSection==="products"?(re(),ae("div",sS,[p("div",nS,[e[104]||(e[104]=p("h1",null,"Dashboard",-1)),n.canAddStock?(re(),ae("div",rS,[p("button",{onClick:e[6]||(e[6]=l=>n.showBulkImport=!0),class:"bulk-import-btn"},"  Bulk Import "),p("button",{onClick:e[7]||(e[7]=l=>n.showAddProduct=!0),class:"add-product-btn"}," + Add Product ")])):Ae("",!0)]),p("div",iS,[p("div",oS,[p("div",aS,[p("div",lS,[e[105]||(e[105]=p("h3",null,"Total Products",-1)),p("div",cS,ce(n.totalProducts.toLocaleString()),1),e[106]||(e[106]=p("div",{class:"stat-change neutral"},"Overall inventory count",-1))]),e[107]||(e[107]=p("div",{class:"stat-icon total"},"",-1))])]),p("div",uS,[p("div",dS,[p("div",hS,[e[108]||(e[108]=p("h3",null,"Categories",-1)),p("div",fS,ce(n.totalCategories.toLocaleString()),1),e[109]||(e[109]=p("div",{class:"stat-change neutral"},"Product categories",-1))]),e[110]||(e[110]=p("div",{class:"stat-icon categories"},"",-1))])]),p("div",pS,[p("div",gS,[p("div",mS,[e[111]||(e[111]=p("h3",null,"Recent Additions",-1)),p("div",vS,ce(n.recentProducts.toLocaleString()),1),e[112]||(e[112]=p("div",{class:"stat-change neutral"},"Added this week",-1))]),e[113]||(e[113]=p("div",{class:"stat-icon recent"},"",-1))])])]),p("div",_S,[p("div",yS,[e[116]||(e[116]=Ka('<div class="table-tabs" data-v-f6494d4d><span class="table-title" data-v-f6494d4d>Products list</span><button class="tab-btn active" data-v-f6494d4d>All</button><button class="tab-btn" data-v-f6494d4d>Active</button><button class="tab-btn" data-v-f6494d4d>Sold</button></div>',1)),p("div",wS,[p("div",bS,[Ce(p("input",{"onUpdate:modelValue":e[8]||(e[8]=l=>n.searchTerm=l),type:"text",placeholder:"Search",class:"search-input"},null,512),[[qe,n.searchTerm]]),e[114]||(e[114]=p("span",{class:"search-icon"},"",-1))]),e[115]||(e[115]=p("button",{class:"filter-btn"}," Filter",-1))])]),p("div",ES,[p("table",null,[p("thead",null,[p("tr",null,[p("th",TS,[p("input",{type:"checkbox",onChange:e[9]||(e[9]=(...l)=>n.toggleSelectAll&&n.toggleSelectAll(...l))},null,32)]),e[117]||(e[117]=p("th",{class:"image-col"},"Image",-1)),e[118]||(e[118]=p("th",{class:"title-col"},"Title ",-1)),e[119]||(e[119]=p("th",{class:"barcode-col"},"Barcode ",-1)),e[120]||(e[120]=p("th",{class:"category-col"},"Category ",-1)),e[121]||(e[121]=p("th",{class:"action-col"},"Actions",-1))])]),p("tbody",null,[(re(!0),ae(dt,null,mn(n.filteredProducts,l=>(re(),ae("tr",{key:l.id,class:"product-row"},[p("td",SS,[Ce(p("input",{type:"checkbox","onUpdate:modelValue":e[10]||(e[10]=d=>n.selectedProducts=d),value:l.id},null,8,IS),[[ya,n.selectedProducts]])]),p("td",kS,[p("img",{src:l.image_url||"/images/placeholder.png",alt:l.title,class:"product-image"},null,8,AS)]),p("td",CS,[p("span",PS,ce(l.title),1)]),p("td",RS,[p("span",OS,ce(l.barcode),1)]),p("td",DS,[p("span",xS,ce(l.category),1)]),p("td",US,[n.canEditStock?(re(),ae("button",{key:0,onClick:d=>n.editProduct(l),class:"action-btn edit-btn"},"  ",8,LS)):(re(),ae("span",NS,"-"))])]))),128))])]),n.filteredProducts.length===0?(re(),ae("div",MS,[e[122]||(e[122]=p("div",{class:"empty-icon"},"",-1)),e[123]||(e[123]=p("h3",null,"No Products Found",-1)),p("p",null,ce(n.searchTerm?"Try adjusting your search":"Start by adding your first product"),1),p("button",{onClick:e[11]||(e[11]=l=>n.showAddProduct=!0),class:"add-product-btn"},"Add Your First Product")])):Ae("",!0)])])])):Ae("",!0),n.activeSection==="settings"?(re(),ae("div",jS,[p("div",FS,[p("div",BS,[p("button",{onClick:e[12]||(e[12]=l=>n.activeSection="products"),class:"back-btn"},"  Back to Dashboard "),e[124]||(e[124]=p("h1",null,"Admin Settings",-1))]),n.adminActiveTab==="users"?(re(),ae("button",{key:0,onClick:e[13]||(e[13]=l=>n.showAddUser=!0),class:"add-product-btn"}," + Add User ")):Ae("",!0),n.adminActiveTab==="categories"?(re(),ae("button",{key:1,onClick:e[14]||(e[14]=l=>n.showAddCategory=!0),class:"add-product-btn"}," + Add Category ")):Ae("",!0)]),p("div",$S,[p("button",{onClick:e[15]||(e[15]=l=>n.adminActiveTab="users"),class:jt(["admin-tab",{active:n.adminActiveTab==="users"}])}," Users ",2),p("button",{onClick:e[16]||(e[16]=l=>n.adminActiveTab="categories"),class:jt(["admin-tab",{active:n.adminActiveTab==="categories"}])}," Categories ",2)]),n.adminActiveTab==="users"?(re(),ae("div",VS,[p("div",HS,[e[127]||(e[127]=Ka('<div class="table-tabs" data-v-f6494d4d><span class="table-title" data-v-f6494d4d>User Management</span><button class="tab-btn active" data-v-f6494d4d>All Users</button><button class="tab-btn" data-v-f6494d4d>Active</button><button class="tab-btn" data-v-f6494d4d>Inactive</button></div>',1)),p("div",qS,[p("div",WS,[Ce(p("input",{"onUpdate:modelValue":e[17]||(e[17]=l=>n.userSearchTerm=l),type:"text",placeholder:"Search Users",class:"search-input"},null,512),[[qe,n.userSearchTerm]]),e[125]||(e[125]=p("span",{class:"search-icon"},"",-1))]),e[126]||(e[126]=p("button",{class:"filter-btn"}," Filter",-1))])]),p("div",KS,[p("table",null,[p("thead",null,[p("tr",null,[p("th",zS,[p("input",{type:"checkbox",onChange:e[18]||(e[18]=(...l)=>n.toggleSelectAllUsers&&n.toggleSelectAllUsers(...l))},null,32)]),e[128]||(e[128]=p("th",{class:"name-col"},"Name ",-1)),e[129]||(e[129]=p("th",{class:"email-col"},"Email ",-1)),e[130]||(e[130]=p("th",{class:"role-col"},"Role ",-1)),e[131]||(e[131]=p("th",{class:"created-col"},"Created ",-1)),e[132]||(e[132]=p("th",{class:"status-col"},"Status ",-1)),e[133]||(e[133]=p("th",{class:"action-col"},"Action",-1))])]),p("tbody",null,[(re(!0),ae(dt,null,mn(n.filteredUsers,l=>(re(),ae("tr",{key:l.id,class:"product-row"},[p("td",GS,[Ce(p("input",{type:"checkbox","onUpdate:modelValue":e[19]||(e[19]=d=>n.selectedUsers=d),value:l.id},null,8,JS),[[ya,n.selectedUsers]])]),p("td",YS,[p("div",XS,[p("div",QS,ce(n.getUserInitials(l.display_name||l.email)),1),p("div",ZS,[p("div",eI,ce(l.display_name||l.email.split("@")[0]),1),p("div",tI,ce(l.role.charAt(0).toUpperCase()+l.role.slice(1)),1)])])]),p("td",sI,[p("span",nI,ce(l.email),1)]),p("td",rI,[p("span",{class:jt(["role-badge",l.role])},ce(l.role.charAt(0).toUpperCase()+l.role.slice(1)),3)]),p("td",iI,[p("span",oI,ce(n.formatDate(l.created_at)),1)]),p("td",aI,[p("span",{class:jt(["status-badge",l.status])},ce(l.status.charAt(0).toUpperCase()+l.status.slice(1)),3)]),p("td",lI,[p("button",{onClick:d=>n.editUser(l),class:"action-btn edit-btn"},"",8,cI)])]))),128))])]),n.filteredUsers.length===0?(re(),ae("div",uI,[e[134]||(e[134]=p("div",{class:"empty-icon"},"",-1)),e[135]||(e[135]=p("h3",null,"No Users Found",-1)),p("p",null,ce(n.userSearchTerm?"Try adjusting your search":"Start by adding your first user"),1),p("button",{onClick:e[20]||(e[20]=l=>n.showAddUser=!0),class:"add-product-btn"},"Add Your First User")])):Ae("",!0)])])):Ae("",!0)])):Ae("",!0),n.adminActiveTab==="categories"?(re(),ae("div",dI,[p("div",hI,[e[138]||(e[138]=p("div",{class:"table-tabs"},[p("span",{class:"table-title"},"Category Management"),p("button",{class:"tab-btn active"},"All Categories")],-1)),p("div",fI,[p("div",pI,[Ce(p("input",{"onUpdate:modelValue":e[21]||(e[21]=l=>n.categorySearchTerm=l),type:"text",placeholder:"Search Categories",class:"search-input"},null,512),[[qe,n.categorySearchTerm]]),e[136]||(e[136]=p("span",{class:"search-icon"},"",-1))]),e[137]||(e[137]=p("button",{class:"filter-btn"}," Filter",-1))])]),p("div",gI,[p("table",null,[p("thead",null,[p("tr",null,[p("th",mI,[p("input",{type:"checkbox",onChange:e[22]||(e[22]=(...l)=>n.toggleSelectAllCategories&&n.toggleSelectAllCategories(...l))},null,32)]),e[139]||(e[139]=p("th",{class:"name-col"},"Name ",-1)),e[140]||(e[140]=p("th",{class:"created-col"},"Created ",-1)),e[141]||(e[141]=p("th",{class:"action-col"},"Actions",-1))])]),p("tbody",null,[(re(!0),ae(dt,null,mn(n.filteredCategories,l=>(re(),ae("tr",{key:l.id,class:"product-row"},[p("td",vI,[Ce(p("input",{type:"checkbox","onUpdate:modelValue":e[23]||(e[23]=d=>n.selectedCategories=d),value:l.id},null,8,_I),[[ya,n.selectedCategories]])]),p("td",yI,[p("span",wI,ce(l.name),1)]),p("td",bI,[p("span",EI,ce(n.formatDate(l.created_at)),1)]),p("td",TI,[p("button",{onClick:d=>n.editCategory(l),class:"action-btn edit-btn"},"",8,SI)])]))),128))])]),n.filteredCategories.length===0?(re(),ae("div",II,[e[142]||(e[142]=p("div",{class:"empty-icon"},"",-1)),e[143]||(e[143]=p("h3",null,"No Categories Found",-1)),p("p",null,ce(n.categorySearchTerm?"Try adjusting your search":"Start by adding your first category"),1),p("button",{onClick:e[24]||(e[24]=l=>n.showAddCategory=!0),class:"add-product-btn"},"Add Your First Category")])):Ae("",!0)])])):Ae("",!0)]),n.showAddUser?(re(),ae("div",{key:0,class:"modal-overlay",onClick:e[33]||(e[33]=He(l=>n.showAddUser=!1,["self"]))},[p("div",kI,[p("div",AI,[e[144]||(e[144]=p("h2",null,"Add New User",-1)),p("button",{onClick:e[25]||(e[25]=l=>n.showAddUser=!1),class:"close-btn"},"")]),p("form",{onSubmit:e[32]||(e[32]=He((...l)=>n.addUser&&n.addUser(...l),["prevent"])),class:"product-form"},[p("div",CI,[p("div",PI,[e[145]||(e[145]=p("label",null,"Display Name *",-1)),Ce(p("input",{"onUpdate:modelValue":e[26]||(e[26]=l=>n.newUser.displayName=l),type:"text",required:"",class:"form-input"},null,512),[[qe,n.newUser.displayName]])]),p("div",RI,[e[146]||(e[146]=p("label",null,"Email *",-1)),Ce(p("input",{"onUpdate:modelValue":e[27]||(e[27]=l=>n.newUser.email=l),type:"email",required:"",class:"form-input"},null,512),[[qe,n.newUser.email]])])]),p("div",OI,[p("div",DI,[e[147]||(e[147]=p("label",null,"Password *",-1)),Ce(p("input",{"onUpdate:modelValue":e[28]||(e[28]=l=>n.newUser.password=l),type:"password",required:"",class:"form-input",minlength:"6"},null,512),[[qe,n.newUser.password]])]),p("div",xI,[e[149]||(e[149]=p("label",null,"Role *",-1)),Ce(p("select",{"onUpdate:modelValue":e[29]||(e[29]=l=>n.newUser.role=l),required:"",class:"form-input"},e[148]||(e[148]=[p("option",{value:"admin"},"Admin - Can do everything",-1),p("option",{value:"lister"},"Lister - Can add and edit stock (can't delete)",-1),p("option",{value:"user"},"User - Can view stock only",-1)]),512),[[$n,n.newUser.role]])])]),p("div",UI,[p("div",LI,[e[151]||(e[151]=p("label",null,"Status",-1)),Ce(p("select",{"onUpdate:modelValue":e[30]||(e[30]=l=>n.newUser.status=l),class:"form-input"},e[150]||(e[150]=[p("option",{value:"active"},"Active",-1),p("option",{value:"inactive"},"Inactive",-1)]),512),[[$n,n.newUser.status]])])]),p("div",NI,[p("button",{type:"button",onClick:e[31]||(e[31]=l=>n.showAddUser=!1),class:"cancel-btn"},"Cancel"),p("button",{type:"submit",disabled:n.loading,class:"submit-btn"},ce(n.loading?"Creating...":"Create User"),9,MI)])],32)])])):Ae("",!0),n.showEditUser?(re(),ae("div",{key:1,class:"modal-overlay",onClick:e[43]||(e[43]=He(l=>n.showEditUser=!1,["self"]))},[p("div",jI,[p("div",FI,[e[152]||(e[152]=p("h2",null,"Edit User",-1)),p("button",{onClick:e[34]||(e[34]=l=>n.showEditUser=!1),class:"close-btn"},"")]),p("form",{onSubmit:e[42]||(e[42]=He((...l)=>n.updateUser&&n.updateUser(...l),["prevent"])),class:"product-form"},[p("div",BI,[p("div",$I,[e[153]||(e[153]=p("label",null,"Display Name *",-1)),Ce(p("input",{"onUpdate:modelValue":e[35]||(e[35]=l=>n.editingUser.display_name=l),type:"text",required:"",class:"form-input"},null,512),[[qe,n.editingUser.display_name]])]),p("div",VI,[e[154]||(e[154]=p("label",null,"Email *",-1)),Ce(p("input",{"onUpdate:modelValue":e[36]||(e[36]=l=>n.editingUser.email=l),type:"email",required:"",class:"form-input",readonly:""},null,512),[[qe,n.editingUser.email]]),e[155]||(e[155]=p("small",{style:{color:"#94a3b8","font-size":"0.75rem"}},"Email cannot be changed",-1))])]),p("div",HI,[p("div",qI,[e[157]||(e[157]=p("label",null,"Role *",-1)),Ce(p("select",{"onUpdate:modelValue":e[37]||(e[37]=l=>n.editingUser.role=l),required:"",class:"form-input"},e[156]||(e[156]=[p("option",{value:"admin"},"Admin - Can do everything",-1),p("option",{value:"lister"},"Lister - Can add and edit stock (can't delete)",-1),p("option",{value:"user"},"User - Can view stock only",-1)]),512),[[$n,n.editingUser.role]])]),p("div",WI,[e[159]||(e[159]=p("label",null,"Status",-1)),Ce(p("select",{"onUpdate:modelValue":e[38]||(e[38]=l=>n.editingUser.status=l),class:"form-input"},e[158]||(e[158]=[p("option",{value:"active"},"Active",-1),p("option",{value:"inactive"},"Inactive",-1)]),512),[[$n,n.editingUser.status]])])]),p("div",KI,[p("div",zI,[e[160]||(e[160]=p("label",null,"Reset Password",-1)),Ce(p("input",{"onUpdate:modelValue":e[39]||(e[39]=l=>n.editingUser.newPassword=l),type:"password",class:"form-input",minlength:"6",placeholder:"Leave blank to keep current password"},null,512),[[qe,n.editingUser.newPassword]]),e[161]||(e[161]=p("small",{style:{color:"#94a3b8","font-size":"0.75rem"}},"Only fill if you want to reset the password",-1))])]),p("div",GI,[p("button",{type:"button",onClick:e[40]||(e[40]=l=>n.showEditUser=!1),class:"cancel-btn"},"Cancel"),p("button",{type:"button",onClick:e[41]||(e[41]=l=>n.deleteUser(n.editingUser.id)),class:"delete-btn",disabled:n.editingUser.email===n.userEmail},"Delete User",8,JI),p("button",{type:"submit",disabled:n.loading,class:"submit-btn"},ce(n.loading?"Updating...":"Update User"),9,YI)])],32)])])):Ae("",!0),n.showAddProduct?(re(),ae("div",{key:2,class:"modal-overlay",onClick:e[51]||(e[51]=He(l=>n.showAddProduct=!1,["self"]))},[p("div",XI,[p("div",QI,[e[162]||(e[162]=p("h2",null,"Add New Product",-1)),p("button",{onClick:e[44]||(e[44]=l=>n.showAddProduct=!1),class:"close-btn"},"")]),p("form",{onSubmit:e[50]||(e[50]=He((...l)=>n.addProduct&&n.addProduct(...l),["prevent"])),class:"product-form"},[p("div",ZI,[p("div",ek,[e[163]||(e[163]=p("label",null,"Product Image",-1)),p("input",{type:"file",onChange:e[45]||(e[45]=(...l)=>n.handleImageUpload&&n.handleImageUpload(...l)),accept:"image/*",class:"file-input"},null,32),n.newProduct.imagePreview?(re(),ae("div",tk,[p("img",{src:n.newProduct.imagePreview,alt:"Preview"},null,8,sk)])):Ae("",!0)])]),p("div",nk,[p("div",rk,[e[164]||(e[164]=p("label",null,"Title *",-1)),Ce(p("input",{"onUpdate:modelValue":e[46]||(e[46]=l=>n.newProduct.title=l),type:"text",required:"",class:"form-input"},null,512),[[qe,n.newProduct.title]])]),p("div",ik,[e[165]||(e[165]=p("label",null,"Barcode *",-1)),Ce(p("input",{"onUpdate:modelValue":e[47]||(e[47]=l=>n.newProduct.barcode=l),type:"text",required:"",class:"form-input"},null,512),[[qe,n.newProduct.barcode]])])]),p("div",ok,[p("div",ak,[e[167]||(e[167]=p("label",null,"Category *",-1)),Ce(p("select",{"onUpdate:modelValue":e[48]||(e[48]=l=>n.newProduct.category=l),required:"",class:"form-input"},[e[166]||(e[166]=p("option",{value:""},"Select a category",-1)),(re(!0),ae(dt,null,mn(n.categories,l=>(re(),ae("option",{key:l.id,value:l.name},ce(l.name),9,lk))),128))],512),[[$n,n.newProduct.category]])])]),p("div",ck,[p("button",{type:"button",onClick:e[49]||(e[49]=l=>n.showAddProduct=!1),class:"cancel-btn"},"Cancel"),p("button",{type:"submit",disabled:n.loading,class:"submit-btn"},ce(n.loading?"Adding...":"Add Product"),9,uk)])],32)])])):Ae("",!0),n.showEditProduct?(re(),ae("div",{key:3,class:"modal-overlay",onClick:e[60]||(e[60]=He(l=>n.showEditProduct=!1,["self"]))},[p("div",dk,[p("div",hk,[e[168]||(e[168]=p("h2",null,"Edit Product",-1)),p("button",{onClick:e[52]||(e[52]=l=>n.showEditProduct=!1),class:"close-btn"},"")]),p("form",{onSubmit:e[59]||(e[59]=He((...l)=>n.updateProduct&&n.updateProduct(...l),["prevent"])),class:"product-form"},[p("div",fk,[p("div",pk,[e[169]||(e[169]=p("label",null,"Product Image",-1)),p("input",{type:"file",onChange:e[53]||(e[53]=(...l)=>n.handleEditImageUpload&&n.handleEditImageUpload(...l)),accept:"image/*",class:"file-input"},null,32),n.editingProduct.image_url?(re(),ae("div",gk,[p("img",{src:n.editingProduct.image_url,alt:"Current Image"},null,8,mk)])):Ae("",!0)])]),p("div",vk,[p("div",_k,[e[170]||(e[170]=p("label",null,"Title *",-1)),Ce(p("input",{"onUpdate:modelValue":e[54]||(e[54]=l=>n.editingProduct.title=l),type:"text",required:"",class:"form-input"},null,512),[[qe,n.editingProduct.title]])]),p("div",yk,[e[171]||(e[171]=p("label",null,"Barcode *",-1)),Ce(p("input",{"onUpdate:modelValue":e[55]||(e[55]=l=>n.editingProduct.barcode=l),type:"text",required:"",class:"form-input"},null,512),[[qe,n.editingProduct.barcode]])])]),p("div",wk,[p("div",bk,[e[173]||(e[173]=p("label",null,"Category *",-1)),Ce(p("select",{"onUpdate:modelValue":e[56]||(e[56]=l=>n.editingProduct.category=l),required:"",class:"form-input"},[e[172]||(e[172]=p("option",{value:""},"Select a category",-1)),(re(!0),ae(dt,null,mn(n.categories,l=>(re(),ae("option",{key:l.id,value:l.name},ce(l.name),9,Ek))),128))],512),[[$n,n.editingProduct.category]])])]),p("div",Tk,[p("button",{type:"button",onClick:e[57]||(e[57]=l=>n.showEditProduct=!1),class:"cancel-btn"},"Cancel"),n.canDeleteStock?(re(),ae("button",{key:0,type:"button",onClick:e[58]||(e[58]=l=>n.deleteProduct(n.editingProduct.id)),class:"delete-btn"}," Delete Product ")):Ae("",!0),p("button",{type:"submit",disabled:n.loading,class:"submit-btn"},ce(n.loading?"Updating...":"Update Product"),9,Sk)])],32)])])):Ae("",!0),n.showConfirmDialog?(re(),ae("div",Ik,[p("div",kk,[p("div",Ak,[p("div",Ck,ce(n.confirmDialog.title.includes("Delete")?"":""),1),p("h3",null,ce(n.confirmDialog.title),1)]),p("div",Pk,[p("p",null,ce(n.confirmDialog.message),1)]),p("div",Rk,[p("button",{onClick:e[61]||(e[61]=(...l)=>n.confirmDialog.onCancel&&n.confirmDialog.onCancel(...l)),class:"modal-cancel-btn"},ce(n.confirmDialog.cancelText),1),p("button",{onClick:e[62]||(e[62]=(...l)=>n.confirmDialog.onConfirm&&n.confirmDialog.onConfirm(...l)),class:"modal-confirm-btn"},ce(n.confirmDialog.confirmText),1)])])])):Ae("",!0),n.showSuccessMessage?(re(),ae("div",Ok,[p("div",{class:jt(["custom-modal",{"success-modal":n.successMessage.title==="Success","error-modal":n.successMessage.title==="Error"}])},[p("div",Dk,[p("div",xk,ce(n.successMessage.title==="Success"?"":""),1),p("h3",null,ce(n.successMessage.title),1)]),p("div",Uk,[p("p",null,ce(n.successMessage.message),1)]),p("div",Lk,[p("button",{onClick:e[63]||(e[63]=(...l)=>n.closeSuccessMessage&&n.closeSuccessMessage(...l)),class:"modal-ok-btn"}," OK ")])],2)])):Ae("",!0),n.showAddCategory?(re(),ae("div",{key:6,class:"modal-overlay",onClick:e[68]||(e[68]=He(l=>n.showAddCategory=!1,["self"]))},[p("div",Nk,[p("div",Mk,[e[174]||(e[174]=p("h2",null,"Add New Category",-1)),p("button",{onClick:e[64]||(e[64]=l=>n.showAddCategory=!1),class:"close-btn"},"")]),p("form",{onSubmit:e[67]||(e[67]=He((...l)=>n.addCategory&&n.addCategory(...l),["prevent"])),class:"product-form"},[p("div",jk,[p("div",Fk,[e[175]||(e[175]=p("label",null,"Category Name *",-1)),Ce(p("input",{"onUpdate:modelValue":e[65]||(e[65]=l=>n.newCategory.name=l),type:"text",required:"",class:"form-input"},null,512),[[qe,n.newCategory.name]])])]),p("div",Bk,[p("button",{type:"button",onClick:e[66]||(e[66]=l=>n.showAddCategory=!1),class:"cancel-btn"},"Cancel"),p("button",{type:"submit",disabled:n.loading,class:"submit-btn"},ce(n.loading?"Creating...":"Create Category"),9,$k)])],32)])])):Ae("",!0),n.showEditCategory?(re(),ae("div",{key:7,class:"modal-overlay",onClick:e[74]||(e[74]=He(l=>n.showEditCategory=!1,["self"]))},[p("div",Vk,[p("div",Hk,[e[176]||(e[176]=p("h2",null,"Edit Category",-1)),p("button",{onClick:e[69]||(e[69]=l=>n.showEditCategory=!1),class:"close-btn"},"")]),p("form",{onSubmit:e[73]||(e[73]=He((...l)=>n.updateCategory&&n.updateCategory(...l),["prevent"])),class:"product-form"},[p("div",qk,[p("div",Wk,[e[177]||(e[177]=p("label",null,"Category Name *",-1)),Ce(p("input",{"onUpdate:modelValue":e[70]||(e[70]=l=>n.editingCategory.name=l),type:"text",required:"",class:"form-input"},null,512),[[qe,n.editingCategory.name]])])]),p("div",Kk,[p("button",{type:"button",onClick:e[71]||(e[71]=l=>n.showEditCategory=!1),class:"cancel-btn"},"Cancel"),p("button",{type:"button",onClick:e[72]||(e[72]=l=>n.deleteCategory(n.editingCategory.id)),class:"delete-btn"},"Delete Category"),p("button",{type:"submit",disabled:n.loading,class:"submit-btn"},ce(n.loading?"Updating...":"Update Category"),9,zk)])],32)])])):Ae("",!0),n.showUserSettings?(re(),ae("div",{key:8,class:"modal-overlay",onClick:e[82]||(e[82]=He((...l)=>n.closeUserSettings&&n.closeUserSettings(...l),["self"]))},[p("div",Gk,[p("div",Jk,[e[178]||(e[178]=p("h2",null,"User Settings",-1)),p("button",{onClick:e[75]||(e[75]=(...l)=>n.closeUserSettings&&n.closeUserSettings(...l)),class:"close-btn"},"")]),p("form",{onSubmit:e[81]||(e[81]=He((...l)=>n.updateUserSettings&&n.updateUserSettings(...l),["prevent"])),class:"product-form"},[p("div",Yk,[p("div",Xk,[e[179]||(e[179]=p("label",null,"Display Name *",-1)),Ce(p("input",{"onUpdate:modelValue":e[76]||(e[76]=l=>n.userSettingsForm.display_name=l),type:"text",required:"",class:"form-input"},null,512),[[qe,n.userSettingsForm.display_name]])])]),p("div",Qk,[e[183]||(e[183]=p("h3",{class:"section-title"},"Change Password",-1)),e[184]||(e[184]=p("p",{class:"section-subtitle"},"Leave blank to keep current password",-1)),p("div",Zk,[p("div",eA,[e[180]||(e[180]=p("label",null,"Current Password",-1)),Ce(p("input",{"onUpdate:modelValue":e[77]||(e[77]=l=>n.userSettingsForm.current_password=l),type:"password",class:"form-input",placeholder:"Enter current password"},null,512),[[qe,n.userSettingsForm.current_password]])])]),p("div",tA,[p("div",sA,[e[181]||(e[181]=p("label",null,"New Password",-1)),Ce(p("input",{"onUpdate:modelValue":e[78]||(e[78]=l=>n.userSettingsForm.new_password=l),type:"password",class:"form-input",minlength:"6",placeholder:"Enter new password"},null,512),[[qe,n.userSettingsForm.new_password]])]),p("div",nA,[e[182]||(e[182]=p("label",null,"Confirm New Password",-1)),Ce(p("input",{"onUpdate:modelValue":e[79]||(e[79]=l=>n.userSettingsForm.confirm_password=l),type:"password",class:"form-input",minlength:"6",placeholder:"Confirm new password"},null,512),[[qe,n.userSettingsForm.confirm_password]])])])]),p("div",rA,[p("button",{type:"button",onClick:e[80]||(e[80]=(...l)=>n.closeUserSettings&&n.closeUserSettings(...l)),class:"cancel-btn"},"Cancel"),p("button",{type:"submit",disabled:n.loading,class:"submit-btn"},ce(n.loading?"Updating...":"Update Settings"),9,iA)])],32)])])):Ae("",!0),n.showBulkImport?(re(),ae("div",{key:9,class:"modal-overlay",onClick:e[99]||(e[99]=He(l=>n.showBulkImport=!1,["self"]))},[p("div",oA,[p("div",aA,[e[185]||(e[185]=p("h2",null,"Bulk Import Products",-1)),p("button",{onClick:e[83]||(e[83]=l=>n.showBulkImport=!1),class:"close-btn"},"")]),p("div",lA,[p("button",{onClick:e[84]||(e[84]=l=>n.bulkImportActiveTab="csv"),class:jt(["import-tab",{active:n.bulkImportActiveTab==="csv"}])},"  CSV Import ",2),p("button",{onClick:e[85]||(e[85]=l=>n.bulkImportActiveTab="images"),class:jt(["import-tab",{active:n.bulkImportActiveTab==="images"}])},"  Image Upload ",2)]),n.bulkImportActiveTab==="csv"?(re(),ae("div",cA,[n.csvPreview.length?Ae("",!0):(re(),ae("div",uA,[e[188]||(e[188]=p("div",{class:"upload-info"},[p("h3",null,"Upload CSV File"),p("p",null,[ro("CSV should contain columns: "),p("strong",null,"title, barcode, category")]),p("p",{class:"upload-note"},"Make sure your CSV has headers and uses comma separation.")],-1)),p("div",{class:"file-upload-area",onDrop:e[88]||(e[88]=(...l)=>n.handleCSVDrop&&n.handleCSVDrop(...l)),onDragover:e[89]||(e[89]=He(()=>{},["prevent"])),onDragenter:e[90]||(e[90]=He(()=>{},["prevent"]))},[p("input",{type:"file",onChange:e[86]||(e[86]=(...l)=>n.handleCSVUpload&&n.handleCSVUpload(...l)),accept:".csv",class:"file-input-hidden",ref:"csvFileInput"},null,544),p("div",dA,[e[187]||(e[187]=p("div",{class:"upload-icon"},"",-1)),p("p",null,[e[186]||(e[186]=ro("Drag & drop your CSV file here or ")),p("button",{onClick:e[87]||(e[87]=l=>t.$refs.csvFileInput.click()),class:"upload-link"},"browse")])])],32)])),n.csvPreview.length?(re(),ae("div",hA,[p("div",fA,[p("h3",null,"CSV Preview ("+ce(n.csvData.length)+" products)",1),p("div",pA,[p("button",{onClick:e[91]||(e[91]=(...l)=>n.clearCSVData&&n.clearCSVData(...l)),class:"secondary-btn"},"Clear"),p("button",{onClick:e[92]||(e[92]=(...l)=>n.importCSVProducts&&n.importCSVProducts(...l)),disabled:n.loading,class:"import-btn"},ce(n.loading?"Importing...":"Import Products"),9,gA)])]),p("div",mA,[p("table",null,[e[189]||(e[189]=p("thead",null,[p("tr",null,[p("th",null,"Title"),p("th",null,"Barcode"),p("th",null,"Category")])],-1)),p("tbody",null,[(re(!0),ae(dt,null,mn(n.csvPreview,(l,d)=>(re(),ae("tr",{key:d},[p("td",null,ce(l.title||"Missing"),1),p("td",null,ce(l.barcode||"Missing"),1),p("td",null,ce(l.category||"Missing"),1)]))),128))])])])])):Ae("",!0),n.importProgress>0?(re(),ae("div",vA,[p("div",_A,[p("div",{class:"progress-fill",style:No({width:n.importProgress+"%"})},null,4)]),p("p",null,ce(n.importStatus),1)])):Ae("",!0)])):Ae("",!0),n.bulkImportActiveTab==="images"?(re(),ae("div",yA,[p("div",wA,[e[195]||(e[195]=p("div",{class:"upload-info"},[p("h3",null,"Upload Product Images"),p("p",null,'Image filenames should match product barcodes (e.g., "12345.jpg" for barcode "12345")'),p("p",{class:"upload-note"},"Supported formats: JPG, PNG, WebP")],-1)),p("div",{class:"file-upload-area",onDrop:e[95]||(e[95]=(...l)=>n.handleImageDrop&&n.handleImageDrop(...l)),onDragover:e[96]||(e[96]=He(()=>{},["prevent"])),onDragenter:e[97]||(e[97]=He(()=>{},["prevent"]))},[p("input",{type:"file",onChange:e[93]||(e[93]=(...l)=>n.handleBulkImageUpload&&n.handleBulkImageUpload(...l)),accept:"image/*",multiple:"",class:"file-input-hidden",ref:"imageFileInput"},null,544),p("div",bA,[e[191]||(e[191]=p("div",{class:"upload-icon"},"",-1)),p("p",null,[e[190]||(e[190]=ro("Drag & drop your images here or ")),p("button",{onClick:e[94]||(e[94]=l=>t.$refs.imageFileInput.click()),class:"upload-link"},"browse")])])],32),n.imageMatchResults.length?(re(),ae("div",EA,[p("div",TA,[e[192]||(e[192]=p("h3",null,"Image Matching Results",-1)),p("button",{onClick:e[98]||(e[98]=(...l)=>n.uploadMatchedImages&&n.uploadMatchedImages(...l)),disabled:n.loading,class:"import-btn"},ce(n.loading?"Uploading...":"Upload Images"),9,SA)]),p("div",IA,[p("div",kA,[p("span",AA,ce(n.imageMatchResults.filter(l=>l.matched).length),1),e[193]||(e[193]=p("span",null,"Matched",-1))]),p("div",CA,[p("span",PA,ce(n.imageMatchResults.filter(l=>!l.matched).length),1),e[194]||(e[194]=p("span",null,"Unmatched",-1))])]),p("div",RA,[(re(!0),ae(dt,null,mn(n.imageMatchResults,l=>(re(),ae("div",{key:l.filename,class:jt(["match-item",{matched:l.matched}])},[p("div",OA,[p("strong",null,ce(l.filename),1),l.matched?(re(),ae("span",DA," "+ce(l.productTitle),1)):(re(),ae("span",xA,"No matching barcode found"))]),p("img",{src:l.preview,alt:l.filename,class:"match-preview"},null,8,UA)],2))),128))])])):Ae("",!0)])])):Ae("",!0)])])):Ae("",!0),n.showUserDropdown?(re(),ae("div",{key:10,onClick:e[100]||(e[100]=(...l)=>n.closeUserDropdown&&n.closeUserDropdown(...l)),class:"dropdown-overlay"})):Ae("",!0)])}const NA=Nl(qT,[["render",LA],["__scopeId","data-v-f6494d4d"]]),MA=[{path:"/",name:"Login",component:N1},{path:"/dashboard",name:"Dashboard",component:NA,meta:{requiresAuth:!0}}],ng=J_({history:S_("/Supreme-DB/"),routes:MA});ng.beforeEach((t,e,s)=>{const n=t.matched.some(i=>i.meta.requiresAuth),r=at.currentUser;n&&!r?s("/"):t.path==="/"&&r?s("/dashboard"):s()});const rg=Vv(zv);rg.use(ng);rg.mount("#app");const ig=document.createElement("style");ig.innerHTML=`
  html,
  body {
    margin: 0;
    padding: 0;
    overflow: hidden; /* Prevent scrollbars if background elements overflow */
  }
`;document.head.appendChild(ig);
